var De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uu(O){return O&&O.__esModule&&Object.prototype.hasOwnProperty.call(O,"default")?O.default:O}var Vo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Vo.exports;(function(O,L){(function(){var n,y="4.17.21",c=200,b="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",h="Invalid `variable` option passed into `_.template`",a="__lodash_hash_undefined__",p=500,C="__lodash_placeholder__",f=1,m=2,_=4,u=1,w=2,v=1,R=2,o=4,d=8,S=16,k=32,T=64,D=128,M=256,W=512,K=30,Z="...",z=800,G=16,j=1,F=2,q=3,X=1/0,it=9007199254740991,mt=17976931348623157e292,wt=0/0,At=4294967295,Pt=At-1,Ft=At>>>1,Ie=[["ary",D],["bind",v],["bindKey",R],["curry",d],["curryRight",S],["flip",W],["partial",k],["partialRight",T],["rearg",M]],Mt="[object Arguments]",le="[object Array]",re="[object AsyncFunction]",kt="[object Boolean]",Lt="[object Date]",lr="[object DOMException]",Ne="[object Error]",Vt="[object Function]",sn="[object GeneratorFunction]",he="[object Map]",Ee="[object Number]",di="[object Null]",Te="[object Object]",hr="[object Promise]",gi="[object Proxy]",wn="[object RegExp]",ie="[object Set]",An="[object String]",Fn="[object Symbol]",ns="[object Undefined]",Cn="[object WeakMap]",Mn="[object WeakSet]",xn="[object ArrayBuffer]",St="[object DataView]",fr="[object Float32Array]",pr="[object Float64Array]",dr="[object Int8Array]",gr="[object Int16Array]",mr="[object Int32Array]",vr="[object Uint8Array]",yr="[object Uint8ClampedArray]",br="[object Uint16Array]",_r="[object Uint32Array]",wr=/\b__p \+= '';/g,Ar=/\b(__p \+=) '' \+/g,rs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mi=/&(?:amp|lt|gt|quot|#39);/g,vi=/[&<>"']/g,is=RegExp(mi.source),os=RegExp(vi.source),Cr=/<%-([\s\S]+?)%>/g,ss=/<%([\s\S]+?)%>/g,be=/<%=([\s\S]+?)%>/g,as=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,us=/^\w*$/,cs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xr=/[\\^$.*+?()[\]{}|]/g,an=RegExp(xr.source),Sr=/^\s+/,yi=/\s/,bi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_i=/\{\n\/\* \[wrapped with (.+)\] \*/,wi=/,? & /,ls=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,hs=/[()=,{}\[\]\/\s]/,fs=/\\(\\)?/g,Un=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ai=/\w*$/,Ci=/^[-+]0x[0-9a-f]+$/i,ps=/^0b[01]+$/i,ds=/^\[object .+?Constructor\]$/,gs=/^0o[0-7]+$/i,ms=/^(?:0|[1-9]\d*)$/,vs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jn=/($^)/,ys=/['\n\r\u2028\u2029\\]/g,Wn="\\ud800-\\udfff",xi="\\u0300-\\u036f",Je="\\ufe20-\\ufe2f",bs="\\u20d0-\\u20ff",Si=xi+Je+bs,Ei="\\u2700-\\u27bf",Ti="a-z\\xdf-\\xf6\\xf8-\\xff",_s="\\xac\\xb1\\xd7\\xf7",ws="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",As="\\u2000-\\u206f",Cs=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ri="A-Z\\xc0-\\xd6\\xd8-\\xde",qn="\\ufe0e\\ufe0f",ki=_s+ws+As+Cs,Er="['’]",Tr="["+Wn+"]",Oi="["+ki+"]",Hn="["+Si+"]",Li="\\d+",xs="["+Ei+"]",Pi="["+Ti+"]",Di="[^"+Wn+ki+Li+Ei+Ti+Ri+"]",Rr="\\ud83c[\\udffb-\\udfff]",Ss="(?:"+Hn+"|"+Rr+")",zn="[^"+Wn+"]",kr="(?:\\ud83c[\\udde6-\\uddff]){2}",Or="[\\ud800-\\udbff][\\udc00-\\udfff]",un="["+Ri+"]",Ii="\\u200d",Ni="(?:"+Pi+"|"+Di+")",Es="(?:"+un+"|"+Di+")",Bi="(?:"+Er+"(?:d|ll|m|re|s|t|ve))?",Fi="(?:"+Er+"(?:D|LL|M|RE|S|T|VE))?",Mi=Ss+"?",Ui="["+qn+"]?",Re="(?:"+Ii+"(?:"+[zn,kr,Or].join("|")+")"+Ui+Mi+")*",Ts="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ji="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wi=Ui+Mi+Re,Ke="(?:"+[xs,kr,Or].join("|")+")"+Wi,Rs="(?:"+[zn+Hn+"?",Hn,kr,Or,Tr].join("|")+")",Lr=RegExp(Er,"g"),ks=RegExp(Hn,"g"),Pr=RegExp(Rr+"(?="+Rr+")|"+Rs+Wi,"g"),Os=RegExp([un+"?"+Pi+"+"+Bi+"(?="+[Oi,un,"$"].join("|")+")",Es+"+"+Fi+"(?="+[Oi,un+Ni,"$"].join("|")+")",un+"?"+Ni+"+"+Bi,un+"+"+Fi,ji,Ts,Li,Ke].join("|"),"g"),Ls=RegExp("["+Ii+Wn+Si+qn+"]"),Ps=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Dr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ds=-1,Rt={};Rt[fr]=Rt[pr]=Rt[dr]=Rt[gr]=Rt[mr]=Rt[vr]=Rt[yr]=Rt[br]=Rt[_r]=!0,Rt[Mt]=Rt[le]=Rt[xn]=Rt[kt]=Rt[St]=Rt[Lt]=Rt[Ne]=Rt[Vt]=Rt[he]=Rt[Ee]=Rt[Te]=Rt[wn]=Rt[ie]=Rt[An]=Rt[Cn]=!1;var Tt={};Tt[Mt]=Tt[le]=Tt[xn]=Tt[St]=Tt[kt]=Tt[Lt]=Tt[fr]=Tt[pr]=Tt[dr]=Tt[gr]=Tt[mr]=Tt[he]=Tt[Ee]=Tt[Te]=Tt[wn]=Tt[ie]=Tt[An]=Tt[Fn]=Tt[vr]=Tt[yr]=Tt[br]=Tt[_r]=!0,Tt[Ne]=Tt[Vt]=Tt[Cn]=!1;var Is={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Vn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ns={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Sn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bs=parseFloat,Fs=parseInt,cn=typeof De=="object"&&De&&De.Object===Object&&De,Ms=typeof self=="object"&&self&&self.Object===Object&&self,Wt=cn||Ms||Function("return this")(),Ir=L&&!L.nodeType&&L,Ge=Ir&&!0&&O&&!O.nodeType&&O,qi=Ge&&Ge.exports===Ir,Nr=qi&&cn.process,oe=function(){try{var i=Ge&&Ge.require&&Ge.require("util").types;return i||Nr&&Nr.binding&&Nr.binding("util")}catch{}}(),Hi=oe&&oe.isArrayBuffer,zi=oe&&oe.isDate,Jn=oe&&oe.isMap,Be=oe&&oe.isRegExp,Vi=oe&&oe.isSet,Ji=oe&&oe.isTypedArray;function Yt(i,A,E){switch(E.length){case 0:return i.call(A);case 1:return i.call(A,E[0]);case 2:return i.call(A,E[0],E[1]);case 3:return i.call(A,E[0],E[1],E[2])}return i.apply(A,E)}function Us(i,A,E,I){for(var J=-1,Y=i==null?0:i.length;++J<Y;){var st=i[J];A(I,st,E(st),i)}return I}function Zt(i,A){for(var E=-1,I=i==null?0:i.length;++E<I&&A(i[E],E,i)!==!1;);return i}function js(i,A){for(var E=i==null?0:i.length;E--&&A(i[E],E,i)!==!1;);return i}function Br(i,A){for(var E=-1,I=i==null?0:i.length;++E<I;)if(!A(i[E],E,i))return!1;return!0}function Fe(i,A){for(var E=-1,I=i==null?0:i.length,J=0,Y=[];++E<I;){var st=i[E];A(st,E,i)&&(Y[J++]=st)}return Y}function Kn(i,A){var E=i==null?0:i.length;return!!E&&Ue(i,A,0)>-1}function Fr(i,A,E){for(var I=-1,J=i==null?0:i.length;++I<J;)if(E(A,i[I]))return!0;return!1}function Ot(i,A){for(var E=-1,I=i==null?0:i.length,J=Array(I);++E<I;)J[E]=A(i[E],E,i);return J}function Me(i,A){for(var E=-1,I=A.length,J=i.length;++E<I;)i[J+E]=A[E];return i}function Mr(i,A,E,I){var J=-1,Y=i==null?0:i.length;for(I&&Y&&(E=i[++J]);++J<Y;)E=A(E,i[J],J,i);return E}function Ws(i,A,E,I){var J=i==null?0:i.length;for(I&&J&&(E=i[--J]);J--;)E=A(E,i[J],J,i);return E}function Ur(i,A){for(var E=-1,I=i==null?0:i.length;++E<I;)if(A(i[E],E,i))return!0;return!1}var qs=jr("length");function Ki(i){return i.split("")}function Hs(i){return i.match(ls)||[]}function Gi(i,A,E){var I;return E(i,function(J,Y,st){if(A(J,Y,st))return I=Y,!1}),I}function ht(i,A,E,I){for(var J=i.length,Y=E+(I?1:-1);I?Y--:++Y<J;)if(A(i[Y],Y,i))return Y;return-1}function Ue(i,A,E){return A===A?Qs(i,A,E):ht(i,$i,E)}function Gn(i,A,E,I){for(var J=E-1,Y=i.length;++J<Y;)if(I(i[J],A))return J;return-1}function $i(i){return i!==i}function Xi(i,A){var E=i==null?0:i.length;return E?Hr(i,A)/E:wt}function jr(i){return function(A){return A==null?n:A[i]}}function Wr(i){return function(A){return i==null?n:i[A]}}function qr(i,A,E,I,J){return J(i,function(Y,st,rt){E=I?(I=!1,Y):A(E,Y,st,rt)}),E}function zs(i,A){var E=i.length;for(i.sort(A);E--;)i[E]=i[E].value;return i}function Hr(i,A){for(var E,I=-1,J=i.length;++I<J;){var Y=A(i[I]);Y!==n&&(E=E===n?Y:E+Y)}return E}function zr(i,A){for(var E=-1,I=Array(i);++E<i;)I[E]=A(E);return I}function Vs(i,A){return Ot(A,function(E){return[E,i[E]]})}function Yi(i){return i&&i.slice(0,eo(i)+1).replace(Sr,"")}function Qt(i){return function(A){return i(A)}}function Vr(i,A){return Ot(A,function(E){return i[E]})}function En(i,A){return i.has(A)}function Zi(i,A){for(var E=-1,I=i.length;++E<I&&Ue(A,i[E],0)>-1;);return E}function Qi(i,A){for(var E=i.length;E--&&Ue(A,i[E],0)>-1;);return E}function Js(i,A){for(var E=i.length,I=0;E--;)i[E]===A&&++I;return I}var ln=Wr(Is),Ks=Wr(Vn);function Gs(i){return"\\"+Sn[i]}function $s(i,A){return i==null?n:i[A]}function hn(i){return Ls.test(i)}function Xs(i){return Ps.test(i)}function Ys(i){for(var A,E=[];!(A=i.next()).done;)E.push(A.value);return E}function Jr(i){var A=-1,E=Array(i.size);return i.forEach(function(I,J){E[++A]=[J,I]}),E}function to(i,A){return function(E){return i(A(E))}}function je(i,A){for(var E=-1,I=i.length,J=0,Y=[];++E<I;){var st=i[E];(st===A||st===C)&&(i[E]=C,Y[J++]=E)}return Y}function $n(i){var A=-1,E=Array(i.size);return i.forEach(function(I){E[++A]=I}),E}function Zs(i){var A=-1,E=Array(i.size);return i.forEach(function(I){E[++A]=[I,I]}),E}function Qs(i,A,E){for(var I=E-1,J=i.length;++I<J;)if(i[I]===A)return I;return-1}function ta(i,A,E){for(var I=E+1;I--;)if(i[I]===A)return I;return I}function fn(i){return hn(i)?no(i):qs(i)}function fe(i){return hn(i)?Kr(i):Ki(i)}function eo(i){for(var A=i.length;A--&&yi.test(i.charAt(A)););return A}var ea=Wr(Ns);function no(i){for(var A=Pr.lastIndex=0;Pr.test(i);)++A;return A}function Kr(i){return i.match(Pr)||[]}function na(i){return i.match(Os)||[]}var g=function i(A){A=A==null?Wt:l.defaults(Wt.Object(),A,l.pick(Wt,Dr));var E=A.Array,I=A.Date,J=A.Error,Y=A.Function,st=A.Math,rt=A.Object,pt=A.RegExp,Nt=A.String,Dt=A.TypeError,Xn=E.prototype,ro=Y.prototype,pn=rt.prototype,Tn=A["__core-js_shared__"],Yn=ro.toString,xt=pn.hasOwnProperty,ra=0,oo=function(){var t=/[^.]+$/.exec(Tn&&Tn.keys&&Tn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Rn=pn.toString,so=Yn.call(rt),ao=Wt._,Gr=pt("^"+Yn.call(xt).replace(xr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dn=qi?A.Buffer:n,ke=A.Symbol,Zn=A.Uint8Array,uo=dn?dn.allocUnsafe:n,Qn=to(rt.getPrototypeOf,rt),co=rt.create,$r=pn.propertyIsEnumerable,lo=Xn.splice,mu=ke?ke.isConcatSpreadable:n,Xr=ke?ke.iterator:n,kn=ke?ke.toStringTag:n,ho=function(){try{var t=In(rt,"defineProperty");return t({},"",{}),t}catch{}}(),Ml=A.clearTimeout!==Wt.clearTimeout&&A.clearTimeout,Ul=I&&I.now!==Wt.Date.now&&I.now,jl=A.setTimeout!==Wt.setTimeout&&A.setTimeout,fo=st.ceil,po=st.floor,ia=rt.getOwnPropertySymbols,Wl=dn?dn.isBuffer:n,vu=A.isFinite,ql=Xn.join,Hl=to(rt.keys,rt),qt=st.max,$t=st.min,zl=I.now,Vl=A.parseInt,yu=st.random,Jl=Xn.reverse,oa=In(A,"DataView"),Yr=In(A,"Map"),sa=In(A,"Promise"),tr=In(A,"Set"),Zr=In(A,"WeakMap"),Qr=In(rt,"create"),go=Zr&&new Zr,er={},Kl=Nn(oa),Gl=Nn(Yr),$l=Nn(sa),Xl=Nn(tr),Yl=Nn(Zr),mo=ke?ke.prototype:n,ti=mo?mo.valueOf:n,bu=mo?mo.toString:n;function N(t){if(Bt(t)&&!ft(t)&&!(t instanceof bt)){if(t instanceof _e)return t;if(xt.call(t,"__wrapped__"))return _c(t)}return new _e(t)}var nr=function(){function t(){}return function(e){if(!It(e))return{};if(co)return co(e);t.prototype=e;var r=new t;return t.prototype=n,r}}();function vo(){}function _e(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}N.templateSettings={escape:Cr,evaluate:ss,interpolate:be,variable:"",imports:{_:N}},N.prototype=vo.prototype,N.prototype.constructor=N,_e.prototype=nr(vo.prototype),_e.prototype.constructor=_e;function bt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=At,this.__views__=[]}function Zl(){var t=new bt(this.__wrapped__);return t.__actions__=se(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=se(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=se(this.__views__),t}function Ql(){if(this.__filtered__){var t=new bt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function th(){var t=this.__wrapped__.value(),e=this.__dir__,r=ft(t),x=e<0,P=r?t.length:0,B=pf(0,P,this.__views__),U=B.start,H=B.end,V=H-U,tt=x?H:U-1,et=this.__iteratees__,nt=et.length,ot=0,at=$t(V,this.__takeCount__);if(!r||!x&&P==V&&at==V)return Hu(t,this.__actions__);var ct=[];t:for(;V--&&ot<at;){tt+=e;for(var gt=-1,lt=t[tt];++gt<nt;){var yt=et[gt],_t=yt.iteratee,ge=yt.type,ne=_t(lt);if(ge==F)lt=ne;else if(!ne){if(ge==j)continue t;break t}}ct[ot++]=lt}return ct}bt.prototype=nr(vo.prototype),bt.prototype.constructor=bt;function On(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var x=t[e];this.set(x[0],x[1])}}function eh(){this.__data__=Qr?Qr(null):{},this.size=0}function nh(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function rh(t){var e=this.__data__;if(Qr){var r=e[t];return r===a?n:r}return xt.call(e,t)?e[t]:n}function ih(t){var e=this.__data__;return Qr?e[t]!==n:xt.call(e,t)}function oh(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Qr&&e===n?a:e,this}On.prototype.clear=eh,On.prototype.delete=nh,On.prototype.get=rh,On.prototype.has=ih,On.prototype.set=oh;function $e(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var x=t[e];this.set(x[0],x[1])}}function sh(){this.__data__=[],this.size=0}function ah(t){var e=this.__data__,r=yo(e,t);if(r<0)return!1;var x=e.length-1;return r==x?e.pop():lo.call(e,r,1),--this.size,!0}function uh(t){var e=this.__data__,r=yo(e,t);return r<0?n:e[r][1]}function ch(t){return yo(this.__data__,t)>-1}function lh(t,e){var r=this.__data__,x=yo(r,t);return x<0?(++this.size,r.push([t,e])):r[x][1]=e,this}$e.prototype.clear=sh,$e.prototype.delete=ah,$e.prototype.get=uh,$e.prototype.has=ch,$e.prototype.set=lh;function Xe(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var x=t[e];this.set(x[0],x[1])}}function hh(){this.size=0,this.__data__={hash:new On,map:new(Yr||$e),string:new On}}function fh(t){var e=Oo(this,t).delete(t);return this.size-=e?1:0,e}function ph(t){return Oo(this,t).get(t)}function dh(t){return Oo(this,t).has(t)}function gh(t,e){var r=Oo(this,t),x=r.size;return r.set(t,e),this.size+=r.size==x?0:1,this}Xe.prototype.clear=hh,Xe.prototype.delete=fh,Xe.prototype.get=ph,Xe.prototype.has=dh,Xe.prototype.set=gh;function Ln(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Xe;++e<r;)this.add(t[e])}function mh(t){return this.__data__.set(t,a),this}function vh(t){return this.__data__.has(t)}Ln.prototype.add=Ln.prototype.push=mh,Ln.prototype.has=vh;function Oe(t){var e=this.__data__=new $e(t);this.size=e.size}function yh(){this.__data__=new $e,this.size=0}function bh(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function _h(t){return this.__data__.get(t)}function wh(t){return this.__data__.has(t)}function Ah(t,e){var r=this.__data__;if(r instanceof $e){var x=r.__data__;if(!Yr||x.length<c-1)return x.push([t,e]),this.size=++r.size,this;r=this.__data__=new Xe(x)}return r.set(t,e),this.size=r.size,this}Oe.prototype.clear=yh,Oe.prototype.delete=bh,Oe.prototype.get=_h,Oe.prototype.has=wh,Oe.prototype.set=Ah;function _u(t,e){var r=ft(t),x=!r&&Bn(t),P=!r&&!x&&bn(t),B=!r&&!x&&!P&&sr(t),U=r||x||P||B,H=U?zr(t.length,Nt):[],V=H.length;for(var tt in t)(e||xt.call(t,tt))&&!(U&&(tt=="length"||P&&(tt=="offset"||tt=="parent")||B&&(tt=="buffer"||tt=="byteLength"||tt=="byteOffset")||tn(tt,V)))&&H.push(tt);return H}function wu(t){var e=t.length;return e?t[va(0,e-1)]:n}function Ch(t,e){return Lo(se(t),Pn(e,0,t.length))}function xh(t){return Lo(se(t))}function aa(t,e,r){(r!==n&&!Le(t[e],r)||r===n&&!(e in t))&&Ye(t,e,r)}function ei(t,e,r){var x=t[e];(!(xt.call(t,e)&&Le(x,r))||r===n&&!(e in t))&&Ye(t,e,r)}function yo(t,e){for(var r=t.length;r--;)if(Le(t[r][0],e))return r;return-1}function Sh(t,e,r,x){return gn(t,function(P,B,U){e(x,P,r(P),U)}),x}function Au(t,e){return t&&qe(e,zt(e),t)}function Eh(t,e){return t&&qe(e,ue(e),t)}function Ye(t,e,r){e=="__proto__"&&ho?ho(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function ua(t,e){for(var r=-1,x=e.length,P=E(x),B=t==null;++r<x;)P[r]=B?n:qa(t,e[r]);return P}function Pn(t,e,r){return t===t&&(r!==n&&(t=t<=r?t:r),e!==n&&(t=t>=e?t:e)),t}function we(t,e,r,x,P,B){var U,H=e&f,V=e&m,tt=e&_;if(r&&(U=P?r(t,x,P,B):r(t)),U!==n)return U;if(!It(t))return t;var et=ft(t);if(et){if(U=gf(t),!H)return se(t,U)}else{var nt=Xt(t),ot=nt==Vt||nt==sn;if(bn(t))return Ju(t,H);if(nt==Te||nt==Mt||ot&&!P){if(U=V||ot?{}:hc(t),!H)return V?rf(t,Eh(U,t)):nf(t,Au(U,t))}else{if(!Tt[nt])return P?t:{};U=mf(t,nt,H)}}B||(B=new Oe);var at=B.get(t);if(at)return at;B.set(t,U),jc(t)?t.forEach(function(lt){U.add(we(lt,e,r,lt,t,B))}):Mc(t)&&t.forEach(function(lt,yt){U.set(yt,we(lt,e,r,yt,t,B))});var ct=tt?V?Ra:Ta:V?ue:zt,gt=et?n:ct(t);return Zt(gt||t,function(lt,yt){gt&&(yt=lt,lt=t[yt]),ei(U,yt,we(lt,e,r,yt,t,B))}),U}function Th(t){var e=zt(t);return function(r){return Cu(r,t,e)}}function Cu(t,e,r){var x=r.length;if(t==null)return!x;for(t=rt(t);x--;){var P=r[x],B=e[P],U=t[P];if(U===n&&!(P in t)||!B(U))return!1}return!0}function xu(t,e,r){if(typeof t!="function")throw new Dt(s);return ui(function(){t.apply(n,r)},e)}function ni(t,e,r,x){var P=-1,B=Kn,U=!0,H=t.length,V=[],tt=e.length;if(!H)return V;r&&(e=Ot(e,Qt(r))),x?(B=Fr,U=!1):e.length>=c&&(B=En,U=!1,e=new Ln(e));t:for(;++P<H;){var et=t[P],nt=r==null?et:r(et);if(et=x||et!==0?et:0,U&&nt===nt){for(var ot=tt;ot--;)if(e[ot]===nt)continue t;V.push(et)}else B(e,nt,x)||V.push(et)}return V}var gn=Yu(We),Su=Yu(la,!0);function Rh(t,e){var r=!0;return gn(t,function(x,P,B){return r=!!e(x,P,B),r}),r}function bo(t,e,r){for(var x=-1,P=t.length;++x<P;){var B=t[x],U=e(B);if(U!=null&&(H===n?U===U&&!de(U):r(U,H)))var H=U,V=B}return V}function kh(t,e,r,x){var P=t.length;for(r=dt(r),r<0&&(r=-r>P?0:P+r),x=x===n||x>P?P:dt(x),x<0&&(x+=P),x=r>x?0:qc(x);r<x;)t[r++]=e;return t}function Eu(t,e){var r=[];return gn(t,function(x,P,B){e(x,P,B)&&r.push(x)}),r}function Jt(t,e,r,x,P){var B=-1,U=t.length;for(r||(r=yf),P||(P=[]);++B<U;){var H=t[B];e>0&&r(H)?e>1?Jt(H,e-1,r,x,P):Me(P,H):x||(P[P.length]=H)}return P}var ca=Zu(),Tu=Zu(!0);function We(t,e){return t&&ca(t,e,zt)}function la(t,e){return t&&Tu(t,e,zt)}function _o(t,e){return Fe(e,function(r){return en(t[r])})}function Dn(t,e){e=vn(e,t);for(var r=0,x=e.length;t!=null&&r<x;)t=t[He(e[r++])];return r&&r==x?t:n}function Ru(t,e,r){var x=e(t);return ft(t)?x:Me(x,r(t))}function te(t){return t==null?t===n?ns:di:kn&&kn in rt(t)?ff(t):Sf(t)}function ha(t,e){return t>e}function Oh(t,e){return t!=null&&xt.call(t,e)}function Lh(t,e){return t!=null&&e in rt(t)}function Ph(t,e,r){return t>=$t(e,r)&&t<qt(e,r)}function fa(t,e,r){for(var x=r?Fr:Kn,P=t[0].length,B=t.length,U=B,H=E(B),V=1/0,tt=[];U--;){var et=t[U];U&&e&&(et=Ot(et,Qt(e))),V=$t(et.length,V),H[U]=!r&&(e||P>=120&&et.length>=120)?new Ln(U&&et):n}et=t[0];var nt=-1,ot=H[0];t:for(;++nt<P&&tt.length<V;){var at=et[nt],ct=e?e(at):at;if(at=r||at!==0?at:0,!(ot?En(ot,ct):x(tt,ct,r))){for(U=B;--U;){var gt=H[U];if(!(gt?En(gt,ct):x(t[U],ct,r)))continue t}ot&&ot.push(ct),tt.push(at)}}return tt}function Dh(t,e,r,x){return We(t,function(P,B,U){e(x,r(P),B,U)}),x}function ri(t,e,r){e=vn(e,t),t=gc(t,e);var x=t==null?t:t[He(Ce(e))];return x==null?n:Yt(x,t,r)}function ku(t){return Bt(t)&&te(t)==Mt}function Ih(t){return Bt(t)&&te(t)==xn}function Nh(t){return Bt(t)&&te(t)==Lt}function ii(t,e,r,x,P){return t===e?!0:t==null||e==null||!Bt(t)&&!Bt(e)?t!==t&&e!==e:Bh(t,e,r,x,ii,P)}function Bh(t,e,r,x,P,B){var U=ft(t),H=ft(e),V=U?le:Xt(t),tt=H?le:Xt(e);V=V==Mt?Te:V,tt=tt==Mt?Te:tt;var et=V==Te,nt=tt==Te,ot=V==tt;if(ot&&bn(t)){if(!bn(e))return!1;U=!0,et=!1}if(ot&&!et)return B||(B=new Oe),U||sr(t)?uc(t,e,r,x,P,B):lf(t,e,V,r,x,P,B);if(!(r&u)){var at=et&&xt.call(t,"__wrapped__"),ct=nt&&xt.call(e,"__wrapped__");if(at||ct){var gt=at?t.value():t,lt=ct?e.value():e;return B||(B=new Oe),P(gt,lt,r,x,B)}}return ot?(B||(B=new Oe),hf(t,e,r,x,P,B)):!1}function Fh(t){return Bt(t)&&Xt(t)==he}function pa(t,e,r,x){var P=r.length,B=P,U=!x;if(t==null)return!B;for(t=rt(t);P--;){var H=r[P];if(U&&H[2]?H[1]!==t[H[0]]:!(H[0]in t))return!1}for(;++P<B;){H=r[P];var V=H[0],tt=t[V],et=H[1];if(U&&H[2]){if(tt===n&&!(V in t))return!1}else{var nt=new Oe;if(x)var ot=x(tt,et,V,t,e,nt);if(!(ot===n?ii(et,tt,u|w,x,nt):ot))return!1}}return!0}function Ou(t){if(!It(t)||_f(t))return!1;var e=en(t)?Gr:ds;return e.test(Nn(t))}function Mh(t){return Bt(t)&&te(t)==wn}function Uh(t){return Bt(t)&&Xt(t)==ie}function jh(t){return Bt(t)&&Fo(t.length)&&!!Rt[te(t)]}function Lu(t){return typeof t=="function"?t:t==null?ce:typeof t=="object"?ft(t)?Iu(t[0],t[1]):Du(t):Qc(t)}function da(t){if(!ai(t))return Hl(t);var e=[];for(var r in rt(t))xt.call(t,r)&&r!="constructor"&&e.push(r);return e}function Wh(t){if(!It(t))return xf(t);var e=ai(t),r=[];for(var x in t)x=="constructor"&&(e||!xt.call(t,x))||r.push(x);return r}function ga(t,e){return t<e}function Pu(t,e){var r=-1,x=ae(t)?E(t.length):[];return gn(t,function(P,B,U){x[++r]=e(P,B,U)}),x}function Du(t){var e=Oa(t);return e.length==1&&e[0][2]?pc(e[0][0],e[0][1]):function(r){return r===t||pa(r,t,e)}}function Iu(t,e){return Pa(t)&&fc(e)?pc(He(t),e):function(r){var x=qa(r,t);return x===n&&x===e?Ha(r,t):ii(e,x,u|w)}}function wo(t,e,r,x,P){t!==e&&ca(e,function(B,U){if(P||(P=new Oe),It(B))qh(t,e,U,r,wo,x,P);else{var H=x?x(Ia(t,U),B,U+"",t,e,P):n;H===n&&(H=B),aa(t,U,H)}},ue)}function qh(t,e,r,x,P,B,U){var H=Ia(t,r),V=Ia(e,r),tt=U.get(V);if(tt){aa(t,r,tt);return}var et=B?B(H,V,r+"",t,e,U):n,nt=et===n;if(nt){var ot=ft(V),at=!ot&&bn(V),ct=!ot&&!at&&sr(V);et=V,ot||at||ct?ft(H)?et=H:Ut(H)?et=se(H):at?(nt=!1,et=Ju(V,!0)):ct?(nt=!1,et=Ku(V,!0)):et=[]:ci(V)||Bn(V)?(et=H,Bn(H)?et=Hc(H):(!It(H)||en(H))&&(et=hc(V))):nt=!1}nt&&(U.set(V,et),P(et,V,x,B,U),U.delete(V)),aa(t,r,et)}function Nu(t,e){var r=t.length;if(r)return e+=e<0?r:0,tn(e,r)?t[e]:n}function Bu(t,e,r){e.length?e=Ot(e,function(B){return ft(B)?function(U){return Dn(U,B.length===1?B[0]:B)}:B}):e=[ce];var x=-1;e=Ot(e,Qt(ut()));var P=Pu(t,function(B,U,H){var V=Ot(e,function(tt){return tt(B)});return{criteria:V,index:++x,value:B}});return zs(P,function(B,U){return ef(B,U,r)})}function Hh(t,e){return Fu(t,e,function(r,x){return Ha(t,x)})}function Fu(t,e,r){for(var x=-1,P=e.length,B={};++x<P;){var U=e[x],H=Dn(t,U);r(H,U)&&oi(B,vn(U,t),H)}return B}function zh(t){return function(e){return Dn(e,t)}}function ma(t,e,r,x){var P=x?Gn:Ue,B=-1,U=e.length,H=t;for(t===e&&(e=se(e)),r&&(H=Ot(t,Qt(r)));++B<U;)for(var V=0,tt=e[B],et=r?r(tt):tt;(V=P(H,et,V,x))>-1;)H!==t&&lo.call(H,V,1),lo.call(t,V,1);return t}function Mu(t,e){for(var r=t?e.length:0,x=r-1;r--;){var P=e[r];if(r==x||P!==B){var B=P;tn(P)?lo.call(t,P,1):_a(t,P)}}return t}function va(t,e){return t+po(yu()*(e-t+1))}function Vh(t,e,r,x){for(var P=-1,B=qt(fo((e-t)/(r||1)),0),U=E(B);B--;)U[x?B:++P]=t,t+=r;return U}function ya(t,e){var r="";if(!t||e<1||e>it)return r;do e%2&&(r+=t),e=po(e/2),e&&(t+=t);while(e);return r}function vt(t,e){return Na(dc(t,e,ce),t+"")}function Jh(t){return wu(ar(t))}function Kh(t,e){var r=ar(t);return Lo(r,Pn(e,0,r.length))}function oi(t,e,r,x){if(!It(t))return t;e=vn(e,t);for(var P=-1,B=e.length,U=B-1,H=t;H!=null&&++P<B;){var V=He(e[P]),tt=r;if(V==="__proto__"||V==="constructor"||V==="prototype")return t;if(P!=U){var et=H[V];tt=x?x(et,V,H):n,tt===n&&(tt=It(et)?et:tn(e[P+1])?[]:{})}ei(H,V,tt),H=H[V]}return t}var Uu=go?function(t,e){return go.set(t,e),t}:ce,Gh=ho?function(t,e){return ho(t,"toString",{configurable:!0,enumerable:!1,value:Va(e),writable:!0})}:ce;function $h(t){return Lo(ar(t))}function Ae(t,e,r){var x=-1,P=t.length;e<0&&(e=-e>P?0:P+e),r=r>P?P:r,r<0&&(r+=P),P=e>r?0:r-e>>>0,e>>>=0;for(var B=E(P);++x<P;)B[x]=t[x+e];return B}function Xh(t,e){var r;return gn(t,function(x,P,B){return r=e(x,P,B),!r}),!!r}function Ao(t,e,r){var x=0,P=t==null?x:t.length;if(typeof e=="number"&&e===e&&P<=Ft){for(;x<P;){var B=x+P>>>1,U=t[B];U!==null&&!de(U)&&(r?U<=e:U<e)?x=B+1:P=B}return P}return ba(t,e,ce,r)}function ba(t,e,r,x){var P=0,B=t==null?0:t.length;if(B===0)return 0;e=r(e);for(var U=e!==e,H=e===null,V=de(e),tt=e===n;P<B;){var et=po((P+B)/2),nt=r(t[et]),ot=nt!==n,at=nt===null,ct=nt===nt,gt=de(nt);if(U)var lt=x||ct;else tt?lt=ct&&(x||ot):H?lt=ct&&ot&&(x||!at):V?lt=ct&&ot&&!at&&(x||!gt):at||gt?lt=!1:lt=x?nt<=e:nt<e;lt?P=et+1:B=et}return $t(B,Pt)}function ju(t,e){for(var r=-1,x=t.length,P=0,B=[];++r<x;){var U=t[r],H=e?e(U):U;if(!r||!Le(H,V)){var V=H;B[P++]=U===0?0:U}}return B}function Wu(t){return typeof t=="number"?t:de(t)?wt:+t}function pe(t){if(typeof t=="string")return t;if(ft(t))return Ot(t,pe)+"";if(de(t))return bu?bu.call(t):"";var e=t+"";return e=="0"&&1/t==-X?"-0":e}function mn(t,e,r){var x=-1,P=Kn,B=t.length,U=!0,H=[],V=H;if(r)U=!1,P=Fr;else if(B>=c){var tt=e?null:uf(t);if(tt)return $n(tt);U=!1,P=En,V=new Ln}else V=e?[]:H;t:for(;++x<B;){var et=t[x],nt=e?e(et):et;if(et=r||et!==0?et:0,U&&nt===nt){for(var ot=V.length;ot--;)if(V[ot]===nt)continue t;e&&V.push(nt),H.push(et)}else P(V,nt,r)||(V!==H&&V.push(nt),H.push(et))}return H}function _a(t,e){return e=vn(e,t),t=gc(t,e),t==null||delete t[He(Ce(e))]}function qu(t,e,r,x){return oi(t,e,r(Dn(t,e)),x)}function Co(t,e,r,x){for(var P=t.length,B=x?P:-1;(x?B--:++B<P)&&e(t[B],B,t););return r?Ae(t,x?0:B,x?B+1:P):Ae(t,x?B+1:0,x?P:B)}function Hu(t,e){var r=t;return r instanceof bt&&(r=r.value()),Mr(e,function(x,P){return P.func.apply(P.thisArg,Me([x],P.args))},r)}function wa(t,e,r){var x=t.length;if(x<2)return x?mn(t[0]):[];for(var P=-1,B=E(x);++P<x;)for(var U=t[P],H=-1;++H<x;)H!=P&&(B[P]=ni(B[P]||U,t[H],e,r));return mn(Jt(B,1),e,r)}function zu(t,e,r){for(var x=-1,P=t.length,B=e.length,U={};++x<P;){var H=x<B?e[x]:n;r(U,t[x],H)}return U}function Aa(t){return Ut(t)?t:[]}function Ca(t){return typeof t=="function"?t:ce}function vn(t,e){return ft(t)?t:Pa(t,e)?[t]:bc(Et(t))}var Yh=vt;function yn(t,e,r){var x=t.length;return r=r===n?x:r,!e&&r>=x?t:Ae(t,e,r)}var Vu=Ml||function(t){return Wt.clearTimeout(t)};function Ju(t,e){if(e)return t.slice();var r=t.length,x=uo?uo(r):new t.constructor(r);return t.copy(x),x}function xa(t){var e=new t.constructor(t.byteLength);return new Zn(e).set(new Zn(t)),e}function Zh(t,e){var r=e?xa(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function Qh(t){var e=new t.constructor(t.source,Ai.exec(t));return e.lastIndex=t.lastIndex,e}function tf(t){return ti?rt(ti.call(t)):{}}function Ku(t,e){var r=e?xa(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Gu(t,e){if(t!==e){var r=t!==n,x=t===null,P=t===t,B=de(t),U=e!==n,H=e===null,V=e===e,tt=de(e);if(!H&&!tt&&!B&&t>e||B&&U&&V&&!H&&!tt||x&&U&&V||!r&&V||!P)return 1;if(!x&&!B&&!tt&&t<e||tt&&r&&P&&!x&&!B||H&&r&&P||!U&&P||!V)return-1}return 0}function ef(t,e,r){for(var x=-1,P=t.criteria,B=e.criteria,U=P.length,H=r.length;++x<U;){var V=Gu(P[x],B[x]);if(V){if(x>=H)return V;var tt=r[x];return V*(tt=="desc"?-1:1)}}return t.index-e.index}function $u(t,e,r,x){for(var P=-1,B=t.length,U=r.length,H=-1,V=e.length,tt=qt(B-U,0),et=E(V+tt),nt=!x;++H<V;)et[H]=e[H];for(;++P<U;)(nt||P<B)&&(et[r[P]]=t[P]);for(;tt--;)et[H++]=t[P++];return et}function Xu(t,e,r,x){for(var P=-1,B=t.length,U=-1,H=r.length,V=-1,tt=e.length,et=qt(B-H,0),nt=E(et+tt),ot=!x;++P<et;)nt[P]=t[P];for(var at=P;++V<tt;)nt[at+V]=e[V];for(;++U<H;)(ot||P<B)&&(nt[at+r[U]]=t[P++]);return nt}function se(t,e){var r=-1,x=t.length;for(e||(e=E(x));++r<x;)e[r]=t[r];return e}function qe(t,e,r,x){var P=!r;r||(r={});for(var B=-1,U=e.length;++B<U;){var H=e[B],V=x?x(r[H],t[H],H,r,t):n;V===n&&(V=t[H]),P?Ye(r,H,V):ei(r,H,V)}return r}function nf(t,e){return qe(t,La(t),e)}function rf(t,e){return qe(t,cc(t),e)}function xo(t,e){return function(r,x){var P=ft(r)?Us:Sh,B=e?e():{};return P(r,t,ut(x,2),B)}}function rr(t){return vt(function(e,r){var x=-1,P=r.length,B=P>1?r[P-1]:n,U=P>2?r[2]:n;for(B=t.length>3&&typeof B=="function"?(P--,B):n,U&&ee(r[0],r[1],U)&&(B=P<3?n:B,P=1),e=rt(e);++x<P;){var H=r[x];H&&t(e,H,x,B)}return e})}function Yu(t,e){return function(r,x){if(r==null)return r;if(!ae(r))return t(r,x);for(var P=r.length,B=e?P:-1,U=rt(r);(e?B--:++B<P)&&x(U[B],B,U)!==!1;);return r}}function Zu(t){return function(e,r,x){for(var P=-1,B=rt(e),U=x(e),H=U.length;H--;){var V=U[t?H:++P];if(r(B[V],V,B)===!1)break}return e}}function of(t,e,r){var x=e&v,P=si(t);function B(){var U=this&&this!==Wt&&this instanceof B?P:t;return U.apply(x?r:this,arguments)}return B}function Qu(t){return function(e){e=Et(e);var r=hn(e)?fe(e):n,x=r?r[0]:e.charAt(0),P=r?yn(r,1).join(""):e.slice(1);return x[t]()+P}}function ir(t){return function(e){return Mr(Yc(Xc(e).replace(Lr,"")),t,"")}}function si(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=nr(t.prototype),x=t.apply(r,e);return It(x)?x:r}}function sf(t,e,r){var x=si(t);function P(){for(var B=arguments.length,U=E(B),H=B,V=or(P);H--;)U[H]=arguments[H];var tt=B<3&&U[0]!==V&&U[B-1]!==V?[]:je(U,V);if(B-=tt.length,B<r)return ic(t,e,So,P.placeholder,n,U,tt,n,n,r-B);var et=this&&this!==Wt&&this instanceof P?x:t;return Yt(et,this,U)}return P}function tc(t){return function(e,r,x){var P=rt(e);if(!ae(e)){var B=ut(r,3);e=zt(e),r=function(H){return B(P[H],H,P)}}var U=t(e,r,x);return U>-1?P[B?e[U]:U]:n}}function ec(t){return Qe(function(e){var r=e.length,x=r,P=_e.prototype.thru;for(t&&e.reverse();x--;){var B=e[x];if(typeof B!="function")throw new Dt(s);if(P&&!U&&ko(B)=="wrapper")var U=new _e([],!0)}for(x=U?x:r;++x<r;){B=e[x];var H=ko(B),V=H=="wrapper"?ka(B):n;V&&Da(V[0])&&V[1]==(D|d|k|M)&&!V[4].length&&V[9]==1?U=U[ko(V[0])].apply(U,V[3]):U=B.length==1&&Da(B)?U[H]():U.thru(B)}return function(){var tt=arguments,et=tt[0];if(U&&tt.length==1&&ft(et))return U.plant(et).value();for(var nt=0,ot=r?e[nt].apply(this,tt):et;++nt<r;)ot=e[nt].call(this,ot);return ot}})}function So(t,e,r,x,P,B,U,H,V,tt){var et=e&D,nt=e&v,ot=e&R,at=e&(d|S),ct=e&W,gt=ot?n:si(t);function lt(){for(var yt=arguments.length,_t=E(yt),ge=yt;ge--;)_t[ge]=arguments[ge];if(at)var ne=or(lt),me=Js(_t,ne);if(x&&(_t=$u(_t,x,P,at)),B&&(_t=Xu(_t,B,U,at)),yt-=me,at&&yt<tt){var jt=je(_t,ne);return ic(t,e,So,lt.placeholder,r,_t,jt,H,V,tt-yt)}var Pe=nt?r:this,rn=ot?Pe[t]:t;return yt=_t.length,H?_t=Ef(_t,H):ct&&yt>1&&_t.reverse(),et&&V<yt&&(_t.length=V),this&&this!==Wt&&this instanceof lt&&(rn=gt||si(rn)),rn.apply(Pe,_t)}return lt}function nc(t,e){return function(r,x){return Dh(r,t,e(x),{})}}function Eo(t,e){return function(r,x){var P;if(r===n&&x===n)return e;if(r!==n&&(P=r),x!==n){if(P===n)return x;typeof r=="string"||typeof x=="string"?(r=pe(r),x=pe(x)):(r=Wu(r),x=Wu(x)),P=t(r,x)}return P}}function Sa(t){return Qe(function(e){return e=Ot(e,Qt(ut())),vt(function(r){var x=this;return t(e,function(P){return Yt(P,x,r)})})})}function To(t,e){e=e===n?" ":pe(e);var r=e.length;if(r<2)return r?ya(e,t):e;var x=ya(e,fo(t/fn(e)));return hn(e)?yn(fe(x),0,t).join(""):x.slice(0,t)}function af(t,e,r,x){var P=e&v,B=si(t);function U(){for(var H=-1,V=arguments.length,tt=-1,et=x.length,nt=E(et+V),ot=this&&this!==Wt&&this instanceof U?B:t;++tt<et;)nt[tt]=x[tt];for(;V--;)nt[tt++]=arguments[++H];return Yt(ot,P?r:this,nt)}return U}function rc(t){return function(e,r,x){return x&&typeof x!="number"&&ee(e,r,x)&&(r=x=n),e=nn(e),r===n?(r=e,e=0):r=nn(r),x=x===n?e<r?1:-1:nn(x),Vh(e,r,x,t)}}function Ro(t){return function(e,r){return typeof e=="string"&&typeof r=="string"||(e=xe(e),r=xe(r)),t(e,r)}}function ic(t,e,r,x,P,B,U,H,V,tt){var et=e&d,nt=et?U:n,ot=et?n:U,at=et?B:n,ct=et?n:B;e|=et?k:T,e&=~(et?T:k),e&o||(e&=~(v|R));var gt=[t,e,P,at,nt,ct,ot,H,V,tt],lt=r.apply(n,gt);return Da(t)&&mc(lt,gt),lt.placeholder=x,vc(lt,t,e)}function Ea(t){var e=st[t];return function(r,x){if(r=xe(r),x=x==null?0:$t(dt(x),292),x&&vu(r)){var P=(Et(r)+"e").split("e"),B=e(P[0]+"e"+(+P[1]+x));return P=(Et(B)+"e").split("e"),+(P[0]+"e"+(+P[1]-x))}return e(r)}}var uf=tr&&1/$n(new tr([,-0]))[1]==X?function(t){return new tr(t)}:Ga;function oc(t){return function(e){var r=Xt(e);return r==he?Jr(e):r==ie?Zs(e):Vs(e,t(e))}}function Ze(t,e,r,x,P,B,U,H){var V=e&R;if(!V&&typeof t!="function")throw new Dt(s);var tt=x?x.length:0;if(tt||(e&=~(k|T),x=P=n),U=U===n?U:qt(dt(U),0),H=H===n?H:dt(H),tt-=P?P.length:0,e&T){var et=x,nt=P;x=P=n}var ot=V?n:ka(t),at=[t,e,r,x,P,et,nt,B,U,H];if(ot&&Cf(at,ot),t=at[0],e=at[1],r=at[2],x=at[3],P=at[4],H=at[9]=at[9]===n?V?0:t.length:qt(at[9]-tt,0),!H&&e&(d|S)&&(e&=~(d|S)),!e||e==v)var ct=of(t,e,r);else e==d||e==S?ct=sf(t,e,H):(e==k||e==(v|k))&&!P.length?ct=af(t,e,r,x):ct=So.apply(n,at);var gt=ot?Uu:mc;return vc(gt(ct,at),t,e)}function sc(t,e,r,x){return t===n||Le(t,pn[r])&&!xt.call(x,r)?e:t}function ac(t,e,r,x,P,B){return It(t)&&It(e)&&(B.set(e,t),wo(t,e,n,ac,B),B.delete(e)),t}function cf(t){return ci(t)?n:t}function uc(t,e,r,x,P,B){var U=r&u,H=t.length,V=e.length;if(H!=V&&!(U&&V>H))return!1;var tt=B.get(t),et=B.get(e);if(tt&&et)return tt==e&&et==t;var nt=-1,ot=!0,at=r&w?new Ln:n;for(B.set(t,e),B.set(e,t);++nt<H;){var ct=t[nt],gt=e[nt];if(x)var lt=U?x(gt,ct,nt,e,t,B):x(ct,gt,nt,t,e,B);if(lt!==n){if(lt)continue;ot=!1;break}if(at){if(!Ur(e,function(yt,_t){if(!En(at,_t)&&(ct===yt||P(ct,yt,r,x,B)))return at.push(_t)})){ot=!1;break}}else if(!(ct===gt||P(ct,gt,r,x,B))){ot=!1;break}}return B.delete(t),B.delete(e),ot}function lf(t,e,r,x,P,B,U){switch(r){case St:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case xn:return!(t.byteLength!=e.byteLength||!B(new Zn(t),new Zn(e)));case kt:case Lt:case Ee:return Le(+t,+e);case Ne:return t.name==e.name&&t.message==e.message;case wn:case An:return t==e+"";case he:var H=Jr;case ie:var V=x&u;if(H||(H=$n),t.size!=e.size&&!V)return!1;var tt=U.get(t);if(tt)return tt==e;x|=w,U.set(t,e);var et=uc(H(t),H(e),x,P,B,U);return U.delete(t),et;case Fn:if(ti)return ti.call(t)==ti.call(e)}return!1}function hf(t,e,r,x,P,B){var U=r&u,H=Ta(t),V=H.length,tt=Ta(e),et=tt.length;if(V!=et&&!U)return!1;for(var nt=V;nt--;){var ot=H[nt];if(!(U?ot in e:xt.call(e,ot)))return!1}var at=B.get(t),ct=B.get(e);if(at&&ct)return at==e&&ct==t;var gt=!0;B.set(t,e),B.set(e,t);for(var lt=U;++nt<V;){ot=H[nt];var yt=t[ot],_t=e[ot];if(x)var ge=U?x(_t,yt,ot,e,t,B):x(yt,_t,ot,t,e,B);if(!(ge===n?yt===_t||P(yt,_t,r,x,B):ge)){gt=!1;break}lt||(lt=ot=="constructor")}if(gt&&!lt){var ne=t.constructor,me=e.constructor;ne!=me&&"constructor"in t&&"constructor"in e&&!(typeof ne=="function"&&ne instanceof ne&&typeof me=="function"&&me instanceof me)&&(gt=!1)}return B.delete(t),B.delete(e),gt}function Qe(t){return Na(dc(t,n,Cc),t+"")}function Ta(t){return Ru(t,zt,La)}function Ra(t){return Ru(t,ue,cc)}var ka=go?function(t){return go.get(t)}:Ga;function ko(t){for(var e=t.name+"",r=er[e],x=xt.call(er,e)?r.length:0;x--;){var P=r[x],B=P.func;if(B==null||B==t)return P.name}return e}function or(t){var e=xt.call(N,"placeholder")?N:t;return e.placeholder}function ut(){var t=N.iteratee||Ja;return t=t===Ja?Lu:t,arguments.length?t(arguments[0],arguments[1]):t}function Oo(t,e){var r=t.__data__;return bf(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Oa(t){for(var e=zt(t),r=e.length;r--;){var x=e[r],P=t[x];e[r]=[x,P,fc(P)]}return e}function In(t,e){var r=$s(t,e);return Ou(r)?r:n}function ff(t){var e=xt.call(t,kn),r=t[kn];try{t[kn]=n;var x=!0}catch{}var P=Rn.call(t);return x&&(e?t[kn]=r:delete t[kn]),P}var La=ia?function(t){return t==null?[]:(t=rt(t),Fe(ia(t),function(e){return $r.call(t,e)}))}:$a,cc=ia?function(t){for(var e=[];t;)Me(e,La(t)),t=Qn(t);return e}:$a,Xt=te;(oa&&Xt(new oa(new ArrayBuffer(1)))!=St||Yr&&Xt(new Yr)!=he||sa&&Xt(sa.resolve())!=hr||tr&&Xt(new tr)!=ie||Zr&&Xt(new Zr)!=Cn)&&(Xt=function(t){var e=te(t),r=e==Te?t.constructor:n,x=r?Nn(r):"";if(x)switch(x){case Kl:return St;case Gl:return he;case $l:return hr;case Xl:return ie;case Yl:return Cn}return e});function pf(t,e,r){for(var x=-1,P=r.length;++x<P;){var B=r[x],U=B.size;switch(B.type){case"drop":t+=U;break;case"dropRight":e-=U;break;case"take":e=$t(e,t+U);break;case"takeRight":t=qt(t,e-U);break}}return{start:t,end:e}}function df(t){var e=t.match(_i);return e?e[1].split(wi):[]}function lc(t,e,r){e=vn(e,t);for(var x=-1,P=e.length,B=!1;++x<P;){var U=He(e[x]);if(!(B=t!=null&&r(t,U)))break;t=t[U]}return B||++x!=P?B:(P=t==null?0:t.length,!!P&&Fo(P)&&tn(U,P)&&(ft(t)||Bn(t)))}function gf(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&xt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function hc(t){return typeof t.constructor=="function"&&!ai(t)?nr(Qn(t)):{}}function mf(t,e,r){var x=t.constructor;switch(e){case xn:return xa(t);case kt:case Lt:return new x(+t);case St:return Zh(t,r);case fr:case pr:case dr:case gr:case mr:case vr:case yr:case br:case _r:return Ku(t,r);case he:return new x;case Ee:case An:return new x(t);case wn:return Qh(t);case ie:return new x;case Fn:return tf(t)}}function vf(t,e){var r=e.length;if(!r)return t;var x=r-1;return e[x]=(r>1?"& ":"")+e[x],e=e.join(r>2?", ":" "),t.replace(bi,`{
/* [wrapped with `+e+`] */
`)}function yf(t){return ft(t)||Bn(t)||!!(mu&&t&&t[mu])}function tn(t,e){var r=typeof t;return e=e??it,!!e&&(r=="number"||r!="symbol"&&ms.test(t))&&t>-1&&t%1==0&&t<e}function ee(t,e,r){if(!It(r))return!1;var x=typeof e;return(x=="number"?ae(r)&&tn(e,r.length):x=="string"&&e in r)?Le(r[e],t):!1}function Pa(t,e){if(ft(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||de(t)?!0:us.test(t)||!as.test(t)||e!=null&&t in rt(e)}function bf(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Da(t){var e=ko(t),r=N[e];if(typeof r!="function"||!(e in bt.prototype))return!1;if(t===r)return!0;var x=ka(r);return!!x&&t===x[0]}function _f(t){return!!oo&&oo in t}var wf=Tn?en:Xa;function ai(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||pn;return t===r}function fc(t){return t===t&&!It(t)}function pc(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==n||t in rt(r))}}function Af(t){var e=No(t,function(x){return r.size===p&&r.clear(),x}),r=e.cache;return e}function Cf(t,e){var r=t[1],x=e[1],P=r|x,B=P<(v|R|D),U=x==D&&r==d||x==D&&r==M&&t[7].length<=e[8]||x==(D|M)&&e[7].length<=e[8]&&r==d;if(!(B||U))return t;x&v&&(t[2]=e[2],P|=r&v?0:o);var H=e[3];if(H){var V=t[3];t[3]=V?$u(V,H,e[4]):H,t[4]=V?je(t[3],C):e[4]}return H=e[5],H&&(V=t[5],t[5]=V?Xu(V,H,e[6]):H,t[6]=V?je(t[5],C):e[6]),H=e[7],H&&(t[7]=H),x&D&&(t[8]=t[8]==null?e[8]:$t(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=P,t}function xf(t){var e=[];if(t!=null)for(var r in rt(t))e.push(r);return e}function Sf(t){return Rn.call(t)}function dc(t,e,r){return e=qt(e===n?t.length-1:e,0),function(){for(var x=arguments,P=-1,B=qt(x.length-e,0),U=E(B);++P<B;)U[P]=x[e+P];P=-1;for(var H=E(e+1);++P<e;)H[P]=x[P];return H[e]=r(U),Yt(t,this,H)}}function gc(t,e){return e.length<2?t:Dn(t,Ae(e,0,-1))}function Ef(t,e){for(var r=t.length,x=$t(e.length,r),P=se(t);x--;){var B=e[x];t[x]=tn(B,r)?P[B]:n}return t}function Ia(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var mc=yc(Uu),ui=jl||function(t,e){return Wt.setTimeout(t,e)},Na=yc(Gh);function vc(t,e,r){var x=e+"";return Na(t,vf(x,Tf(df(x),r)))}function yc(t){var e=0,r=0;return function(){var x=zl(),P=G-(x-r);if(r=x,P>0){if(++e>=z)return arguments[0]}else e=0;return t.apply(n,arguments)}}function Lo(t,e){var r=-1,x=t.length,P=x-1;for(e=e===n?x:e;++r<e;){var B=va(r,P),U=t[B];t[B]=t[r],t[r]=U}return t.length=e,t}var bc=Af(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(cs,function(r,x,P,B){e.push(P?B.replace(fs,"$1"):x||r)}),e});function He(t){if(typeof t=="string"||de(t))return t;var e=t+"";return e=="0"&&1/t==-X?"-0":e}function Nn(t){if(t!=null){try{return Yn.call(t)}catch{}try{return t+""}catch{}}return""}function Tf(t,e){return Zt(Ie,function(r){var x="_."+r[0];e&r[1]&&!Kn(t,x)&&t.push(x)}),t.sort()}function _c(t){if(t instanceof bt)return t.clone();var e=new _e(t.__wrapped__,t.__chain__);return e.__actions__=se(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Rf(t,e,r){(r?ee(t,e,r):e===n)?e=1:e=qt(dt(e),0);var x=t==null?0:t.length;if(!x||e<1)return[];for(var P=0,B=0,U=E(fo(x/e));P<x;)U[B++]=Ae(t,P,P+=e);return U}function kf(t){for(var e=-1,r=t==null?0:t.length,x=0,P=[];++e<r;){var B=t[e];B&&(P[x++]=B)}return P}function Of(){var t=arguments.length;if(!t)return[];for(var e=E(t-1),r=arguments[0],x=t;x--;)e[x-1]=arguments[x];return Me(ft(r)?se(r):[r],Jt(e,1))}var Lf=vt(function(t,e){return Ut(t)?ni(t,Jt(e,1,Ut,!0)):[]}),Pf=vt(function(t,e){var r=Ce(e);return Ut(r)&&(r=n),Ut(t)?ni(t,Jt(e,1,Ut,!0),ut(r,2)):[]}),Df=vt(function(t,e){var r=Ce(e);return Ut(r)&&(r=n),Ut(t)?ni(t,Jt(e,1,Ut,!0),n,r):[]});function If(t,e,r){var x=t==null?0:t.length;return x?(e=r||e===n?1:dt(e),Ae(t,e<0?0:e,x)):[]}function Nf(t,e,r){var x=t==null?0:t.length;return x?(e=r||e===n?1:dt(e),e=x-e,Ae(t,0,e<0?0:e)):[]}function Bf(t,e){return t&&t.length?Co(t,ut(e,3),!0,!0):[]}function Ff(t,e){return t&&t.length?Co(t,ut(e,3),!0):[]}function Mf(t,e,r,x){var P=t==null?0:t.length;return P?(r&&typeof r!="number"&&ee(t,e,r)&&(r=0,x=P),kh(t,e,r,x)):[]}function wc(t,e,r){var x=t==null?0:t.length;if(!x)return-1;var P=r==null?0:dt(r);return P<0&&(P=qt(x+P,0)),ht(t,ut(e,3),P)}function Ac(t,e,r){var x=t==null?0:t.length;if(!x)return-1;var P=x-1;return r!==n&&(P=dt(r),P=r<0?qt(x+P,0):$t(P,x-1)),ht(t,ut(e,3),P,!0)}function Cc(t){var e=t==null?0:t.length;return e?Jt(t,1):[]}function Uf(t){var e=t==null?0:t.length;return e?Jt(t,X):[]}function jf(t,e){var r=t==null?0:t.length;return r?(e=e===n?1:dt(e),Jt(t,e)):[]}function Wf(t){for(var e=-1,r=t==null?0:t.length,x={};++e<r;){var P=t[e];x[P[0]]=P[1]}return x}function xc(t){return t&&t.length?t[0]:n}function qf(t,e,r){var x=t==null?0:t.length;if(!x)return-1;var P=r==null?0:dt(r);return P<0&&(P=qt(x+P,0)),Ue(t,e,P)}function Hf(t){var e=t==null?0:t.length;return e?Ae(t,0,-1):[]}var zf=vt(function(t){var e=Ot(t,Aa);return e.length&&e[0]===t[0]?fa(e):[]}),Vf=vt(function(t){var e=Ce(t),r=Ot(t,Aa);return e===Ce(r)?e=n:r.pop(),r.length&&r[0]===t[0]?fa(r,ut(e,2)):[]}),Jf=vt(function(t){var e=Ce(t),r=Ot(t,Aa);return e=typeof e=="function"?e:n,e&&r.pop(),r.length&&r[0]===t[0]?fa(r,n,e):[]});function Kf(t,e){return t==null?"":ql.call(t,e)}function Ce(t){var e=t==null?0:t.length;return e?t[e-1]:n}function Gf(t,e,r){var x=t==null?0:t.length;if(!x)return-1;var P=x;return r!==n&&(P=dt(r),P=P<0?qt(x+P,0):$t(P,x-1)),e===e?ta(t,e,P):ht(t,$i,P,!0)}function $f(t,e){return t&&t.length?Nu(t,dt(e)):n}var Xf=vt(Sc);function Sc(t,e){return t&&t.length&&e&&e.length?ma(t,e):t}function Yf(t,e,r){return t&&t.length&&e&&e.length?ma(t,e,ut(r,2)):t}function Zf(t,e,r){return t&&t.length&&e&&e.length?ma(t,e,n,r):t}var Qf=Qe(function(t,e){var r=t==null?0:t.length,x=ua(t,e);return Mu(t,Ot(e,function(P){return tn(P,r)?+P:P}).sort(Gu)),x});function tp(t,e){var r=[];if(!(t&&t.length))return r;var x=-1,P=[],B=t.length;for(e=ut(e,3);++x<B;){var U=t[x];e(U,x,t)&&(r.push(U),P.push(x))}return Mu(t,P),r}function Ba(t){return t==null?t:Jl.call(t)}function ep(t,e,r){var x=t==null?0:t.length;return x?(r&&typeof r!="number"&&ee(t,e,r)?(e=0,r=x):(e=e==null?0:dt(e),r=r===n?x:dt(r)),Ae(t,e,r)):[]}function np(t,e){return Ao(t,e)}function rp(t,e,r){return ba(t,e,ut(r,2))}function ip(t,e){var r=t==null?0:t.length;if(r){var x=Ao(t,e);if(x<r&&Le(t[x],e))return x}return-1}function op(t,e){return Ao(t,e,!0)}function sp(t,e,r){return ba(t,e,ut(r,2),!0)}function ap(t,e){var r=t==null?0:t.length;if(r){var x=Ao(t,e,!0)-1;if(Le(t[x],e))return x}return-1}function up(t){return t&&t.length?ju(t):[]}function cp(t,e){return t&&t.length?ju(t,ut(e,2)):[]}function lp(t){var e=t==null?0:t.length;return e?Ae(t,1,e):[]}function hp(t,e,r){return t&&t.length?(e=r||e===n?1:dt(e),Ae(t,0,e<0?0:e)):[]}function fp(t,e,r){var x=t==null?0:t.length;return x?(e=r||e===n?1:dt(e),e=x-e,Ae(t,e<0?0:e,x)):[]}function pp(t,e){return t&&t.length?Co(t,ut(e,3),!1,!0):[]}function dp(t,e){return t&&t.length?Co(t,ut(e,3)):[]}var gp=vt(function(t){return mn(Jt(t,1,Ut,!0))}),mp=vt(function(t){var e=Ce(t);return Ut(e)&&(e=n),mn(Jt(t,1,Ut,!0),ut(e,2))}),vp=vt(function(t){var e=Ce(t);return e=typeof e=="function"?e:n,mn(Jt(t,1,Ut,!0),n,e)});function yp(t){return t&&t.length?mn(t):[]}function bp(t,e){return t&&t.length?mn(t,ut(e,2)):[]}function _p(t,e){return e=typeof e=="function"?e:n,t&&t.length?mn(t,n,e):[]}function Fa(t){if(!(t&&t.length))return[];var e=0;return t=Fe(t,function(r){if(Ut(r))return e=qt(r.length,e),!0}),zr(e,function(r){return Ot(t,jr(r))})}function Ec(t,e){if(!(t&&t.length))return[];var r=Fa(t);return e==null?r:Ot(r,function(x){return Yt(e,n,x)})}var wp=vt(function(t,e){return Ut(t)?ni(t,e):[]}),Ap=vt(function(t){return wa(Fe(t,Ut))}),Cp=vt(function(t){var e=Ce(t);return Ut(e)&&(e=n),wa(Fe(t,Ut),ut(e,2))}),xp=vt(function(t){var e=Ce(t);return e=typeof e=="function"?e:n,wa(Fe(t,Ut),n,e)}),Sp=vt(Fa);function Ep(t,e){return zu(t||[],e||[],ei)}function Tp(t,e){return zu(t||[],e||[],oi)}var Rp=vt(function(t){var e=t.length,r=e>1?t[e-1]:n;return r=typeof r=="function"?(t.pop(),r):n,Ec(t,r)});function Tc(t){var e=N(t);return e.__chain__=!0,e}function kp(t,e){return e(t),t}function Po(t,e){return e(t)}var Op=Qe(function(t){var e=t.length,r=e?t[0]:0,x=this.__wrapped__,P=function(B){return ua(B,t)};return e>1||this.__actions__.length||!(x instanceof bt)||!tn(r)?this.thru(P):(x=x.slice(r,+r+(e?1:0)),x.__actions__.push({func:Po,args:[P],thisArg:n}),new _e(x,this.__chain__).thru(function(B){return e&&!B.length&&B.push(n),B}))});function Lp(){return Tc(this)}function Pp(){return new _e(this.value(),this.__chain__)}function Dp(){this.__values__===n&&(this.__values__=Wc(this.value()));var t=this.__index__>=this.__values__.length,e=t?n:this.__values__[this.__index__++];return{done:t,value:e}}function Ip(){return this}function Np(t){for(var e,r=this;r instanceof vo;){var x=_c(r);x.__index__=0,x.__values__=n,e?P.__wrapped__=x:e=x;var P=x;r=r.__wrapped__}return P.__wrapped__=t,e}function Bp(){var t=this.__wrapped__;if(t instanceof bt){var e=t;return this.__actions__.length&&(e=new bt(this)),e=e.reverse(),e.__actions__.push({func:Po,args:[Ba],thisArg:n}),new _e(e,this.__chain__)}return this.thru(Ba)}function Fp(){return Hu(this.__wrapped__,this.__actions__)}var Mp=xo(function(t,e,r){xt.call(t,r)?++t[r]:Ye(t,r,1)});function Up(t,e,r){var x=ft(t)?Br:Rh;return r&&ee(t,e,r)&&(e=n),x(t,ut(e,3))}function jp(t,e){var r=ft(t)?Fe:Eu;return r(t,ut(e,3))}var Wp=tc(wc),qp=tc(Ac);function Hp(t,e){return Jt(Do(t,e),1)}function zp(t,e){return Jt(Do(t,e),X)}function Vp(t,e,r){return r=r===n?1:dt(r),Jt(Do(t,e),r)}function Rc(t,e){var r=ft(t)?Zt:gn;return r(t,ut(e,3))}function kc(t,e){var r=ft(t)?js:Su;return r(t,ut(e,3))}var Jp=xo(function(t,e,r){xt.call(t,r)?t[r].push(e):Ye(t,r,[e])});function Kp(t,e,r,x){t=ae(t)?t:ar(t),r=r&&!x?dt(r):0;var P=t.length;return r<0&&(r=qt(P+r,0)),Mo(t)?r<=P&&t.indexOf(e,r)>-1:!!P&&Ue(t,e,r)>-1}var Gp=vt(function(t,e,r){var x=-1,P=typeof e=="function",B=ae(t)?E(t.length):[];return gn(t,function(U){B[++x]=P?Yt(e,U,r):ri(U,e,r)}),B}),$p=xo(function(t,e,r){Ye(t,r,e)});function Do(t,e){var r=ft(t)?Ot:Pu;return r(t,ut(e,3))}function Xp(t,e,r,x){return t==null?[]:(ft(e)||(e=e==null?[]:[e]),r=x?n:r,ft(r)||(r=r==null?[]:[r]),Bu(t,e,r))}var Yp=xo(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]});function Zp(t,e,r){var x=ft(t)?Mr:qr,P=arguments.length<3;return x(t,ut(e,4),r,P,gn)}function Qp(t,e,r){var x=ft(t)?Ws:qr,P=arguments.length<3;return x(t,ut(e,4),r,P,Su)}function td(t,e){var r=ft(t)?Fe:Eu;return r(t,Bo(ut(e,3)))}function ed(t){var e=ft(t)?wu:Jh;return e(t)}function nd(t,e,r){(r?ee(t,e,r):e===n)?e=1:e=dt(e);var x=ft(t)?Ch:Kh;return x(t,e)}function rd(t){var e=ft(t)?xh:$h;return e(t)}function id(t){if(t==null)return 0;if(ae(t))return Mo(t)?fn(t):t.length;var e=Xt(t);return e==he||e==ie?t.size:da(t).length}function od(t,e,r){var x=ft(t)?Ur:Xh;return r&&ee(t,e,r)&&(e=n),x(t,ut(e,3))}var sd=vt(function(t,e){if(t==null)return[];var r=e.length;return r>1&&ee(t,e[0],e[1])?e=[]:r>2&&ee(e[0],e[1],e[2])&&(e=[e[0]]),Bu(t,Jt(e,1),[])}),Io=Ul||function(){return Wt.Date.now()};function ad(t,e){if(typeof e!="function")throw new Dt(s);return t=dt(t),function(){if(--t<1)return e.apply(this,arguments)}}function Oc(t,e,r){return e=r?n:e,e=t&&e==null?t.length:e,Ze(t,D,n,n,n,n,e)}function Lc(t,e){var r;if(typeof e!="function")throw new Dt(s);return t=dt(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=n),r}}var Ma=vt(function(t,e,r){var x=v;if(r.length){var P=je(r,or(Ma));x|=k}return Ze(t,x,e,r,P)}),Pc=vt(function(t,e,r){var x=v|R;if(r.length){var P=je(r,or(Pc));x|=k}return Ze(e,x,t,r,P)});function Dc(t,e,r){e=r?n:e;var x=Ze(t,d,n,n,n,n,n,e);return x.placeholder=Dc.placeholder,x}function Ic(t,e,r){e=r?n:e;var x=Ze(t,S,n,n,n,n,n,e);return x.placeholder=Ic.placeholder,x}function Nc(t,e,r){var x,P,B,U,H,V,tt=0,et=!1,nt=!1,ot=!0;if(typeof t!="function")throw new Dt(s);e=xe(e)||0,It(r)&&(et=!!r.leading,nt="maxWait"in r,B=nt?qt(xe(r.maxWait)||0,e):B,ot="trailing"in r?!!r.trailing:ot);function at(jt){var Pe=x,rn=P;return x=P=n,tt=jt,U=t.apply(rn,Pe),U}function ct(jt){return tt=jt,H=ui(yt,e),et?at(jt):U}function gt(jt){var Pe=jt-V,rn=jt-tt,tl=e-Pe;return nt?$t(tl,B-rn):tl}function lt(jt){var Pe=jt-V,rn=jt-tt;return V===n||Pe>=e||Pe<0||nt&&rn>=B}function yt(){var jt=Io();if(lt(jt))return _t(jt);H=ui(yt,gt(jt))}function _t(jt){return H=n,ot&&x?at(jt):(x=P=n,U)}function ge(){H!==n&&Vu(H),tt=0,x=V=P=H=n}function ne(){return H===n?U:_t(Io())}function me(){var jt=Io(),Pe=lt(jt);if(x=arguments,P=this,V=jt,Pe){if(H===n)return ct(V);if(nt)return Vu(H),H=ui(yt,e),at(V)}return H===n&&(H=ui(yt,e)),U}return me.cancel=ge,me.flush=ne,me}var ud=vt(function(t,e){return xu(t,1,e)}),cd=vt(function(t,e,r){return xu(t,xe(e)||0,r)});function ld(t){return Ze(t,W)}function No(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new Dt(s);var r=function(){var x=arguments,P=e?e.apply(this,x):x[0],B=r.cache;if(B.has(P))return B.get(P);var U=t.apply(this,x);return r.cache=B.set(P,U)||B,U};return r.cache=new(No.Cache||Xe),r}No.Cache=Xe;function Bo(t){if(typeof t!="function")throw new Dt(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function hd(t){return Lc(2,t)}var fd=Yh(function(t,e){e=e.length==1&&ft(e[0])?Ot(e[0],Qt(ut())):Ot(Jt(e,1),Qt(ut()));var r=e.length;return vt(function(x){for(var P=-1,B=$t(x.length,r);++P<B;)x[P]=e[P].call(this,x[P]);return Yt(t,this,x)})}),Ua=vt(function(t,e){var r=je(e,or(Ua));return Ze(t,k,n,e,r)}),Bc=vt(function(t,e){var r=je(e,or(Bc));return Ze(t,T,n,e,r)}),pd=Qe(function(t,e){return Ze(t,M,n,n,n,e)});function dd(t,e){if(typeof t!="function")throw new Dt(s);return e=e===n?e:dt(e),vt(t,e)}function gd(t,e){if(typeof t!="function")throw new Dt(s);return e=e==null?0:qt(dt(e),0),vt(function(r){var x=r[e],P=yn(r,0,e);return x&&Me(P,x),Yt(t,this,P)})}function md(t,e,r){var x=!0,P=!0;if(typeof t!="function")throw new Dt(s);return It(r)&&(x="leading"in r?!!r.leading:x,P="trailing"in r?!!r.trailing:P),Nc(t,e,{leading:x,maxWait:e,trailing:P})}function vd(t){return Oc(t,1)}function yd(t,e){return Ua(Ca(e),t)}function bd(){if(!arguments.length)return[];var t=arguments[0];return ft(t)?t:[t]}function _d(t){return we(t,_)}function wd(t,e){return e=typeof e=="function"?e:n,we(t,_,e)}function Ad(t){return we(t,f|_)}function Cd(t,e){return e=typeof e=="function"?e:n,we(t,f|_,e)}function xd(t,e){return e==null||Cu(t,e,zt(e))}function Le(t,e){return t===e||t!==t&&e!==e}var Sd=Ro(ha),Ed=Ro(function(t,e){return t>=e}),Bn=ku(function(){return arguments}())?ku:function(t){return Bt(t)&&xt.call(t,"callee")&&!$r.call(t,"callee")},ft=E.isArray,Td=Hi?Qt(Hi):Ih;function ae(t){return t!=null&&Fo(t.length)&&!en(t)}function Ut(t){return Bt(t)&&ae(t)}function Rd(t){return t===!0||t===!1||Bt(t)&&te(t)==kt}var bn=Wl||Xa,kd=zi?Qt(zi):Nh;function Od(t){return Bt(t)&&t.nodeType===1&&!ci(t)}function Ld(t){if(t==null)return!0;if(ae(t)&&(ft(t)||typeof t=="string"||typeof t.splice=="function"||bn(t)||sr(t)||Bn(t)))return!t.length;var e=Xt(t);if(e==he||e==ie)return!t.size;if(ai(t))return!da(t).length;for(var r in t)if(xt.call(t,r))return!1;return!0}function Pd(t,e){return ii(t,e)}function Dd(t,e,r){r=typeof r=="function"?r:n;var x=r?r(t,e):n;return x===n?ii(t,e,n,r):!!x}function ja(t){if(!Bt(t))return!1;var e=te(t);return e==Ne||e==lr||typeof t.message=="string"&&typeof t.name=="string"&&!ci(t)}function Id(t){return typeof t=="number"&&vu(t)}function en(t){if(!It(t))return!1;var e=te(t);return e==Vt||e==sn||e==re||e==gi}function Fc(t){return typeof t=="number"&&t==dt(t)}function Fo(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=it}function It(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Bt(t){return t!=null&&typeof t=="object"}var Mc=Jn?Qt(Jn):Fh;function Nd(t,e){return t===e||pa(t,e,Oa(e))}function Bd(t,e,r){return r=typeof r=="function"?r:n,pa(t,e,Oa(e),r)}function Fd(t){return Uc(t)&&t!=+t}function Md(t){if(wf(t))throw new J(b);return Ou(t)}function Ud(t){return t===null}function jd(t){return t==null}function Uc(t){return typeof t=="number"||Bt(t)&&te(t)==Ee}function ci(t){if(!Bt(t)||te(t)!=Te)return!1;var e=Qn(t);if(e===null)return!0;var r=xt.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Yn.call(r)==so}var Wa=Be?Qt(Be):Mh;function Wd(t){return Fc(t)&&t>=-it&&t<=it}var jc=Vi?Qt(Vi):Uh;function Mo(t){return typeof t=="string"||!ft(t)&&Bt(t)&&te(t)==An}function de(t){return typeof t=="symbol"||Bt(t)&&te(t)==Fn}var sr=Ji?Qt(Ji):jh;function qd(t){return t===n}function Hd(t){return Bt(t)&&Xt(t)==Cn}function zd(t){return Bt(t)&&te(t)==Mn}var Vd=Ro(ga),Jd=Ro(function(t,e){return t<=e});function Wc(t){if(!t)return[];if(ae(t))return Mo(t)?fe(t):se(t);if(Xr&&t[Xr])return Ys(t[Xr]());var e=Xt(t),r=e==he?Jr:e==ie?$n:ar;return r(t)}function nn(t){if(!t)return t===0?t:0;if(t=xe(t),t===X||t===-X){var e=t<0?-1:1;return e*mt}return t===t?t:0}function dt(t){var e=nn(t),r=e%1;return e===e?r?e-r:e:0}function qc(t){return t?Pn(dt(t),0,At):0}function xe(t){if(typeof t=="number")return t;if(de(t))return wt;if(It(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=It(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Yi(t);var r=ps.test(t);return r||gs.test(t)?Fs(t.slice(2),r?2:8):Ci.test(t)?wt:+t}function Hc(t){return qe(t,ue(t))}function Kd(t){return t?Pn(dt(t),-it,it):t===0?t:0}function Et(t){return t==null?"":pe(t)}var Gd=rr(function(t,e){if(ai(e)||ae(e)){qe(e,zt(e),t);return}for(var r in e)xt.call(e,r)&&ei(t,r,e[r])}),zc=rr(function(t,e){qe(e,ue(e),t)}),Uo=rr(function(t,e,r,x){qe(e,ue(e),t,x)}),$d=rr(function(t,e,r,x){qe(e,zt(e),t,x)}),Xd=Qe(ua);function Yd(t,e){var r=nr(t);return e==null?r:Au(r,e)}var Zd=vt(function(t,e){t=rt(t);var r=-1,x=e.length,P=x>2?e[2]:n;for(P&&ee(e[0],e[1],P)&&(x=1);++r<x;)for(var B=e[r],U=ue(B),H=-1,V=U.length;++H<V;){var tt=U[H],et=t[tt];(et===n||Le(et,pn[tt])&&!xt.call(t,tt))&&(t[tt]=B[tt])}return t}),Qd=vt(function(t){return t.push(n,ac),Yt(Vc,n,t)});function tg(t,e){return Gi(t,ut(e,3),We)}function eg(t,e){return Gi(t,ut(e,3),la)}function ng(t,e){return t==null?t:ca(t,ut(e,3),ue)}function rg(t,e){return t==null?t:Tu(t,ut(e,3),ue)}function ig(t,e){return t&&We(t,ut(e,3))}function og(t,e){return t&&la(t,ut(e,3))}function sg(t){return t==null?[]:_o(t,zt(t))}function ag(t){return t==null?[]:_o(t,ue(t))}function qa(t,e,r){var x=t==null?n:Dn(t,e);return x===n?r:x}function ug(t,e){return t!=null&&lc(t,e,Oh)}function Ha(t,e){return t!=null&&lc(t,e,Lh)}var cg=nc(function(t,e,r){e!=null&&typeof e.toString!="function"&&(e=Rn.call(e)),t[e]=r},Va(ce)),lg=nc(function(t,e,r){e!=null&&typeof e.toString!="function"&&(e=Rn.call(e)),xt.call(t,e)?t[e].push(r):t[e]=[r]},ut),hg=vt(ri);function zt(t){return ae(t)?_u(t):da(t)}function ue(t){return ae(t)?_u(t,!0):Wh(t)}function fg(t,e){var r={};return e=ut(e,3),We(t,function(x,P,B){Ye(r,e(x,P,B),x)}),r}function pg(t,e){var r={};return e=ut(e,3),We(t,function(x,P,B){Ye(r,P,e(x,P,B))}),r}var dg=rr(function(t,e,r){wo(t,e,r)}),Vc=rr(function(t,e,r,x){wo(t,e,r,x)}),gg=Qe(function(t,e){var r={};if(t==null)return r;var x=!1;e=Ot(e,function(B){return B=vn(B,t),x||(x=B.length>1),B}),qe(t,Ra(t),r),x&&(r=we(r,f|m|_,cf));for(var P=e.length;P--;)_a(r,e[P]);return r});function mg(t,e){return Jc(t,Bo(ut(e)))}var vg=Qe(function(t,e){return t==null?{}:Hh(t,e)});function Jc(t,e){if(t==null)return{};var r=Ot(Ra(t),function(x){return[x]});return e=ut(e),Fu(t,r,function(x,P){return e(x,P[0])})}function yg(t,e,r){e=vn(e,t);var x=-1,P=e.length;for(P||(P=1,t=n);++x<P;){var B=t==null?n:t[He(e[x])];B===n&&(x=P,B=r),t=en(B)?B.call(t):B}return t}function bg(t,e,r){return t==null?t:oi(t,e,r)}function _g(t,e,r,x){return x=typeof x=="function"?x:n,t==null?t:oi(t,e,r,x)}var Kc=oc(zt),Gc=oc(ue);function wg(t,e,r){var x=ft(t),P=x||bn(t)||sr(t);if(e=ut(e,4),r==null){var B=t&&t.constructor;P?r=x?new B:[]:It(t)?r=en(B)?nr(Qn(t)):{}:r={}}return(P?Zt:We)(t,function(U,H,V){return e(r,U,H,V)}),r}function Ag(t,e){return t==null?!0:_a(t,e)}function Cg(t,e,r){return t==null?t:qu(t,e,Ca(r))}function xg(t,e,r,x){return x=typeof x=="function"?x:n,t==null?t:qu(t,e,Ca(r),x)}function ar(t){return t==null?[]:Vr(t,zt(t))}function Sg(t){return t==null?[]:Vr(t,ue(t))}function Eg(t,e,r){return r===n&&(r=e,e=n),r!==n&&(r=xe(r),r=r===r?r:0),e!==n&&(e=xe(e),e=e===e?e:0),Pn(xe(t),e,r)}function Tg(t,e,r){return e=nn(e),r===n?(r=e,e=0):r=nn(r),t=xe(t),Ph(t,e,r)}function Rg(t,e,r){if(r&&typeof r!="boolean"&&ee(t,e,r)&&(e=r=n),r===n&&(typeof e=="boolean"?(r=e,e=n):typeof t=="boolean"&&(r=t,t=n)),t===n&&e===n?(t=0,e=1):(t=nn(t),e===n?(e=t,t=0):e=nn(e)),t>e){var x=t;t=e,e=x}if(r||t%1||e%1){var P=yu();return $t(t+P*(e-t+Bs("1e-"+((P+"").length-1))),e)}return va(t,e)}var kg=ir(function(t,e,r){return e=e.toLowerCase(),t+(r?$c(e):e)});function $c(t){return za(Et(t).toLowerCase())}function Xc(t){return t=Et(t),t&&t.replace(vs,ln).replace(ks,"")}function Og(t,e,r){t=Et(t),e=pe(e);var x=t.length;r=r===n?x:Pn(dt(r),0,x);var P=r;return r-=e.length,r>=0&&t.slice(r,P)==e}function Lg(t){return t=Et(t),t&&os.test(t)?t.replace(vi,Ks):t}function Pg(t){return t=Et(t),t&&an.test(t)?t.replace(xr,"\\$&"):t}var Dg=ir(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),Ig=ir(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),Ng=Qu("toLowerCase");function Bg(t,e,r){t=Et(t),e=dt(e);var x=e?fn(t):0;if(!e||x>=e)return t;var P=(e-x)/2;return To(po(P),r)+t+To(fo(P),r)}function Fg(t,e,r){t=Et(t),e=dt(e);var x=e?fn(t):0;return e&&x<e?t+To(e-x,r):t}function Mg(t,e,r){t=Et(t),e=dt(e);var x=e?fn(t):0;return e&&x<e?To(e-x,r)+t:t}function Ug(t,e,r){return r||e==null?e=0:e&&(e=+e),Vl(Et(t).replace(Sr,""),e||0)}function jg(t,e,r){return(r?ee(t,e,r):e===n)?e=1:e=dt(e),ya(Et(t),e)}function Wg(){var t=arguments,e=Et(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var qg=ir(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()});function Hg(t,e,r){return r&&typeof r!="number"&&ee(t,e,r)&&(e=r=n),r=r===n?At:r>>>0,r?(t=Et(t),t&&(typeof e=="string"||e!=null&&!Wa(e))&&(e=pe(e),!e&&hn(t))?yn(fe(t),0,r):t.split(e,r)):[]}var zg=ir(function(t,e,r){return t+(r?" ":"")+za(e)});function Vg(t,e,r){return t=Et(t),r=r==null?0:Pn(dt(r),0,t.length),e=pe(e),t.slice(r,r+e.length)==e}function Jg(t,e,r){var x=N.templateSettings;r&&ee(t,e,r)&&(e=n),t=Et(t),e=Uo({},e,x,sc);var P=Uo({},e.imports,x.imports,sc),B=zt(P),U=Vr(P,B),H,V,tt=0,et=e.interpolate||jn,nt="__p += '",ot=pt((e.escape||jn).source+"|"+et.source+"|"+(et===be?Un:jn).source+"|"+(e.evaluate||jn).source+"|$","g"),at="//# sourceURL="+(xt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ds+"]")+`
`;t.replace(ot,function(lt,yt,_t,ge,ne,me){return _t||(_t=ge),nt+=t.slice(tt,me).replace(ys,Gs),yt&&(H=!0,nt+=`' +
__e(`+yt+`) +
'`),ne&&(V=!0,nt+=`';
`+ne+`;
__p += '`),_t&&(nt+=`' +
((__t = (`+_t+`)) == null ? '' : __t) +
'`),tt=me+lt.length,lt}),nt+=`';
`;var ct=xt.call(e,"variable")&&e.variable;if(!ct)nt=`with (obj) {
`+nt+`
}
`;else if(hs.test(ct))throw new J(h);nt=(V?nt.replace(wr,""):nt).replace(Ar,"$1").replace(rs,"$1;"),nt="function("+(ct||"obj")+`) {
`+(ct?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(H?", __e = _.escape":"")+(V?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+nt+`return __p
}`;var gt=Zc(function(){return Y(B,at+"return "+nt).apply(n,U)});if(gt.source=nt,ja(gt))throw gt;return gt}function Kg(t){return Et(t).toLowerCase()}function Gg(t){return Et(t).toUpperCase()}function $g(t,e,r){if(t=Et(t),t&&(r||e===n))return Yi(t);if(!t||!(e=pe(e)))return t;var x=fe(t),P=fe(e),B=Zi(x,P),U=Qi(x,P)+1;return yn(x,B,U).join("")}function Xg(t,e,r){if(t=Et(t),t&&(r||e===n))return t.slice(0,eo(t)+1);if(!t||!(e=pe(e)))return t;var x=fe(t),P=Qi(x,fe(e))+1;return yn(x,0,P).join("")}function Yg(t,e,r){if(t=Et(t),t&&(r||e===n))return t.replace(Sr,"");if(!t||!(e=pe(e)))return t;var x=fe(t),P=Zi(x,fe(e));return yn(x,P).join("")}function Zg(t,e){var r=K,x=Z;if(It(e)){var P="separator"in e?e.separator:P;r="length"in e?dt(e.length):r,x="omission"in e?pe(e.omission):x}t=Et(t);var B=t.length;if(hn(t)){var U=fe(t);B=U.length}if(r>=B)return t;var H=r-fn(x);if(H<1)return x;var V=U?yn(U,0,H).join(""):t.slice(0,H);if(P===n)return V+x;if(U&&(H+=V.length-H),Wa(P)){if(t.slice(H).search(P)){var tt,et=V;for(P.global||(P=pt(P.source,Et(Ai.exec(P))+"g")),P.lastIndex=0;tt=P.exec(et);)var nt=tt.index;V=V.slice(0,nt===n?H:nt)}}else if(t.indexOf(pe(P),H)!=H){var ot=V.lastIndexOf(P);ot>-1&&(V=V.slice(0,ot))}return V+x}function Qg(t){return t=Et(t),t&&is.test(t)?t.replace(mi,ea):t}var tm=ir(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}),za=Qu("toUpperCase");function Yc(t,e,r){return t=Et(t),e=r?n:e,e===n?Xs(t)?na(t):Hs(t):t.match(e)||[]}var Zc=vt(function(t,e){try{return Yt(t,n,e)}catch(r){return ja(r)?r:new J(r)}}),em=Qe(function(t,e){return Zt(e,function(r){r=He(r),Ye(t,r,Ma(t[r],t))}),t});function nm(t){var e=t==null?0:t.length,r=ut();return t=e?Ot(t,function(x){if(typeof x[1]!="function")throw new Dt(s);return[r(x[0]),x[1]]}):[],vt(function(x){for(var P=-1;++P<e;){var B=t[P];if(Yt(B[0],this,x))return Yt(B[1],this,x)}})}function rm(t){return Th(we(t,f))}function Va(t){return function(){return t}}function im(t,e){return t==null||t!==t?e:t}var om=ec(),sm=ec(!0);function ce(t){return t}function Ja(t){return Lu(typeof t=="function"?t:we(t,f))}function am(t){return Du(we(t,f))}function um(t,e){return Iu(t,we(e,f))}var cm=vt(function(t,e){return function(r){return ri(r,t,e)}}),lm=vt(function(t,e){return function(r){return ri(t,r,e)}});function Ka(t,e,r){var x=zt(e),P=_o(e,x);r==null&&!(It(e)&&(P.length||!x.length))&&(r=e,e=t,t=this,P=_o(e,zt(e)));var B=!(It(r)&&"chain"in r)||!!r.chain,U=en(t);return Zt(P,function(H){var V=e[H];t[H]=V,U&&(t.prototype[H]=function(){var tt=this.__chain__;if(B||tt){var et=t(this.__wrapped__),nt=et.__actions__=se(this.__actions__);return nt.push({func:V,args:arguments,thisArg:t}),et.__chain__=tt,et}return V.apply(t,Me([this.value()],arguments))})}),t}function hm(){return Wt._===this&&(Wt._=ao),this}function Ga(){}function fm(t){return t=dt(t),vt(function(e){return Nu(e,t)})}var pm=Sa(Ot),dm=Sa(Br),gm=Sa(Ur);function Qc(t){return Pa(t)?jr(He(t)):zh(t)}function mm(t){return function(e){return t==null?n:Dn(t,e)}}var vm=rc(),ym=rc(!0);function $a(){return[]}function Xa(){return!1}function bm(){return{}}function _m(){return""}function wm(){return!0}function Am(t,e){if(t=dt(t),t<1||t>it)return[];var r=At,x=$t(t,At);e=ut(e),t-=At;for(var P=zr(x,e);++r<t;)e(r);return P}function Cm(t){return ft(t)?Ot(t,He):de(t)?[t]:se(bc(Et(t)))}function xm(t){var e=++ra;return Et(t)+e}var Sm=Eo(function(t,e){return t+e},0),Em=Ea("ceil"),Tm=Eo(function(t,e){return t/e},1),Rm=Ea("floor");function km(t){return t&&t.length?bo(t,ce,ha):n}function Om(t,e){return t&&t.length?bo(t,ut(e,2),ha):n}function Lm(t){return Xi(t,ce)}function Pm(t,e){return Xi(t,ut(e,2))}function Dm(t){return t&&t.length?bo(t,ce,ga):n}function Im(t,e){return t&&t.length?bo(t,ut(e,2),ga):n}var Nm=Eo(function(t,e){return t*e},1),Bm=Ea("round"),Fm=Eo(function(t,e){return t-e},0);function Mm(t){return t&&t.length?Hr(t,ce):0}function Um(t,e){return t&&t.length?Hr(t,ut(e,2)):0}return N.after=ad,N.ary=Oc,N.assign=Gd,N.assignIn=zc,N.assignInWith=Uo,N.assignWith=$d,N.at=Xd,N.before=Lc,N.bind=Ma,N.bindAll=em,N.bindKey=Pc,N.castArray=bd,N.chain=Tc,N.chunk=Rf,N.compact=kf,N.concat=Of,N.cond=nm,N.conforms=rm,N.constant=Va,N.countBy=Mp,N.create=Yd,N.curry=Dc,N.curryRight=Ic,N.debounce=Nc,N.defaults=Zd,N.defaultsDeep=Qd,N.defer=ud,N.delay=cd,N.difference=Lf,N.differenceBy=Pf,N.differenceWith=Df,N.drop=If,N.dropRight=Nf,N.dropRightWhile=Bf,N.dropWhile=Ff,N.fill=Mf,N.filter=jp,N.flatMap=Hp,N.flatMapDeep=zp,N.flatMapDepth=Vp,N.flatten=Cc,N.flattenDeep=Uf,N.flattenDepth=jf,N.flip=ld,N.flow=om,N.flowRight=sm,N.fromPairs=Wf,N.functions=sg,N.functionsIn=ag,N.groupBy=Jp,N.initial=Hf,N.intersection=zf,N.intersectionBy=Vf,N.intersectionWith=Jf,N.invert=cg,N.invertBy=lg,N.invokeMap=Gp,N.iteratee=Ja,N.keyBy=$p,N.keys=zt,N.keysIn=ue,N.map=Do,N.mapKeys=fg,N.mapValues=pg,N.matches=am,N.matchesProperty=um,N.memoize=No,N.merge=dg,N.mergeWith=Vc,N.method=cm,N.methodOf=lm,N.mixin=Ka,N.negate=Bo,N.nthArg=fm,N.omit=gg,N.omitBy=mg,N.once=hd,N.orderBy=Xp,N.over=pm,N.overArgs=fd,N.overEvery=dm,N.overSome=gm,N.partial=Ua,N.partialRight=Bc,N.partition=Yp,N.pick=vg,N.pickBy=Jc,N.property=Qc,N.propertyOf=mm,N.pull=Xf,N.pullAll=Sc,N.pullAllBy=Yf,N.pullAllWith=Zf,N.pullAt=Qf,N.range=vm,N.rangeRight=ym,N.rearg=pd,N.reject=td,N.remove=tp,N.rest=dd,N.reverse=Ba,N.sampleSize=nd,N.set=bg,N.setWith=_g,N.shuffle=rd,N.slice=ep,N.sortBy=sd,N.sortedUniq=up,N.sortedUniqBy=cp,N.split=Hg,N.spread=gd,N.tail=lp,N.take=hp,N.takeRight=fp,N.takeRightWhile=pp,N.takeWhile=dp,N.tap=kp,N.throttle=md,N.thru=Po,N.toArray=Wc,N.toPairs=Kc,N.toPairsIn=Gc,N.toPath=Cm,N.toPlainObject=Hc,N.transform=wg,N.unary=vd,N.union=gp,N.unionBy=mp,N.unionWith=vp,N.uniq=yp,N.uniqBy=bp,N.uniqWith=_p,N.unset=Ag,N.unzip=Fa,N.unzipWith=Ec,N.update=Cg,N.updateWith=xg,N.values=ar,N.valuesIn=Sg,N.without=wp,N.words=Yc,N.wrap=yd,N.xor=Ap,N.xorBy=Cp,N.xorWith=xp,N.zip=Sp,N.zipObject=Ep,N.zipObjectDeep=Tp,N.zipWith=Rp,N.entries=Kc,N.entriesIn=Gc,N.extend=zc,N.extendWith=Uo,Ka(N,N),N.add=Sm,N.attempt=Zc,N.camelCase=kg,N.capitalize=$c,N.ceil=Em,N.clamp=Eg,N.clone=_d,N.cloneDeep=Ad,N.cloneDeepWith=Cd,N.cloneWith=wd,N.conformsTo=xd,N.deburr=Xc,N.defaultTo=im,N.divide=Tm,N.endsWith=Og,N.eq=Le,N.escape=Lg,N.escapeRegExp=Pg,N.every=Up,N.find=Wp,N.findIndex=wc,N.findKey=tg,N.findLast=qp,N.findLastIndex=Ac,N.findLastKey=eg,N.floor=Rm,N.forEach=Rc,N.forEachRight=kc,N.forIn=ng,N.forInRight=rg,N.forOwn=ig,N.forOwnRight=og,N.get=qa,N.gt=Sd,N.gte=Ed,N.has=ug,N.hasIn=Ha,N.head=xc,N.identity=ce,N.includes=Kp,N.indexOf=qf,N.inRange=Tg,N.invoke=hg,N.isArguments=Bn,N.isArray=ft,N.isArrayBuffer=Td,N.isArrayLike=ae,N.isArrayLikeObject=Ut,N.isBoolean=Rd,N.isBuffer=bn,N.isDate=kd,N.isElement=Od,N.isEmpty=Ld,N.isEqual=Pd,N.isEqualWith=Dd,N.isError=ja,N.isFinite=Id,N.isFunction=en,N.isInteger=Fc,N.isLength=Fo,N.isMap=Mc,N.isMatch=Nd,N.isMatchWith=Bd,N.isNaN=Fd,N.isNative=Md,N.isNil=jd,N.isNull=Ud,N.isNumber=Uc,N.isObject=It,N.isObjectLike=Bt,N.isPlainObject=ci,N.isRegExp=Wa,N.isSafeInteger=Wd,N.isSet=jc,N.isString=Mo,N.isSymbol=de,N.isTypedArray=sr,N.isUndefined=qd,N.isWeakMap=Hd,N.isWeakSet=zd,N.join=Kf,N.kebabCase=Dg,N.last=Ce,N.lastIndexOf=Gf,N.lowerCase=Ig,N.lowerFirst=Ng,N.lt=Vd,N.lte=Jd,N.max=km,N.maxBy=Om,N.mean=Lm,N.meanBy=Pm,N.min=Dm,N.minBy=Im,N.stubArray=$a,N.stubFalse=Xa,N.stubObject=bm,N.stubString=_m,N.stubTrue=wm,N.multiply=Nm,N.nth=$f,N.noConflict=hm,N.noop=Ga,N.now=Io,N.pad=Bg,N.padEnd=Fg,N.padStart=Mg,N.parseInt=Ug,N.random=Rg,N.reduce=Zp,N.reduceRight=Qp,N.repeat=jg,N.replace=Wg,N.result=yg,N.round=Bm,N.runInContext=i,N.sample=ed,N.size=id,N.snakeCase=qg,N.some=od,N.sortedIndex=np,N.sortedIndexBy=rp,N.sortedIndexOf=ip,N.sortedLastIndex=op,N.sortedLastIndexBy=sp,N.sortedLastIndexOf=ap,N.startCase=zg,N.startsWith=Vg,N.subtract=Fm,N.sum=Mm,N.sumBy=Um,N.template=Jg,N.times=Am,N.toFinite=nn,N.toInteger=dt,N.toLength=qc,N.toLower=Kg,N.toNumber=xe,N.toSafeInteger=Kd,N.toString=Et,N.toUpper=Gg,N.trim=$g,N.trimEnd=Xg,N.trimStart=Yg,N.truncate=Zg,N.unescape=Qg,N.uniqueId=xm,N.upperCase=tm,N.upperFirst=za,N.each=Rc,N.eachRight=kc,N.first=xc,Ka(N,function(){var t={};return We(N,function(e,r){xt.call(N.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),N.VERSION=y,Zt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){N[t].placeholder=N}),Zt(["drop","take"],function(t,e){bt.prototype[t]=function(r){r=r===n?1:qt(dt(r),0);var x=this.__filtered__&&!e?new bt(this):this.clone();return x.__filtered__?x.__takeCount__=$t(r,x.__takeCount__):x.__views__.push({size:$t(r,At),type:t+(x.__dir__<0?"Right":"")}),x},bt.prototype[t+"Right"]=function(r){return this.reverse()[t](r).reverse()}}),Zt(["filter","map","takeWhile"],function(t,e){var r=e+1,x=r==j||r==q;bt.prototype[t]=function(P){var B=this.clone();return B.__iteratees__.push({iteratee:ut(P,3),type:r}),B.__filtered__=B.__filtered__||x,B}}),Zt(["head","last"],function(t,e){var r="take"+(e?"Right":"");bt.prototype[t]=function(){return this[r](1).value()[0]}}),Zt(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");bt.prototype[t]=function(){return this.__filtered__?new bt(this):this[r](1)}}),bt.prototype.compact=function(){return this.filter(ce)},bt.prototype.find=function(t){return this.filter(t).head()},bt.prototype.findLast=function(t){return this.reverse().find(t)},bt.prototype.invokeMap=vt(function(t,e){return typeof t=="function"?new bt(this):this.map(function(r){return ri(r,t,e)})}),bt.prototype.reject=function(t){return this.filter(Bo(ut(t)))},bt.prototype.slice=function(t,e){t=dt(t);var r=this;return r.__filtered__&&(t>0||e<0)?new bt(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==n&&(e=dt(e),r=e<0?r.dropRight(-e):r.take(e-t)),r)},bt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},bt.prototype.toArray=function(){return this.take(At)},We(bt.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),x=/^(?:head|last)$/.test(e),P=N[x?"take"+(e=="last"?"Right":""):e],B=x||/^find/.test(e);P&&(N.prototype[e]=function(){var U=this.__wrapped__,H=x?[1]:arguments,V=U instanceof bt,tt=H[0],et=V||ft(U),nt=function(yt){var _t=P.apply(N,Me([yt],H));return x&&ot?_t[0]:_t};et&&r&&typeof tt=="function"&&tt.length!=1&&(V=et=!1);var ot=this.__chain__,at=!!this.__actions__.length,ct=B&&!ot,gt=V&&!at;if(!B&&et){U=gt?U:new bt(this);var lt=t.apply(U,H);return lt.__actions__.push({func:Po,args:[nt],thisArg:n}),new _e(lt,ot)}return ct&&gt?t.apply(this,H):(lt=this.thru(nt),ct?x?lt.value()[0]:lt.value():lt)})}),Zt(["pop","push","shift","sort","splice","unshift"],function(t){var e=Xn[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",x=/^(?:pop|shift)$/.test(t);N.prototype[t]=function(){var P=arguments;if(x&&!this.__chain__){var B=this.value();return e.apply(ft(B)?B:[],P)}return this[r](function(U){return e.apply(ft(U)?U:[],P)})}}),We(bt.prototype,function(t,e){var r=N[e];if(r){var x=r.name+"";xt.call(er,x)||(er[x]=[]),er[x].push({name:e,func:r})}}),er[So(n,R).name]=[{name:"wrapper",func:n}],bt.prototype.clone=Zl,bt.prototype.reverse=Ql,bt.prototype.value=th,N.prototype.at=Op,N.prototype.chain=Lp,N.prototype.commit=Pp,N.prototype.next=Dp,N.prototype.plant=Np,N.prototype.reverse=Bp,N.prototype.toJSON=N.prototype.valueOf=N.prototype.value=Fp,N.prototype.first=N.prototype.head,Xr&&(N.prototype[Xr]=Ip),N},l=g();Ge?((Ge.exports=l)._=l,Ir._=l):Wt._=l}).call(De)})(Vo,Vo.exports);var jm=Vo.exports;const Wm=uu(jm);function dl(O,L){return function(){return O.apply(L,arguments)}}const{toString:qm}=Object.prototype,{getPrototypeOf:cu}=Object,$o=(O=>L=>{const n=qm.call(L);return O[n]||(O[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ve=O=>(O=O.toLowerCase(),L=>$o(L)===O),Xo=O=>L=>typeof L===O,{isArray:cr}=Array,hi=Xo("undefined");function Hm(O){return O!==null&&!hi(O)&&O.constructor!==null&&!hi(O.constructor)&&Se(O.constructor.isBuffer)&&O.constructor.isBuffer(O)}const gl=Ve("ArrayBuffer");function zm(O){let L;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?L=ArrayBuffer.isView(O):L=O&&O.buffer&&gl(O.buffer),L}const Vm=Xo("string"),Se=Xo("function"),ml=Xo("number"),Yo=O=>O!==null&&typeof O=="object",Jm=O=>O===!0||O===!1,jo=O=>{if($o(O)!=="object")return!1;const L=cu(O);return(L===null||L===Object.prototype||Object.getPrototypeOf(L)===null)&&!(Symbol.toStringTag in O)&&!(Symbol.iterator in O)},Km=Ve("Date"),Gm=Ve("File"),$m=Ve("Blob"),Xm=Ve("FileList"),Ym=O=>Yo(O)&&Se(O.pipe),Zm=O=>{let L;return O&&(typeof FormData=="function"&&O instanceof FormData||Se(O.append)&&((L=$o(O))==="formdata"||L==="object"&&Se(O.toString)&&O.toString()==="[object FormData]"))},Qm=Ve("URLSearchParams"),tv=O=>O.trim?O.trim():O.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fi(O,L,{allOwnKeys:n=!1}={}){if(O===null||typeof O>"u")return;let y,c;if(typeof O!="object"&&(O=[O]),cr(O))for(y=0,c=O.length;y<c;y++)L.call(null,O[y],y,O);else{const b=n?Object.getOwnPropertyNames(O):Object.keys(O),s=b.length;let h;for(y=0;y<s;y++)h=b[y],L.call(null,O[h],h,O)}}function vl(O,L){L=L.toLowerCase();const n=Object.keys(O);let y=n.length,c;for(;y-- >0;)if(c=n[y],L===c.toLowerCase())return c;return null}const yl=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),bl=O=>!hi(O)&&O!==yl;function eu(){const{caseless:O}=bl(this)&&this||{},L={},n=(y,c)=>{const b=O&&vl(L,c)||c;jo(L[b])&&jo(y)?L[b]=eu(L[b],y):jo(y)?L[b]=eu({},y):cr(y)?L[b]=y.slice():L[b]=y};for(let y=0,c=arguments.length;y<c;y++)arguments[y]&&fi(arguments[y],n);return L}const ev=(O,L,n,{allOwnKeys:y}={})=>(fi(L,(c,b)=>{n&&Se(c)?O[b]=dl(c,n):O[b]=c},{allOwnKeys:y}),O),nv=O=>(O.charCodeAt(0)===65279&&(O=O.slice(1)),O),rv=(O,L,n,y)=>{O.prototype=Object.create(L.prototype,y),O.prototype.constructor=O,Object.defineProperty(O,"super",{value:L.prototype}),n&&Object.assign(O.prototype,n)},iv=(O,L,n,y)=>{let c,b,s;const h={};if(L=L||{},O==null)return L;do{for(c=Object.getOwnPropertyNames(O),b=c.length;b-- >0;)s=c[b],(!y||y(s,O,L))&&!h[s]&&(L[s]=O[s],h[s]=!0);O=n!==!1&&cu(O)}while(O&&(!n||n(O,L))&&O!==Object.prototype);return L},ov=(O,L,n)=>{O=String(O),(n===void 0||n>O.length)&&(n=O.length),n-=L.length;const y=O.indexOf(L,n);return y!==-1&&y===n},sv=O=>{if(!O)return null;if(cr(O))return O;let L=O.length;if(!ml(L))return null;const n=new Array(L);for(;L-- >0;)n[L]=O[L];return n},av=(O=>L=>O&&L instanceof O)(typeof Uint8Array<"u"&&cu(Uint8Array)),uv=(O,L)=>{const y=(O&&O[Symbol.iterator]).call(O);let c;for(;(c=y.next())&&!c.done;){const b=c.value;L.call(O,b[0],b[1])}},cv=(O,L)=>{let n;const y=[];for(;(n=O.exec(L))!==null;)y.push(n);return y},lv=Ve("HTMLFormElement"),hv=O=>O.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,y,c){return y.toUpperCase()+c}),el=(({hasOwnProperty:O})=>(L,n)=>O.call(L,n))(Object.prototype),fv=Ve("RegExp"),_l=(O,L)=>{const n=Object.getOwnPropertyDescriptors(O),y={};fi(n,(c,b)=>{L(c,b,O)!==!1&&(y[b]=c)}),Object.defineProperties(O,y)},pv=O=>{_l(O,(L,n)=>{if(Se(O)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const y=O[n];if(Se(y)){if(L.enumerable=!1,"writable"in L){L.writable=!1;return}L.set||(L.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},dv=(O,L)=>{const n={},y=c=>{c.forEach(b=>{n[b]=!0})};return cr(O)?y(O):y(String(O).split(L)),n},gv=()=>{},mv=(O,L)=>(O=+O,Number.isFinite(O)?O:L),Ya="abcdefghijklmnopqrstuvwxyz",nl="0123456789",wl={DIGIT:nl,ALPHA:Ya,ALPHA_DIGIT:Ya+Ya.toUpperCase()+nl},vv=(O=16,L=wl.ALPHA_DIGIT)=>{let n="";const{length:y}=L;for(;O--;)n+=L[Math.random()*y|0];return n};function yv(O){return!!(O&&Se(O.append)&&O[Symbol.toStringTag]==="FormData"&&O[Symbol.iterator])}const bv=O=>{const L=new Array(10),n=(y,c)=>{if(Yo(y)){if(L.indexOf(y)>=0)return;if(!("toJSON"in y)){L[c]=y;const b=cr(y)?[]:{};return fi(y,(s,h)=>{const a=n(s,c+1);!hi(a)&&(b[h]=a)}),L[c]=void 0,b}}return y};return n(O,0)},_v=Ve("AsyncFunction"),wv=O=>O&&(Yo(O)||Se(O))&&Se(O.then)&&Se(O.catch),Q={isArray:cr,isArrayBuffer:gl,isBuffer:Hm,isFormData:Zm,isArrayBufferView:zm,isString:Vm,isNumber:ml,isBoolean:Jm,isObject:Yo,isPlainObject:jo,isUndefined:hi,isDate:Km,isFile:Gm,isBlob:$m,isRegExp:fv,isFunction:Se,isStream:Ym,isURLSearchParams:Qm,isTypedArray:av,isFileList:Xm,forEach:fi,merge:eu,extend:ev,trim:tv,stripBOM:nv,inherits:rv,toFlatObject:iv,kindOf:$o,kindOfTest:Ve,endsWith:ov,toArray:sv,forEachEntry:uv,matchAll:cv,isHTMLForm:lv,hasOwnProperty:el,hasOwnProp:el,reduceDescriptors:_l,freezeMethods:pv,toObjectSet:dv,toCamelCase:hv,noop:gv,toFiniteNumber:mv,findKey:vl,global:yl,isContextDefined:bl,ALPHABET:wl,generateString:vv,isSpecCompliantForm:yv,toJSONObject:bv,isAsyncFn:_v,isThenable:wv};function Ct(O,L,n,y,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=O,this.name="AxiosError",L&&(this.code=L),n&&(this.config=n),y&&(this.request=y),c&&(this.response=c)}Q.inherits(Ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Al=Ct.prototype,Cl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(O=>{Cl[O]={value:O}});Object.defineProperties(Ct,Cl);Object.defineProperty(Al,"isAxiosError",{value:!0});Ct.from=(O,L,n,y,c,b)=>{const s=Object.create(Al);return Q.toFlatObject(O,s,function(a){return a!==Error.prototype},h=>h!=="isAxiosError"),Ct.call(s,O.message,L,n,y,c),s.cause=O,s.name=O.name,b&&Object.assign(s,b),s};const Av=null;function nu(O){return Q.isPlainObject(O)||Q.isArray(O)}function xl(O){return Q.endsWith(O,"[]")?O.slice(0,-2):O}function rl(O,L,n){return O?O.concat(L).map(function(c,b){return c=xl(c),!n&&b?"["+c+"]":c}).join(n?".":""):L}function Cv(O){return Q.isArray(O)&&!O.some(nu)}const xv=Q.toFlatObject(Q,{},null,function(L){return/^is[A-Z]/.test(L)});function Zo(O,L,n){if(!Q.isObject(O))throw new TypeError("target must be an object");L=L||new FormData,n=Q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,v){return!Q.isUndefined(v[w])});const y=n.metaTokens,c=n.visitor||C,b=n.dots,s=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(L);if(!Q.isFunction(c))throw new TypeError("visitor must be a function");function p(u){if(u===null)return"";if(Q.isDate(u))return u.toISOString();if(!a&&Q.isBlob(u))throw new Ct("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(u)||Q.isTypedArray(u)?a&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function C(u,w,v){let R=u;if(u&&!v&&typeof u=="object"){if(Q.endsWith(w,"{}"))w=y?w:w.slice(0,-2),u=JSON.stringify(u);else if(Q.isArray(u)&&Cv(u)||(Q.isFileList(u)||Q.endsWith(w,"[]"))&&(R=Q.toArray(u)))return w=xl(w),R.forEach(function(d,S){!(Q.isUndefined(d)||d===null)&&L.append(s===!0?rl([w],S,b):s===null?w:w+"[]",p(d))}),!1}return nu(u)?!0:(L.append(rl(v,w,b),p(u)),!1)}const f=[],m=Object.assign(xv,{defaultVisitor:C,convertValue:p,isVisitable:nu});function _(u,w){if(!Q.isUndefined(u)){if(f.indexOf(u)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(u),Q.forEach(u,function(R,o){(!(Q.isUndefined(R)||R===null)&&c.call(L,R,Q.isString(o)?o.trim():o,w,m))===!0&&_(R,w?w.concat(o):[o])}),f.pop()}}if(!Q.isObject(O))throw new TypeError("data must be an object");return _(O),L}function il(O){const L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(O).replace(/[!'()~]|%20|%00/g,function(y){return L[y]})}function lu(O,L){this._pairs=[],O&&Zo(O,this,L)}const Sl=lu.prototype;Sl.append=function(L,n){this._pairs.push([L,n])};Sl.toString=function(L){const n=L?function(y){return L.call(this,y,il)}:il;return this._pairs.map(function(c){return n(c[0])+"="+n(c[1])},"").join("&")};function Sv(O){return encodeURIComponent(O).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function El(O,L,n){if(!L)return O;const y=n&&n.encode||Sv,c=n&&n.serialize;let b;if(c?b=c(L,n):b=Q.isURLSearchParams(L)?L.toString():new lu(L,n).toString(y),b){const s=O.indexOf("#");s!==-1&&(O=O.slice(0,s)),O+=(O.indexOf("?")===-1?"?":"&")+b}return O}class Ev{constructor(){this.handlers=[]}use(L,n,y){return this.handlers.push({fulfilled:L,rejected:n,synchronous:y?y.synchronous:!1,runWhen:y?y.runWhen:null}),this.handlers.length-1}eject(L){this.handlers[L]&&(this.handlers[L]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(L){Q.forEach(this.handlers,function(y){y!==null&&L(y)})}}const ol=Ev,Tl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tv=typeof URLSearchParams<"u"?URLSearchParams:lu,Rv=typeof FormData<"u"?FormData:null,kv=typeof Blob<"u"?Blob:null,Ov=(()=>{let O;return typeof navigator<"u"&&((O=navigator.product)==="ReactNative"||O==="NativeScript"||O==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Lv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ze={isBrowser:!0,classes:{URLSearchParams:Tv,FormData:Rv,Blob:kv},isStandardBrowserEnv:Ov,isStandardBrowserWebWorkerEnv:Lv,protocols:["http","https","file","blob","url","data"]};function Pv(O,L){return Zo(O,new ze.classes.URLSearchParams,Object.assign({visitor:function(n,y,c,b){return ze.isNode&&Q.isBuffer(n)?(this.append(y,n.toString("base64")),!1):b.defaultVisitor.apply(this,arguments)}},L))}function Dv(O){return Q.matchAll(/\w+|\[(\w*)]/g,O).map(L=>L[0]==="[]"?"":L[1]||L[0])}function Iv(O){const L={},n=Object.keys(O);let y;const c=n.length;let b;for(y=0;y<c;y++)b=n[y],L[b]=O[b];return L}function Rl(O){function L(n,y,c,b){let s=n[b++];const h=Number.isFinite(+s),a=b>=n.length;return s=!s&&Q.isArray(c)?c.length:s,a?(Q.hasOwnProp(c,s)?c[s]=[c[s],y]:c[s]=y,!h):((!c[s]||!Q.isObject(c[s]))&&(c[s]=[]),L(n,y,c[s],b)&&Q.isArray(c[s])&&(c[s]=Iv(c[s])),!h)}if(Q.isFormData(O)&&Q.isFunction(O.entries)){const n={};return Q.forEachEntry(O,(y,c)=>{L(Dv(y),c,n,0)}),n}return null}const Nv={"Content-Type":void 0};function Bv(O,L,n){if(Q.isString(O))try{return(L||JSON.parse)(O),Q.trim(O)}catch(y){if(y.name!=="SyntaxError")throw y}return(n||JSON.stringify)(O)}const Qo={transitional:Tl,adapter:["xhr","http"],transformRequest:[function(L,n){const y=n.getContentType()||"",c=y.indexOf("application/json")>-1,b=Q.isObject(L);if(b&&Q.isHTMLForm(L)&&(L=new FormData(L)),Q.isFormData(L))return c&&c?JSON.stringify(Rl(L)):L;if(Q.isArrayBuffer(L)||Q.isBuffer(L)||Q.isStream(L)||Q.isFile(L)||Q.isBlob(L))return L;if(Q.isArrayBufferView(L))return L.buffer;if(Q.isURLSearchParams(L))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),L.toString();let h;if(b){if(y.indexOf("application/x-www-form-urlencoded")>-1)return Pv(L,this.formSerializer).toString();if((h=Q.isFileList(L))||y.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Zo(h?{"files[]":L}:L,a&&new a,this.formSerializer)}}return b||c?(n.setContentType("application/json",!1),Bv(L)):L}],transformResponse:[function(L){const n=this.transitional||Qo.transitional,y=n&&n.forcedJSONParsing,c=this.responseType==="json";if(L&&Q.isString(L)&&(y&&!this.responseType||c)){const s=!(n&&n.silentJSONParsing)&&c;try{return JSON.parse(L)}catch(h){if(s)throw h.name==="SyntaxError"?Ct.from(h,Ct.ERR_BAD_RESPONSE,this,null,this.response):h}}return L}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ze.classes.FormData,Blob:ze.classes.Blob},validateStatus:function(L){return L>=200&&L<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Q.forEach(["delete","get","head"],function(L){Qo.headers[L]={}});Q.forEach(["post","put","patch"],function(L){Qo.headers[L]=Q.merge(Nv)});const hu=Qo,Fv=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mv=O=>{const L={};let n,y,c;return O&&O.split(`
`).forEach(function(s){c=s.indexOf(":"),n=s.substring(0,c).trim().toLowerCase(),y=s.substring(c+1).trim(),!(!n||L[n]&&Fv[n])&&(n==="set-cookie"?L[n]?L[n].push(y):L[n]=[y]:L[n]=L[n]?L[n]+", "+y:y)}),L},sl=Symbol("internals");function li(O){return O&&String(O).trim().toLowerCase()}function Wo(O){return O===!1||O==null?O:Q.isArray(O)?O.map(Wo):String(O)}function Uv(O){const L=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let y;for(;y=n.exec(O);)L[y[1]]=y[2];return L}const jv=O=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(O.trim());function Za(O,L,n,y,c){if(Q.isFunction(y))return y.call(this,L,n);if(c&&(L=n),!!Q.isString(L)){if(Q.isString(y))return L.indexOf(y)!==-1;if(Q.isRegExp(y))return y.test(L)}}function Wv(O){return O.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(L,n,y)=>n.toUpperCase()+y)}function qv(O,L){const n=Q.toCamelCase(" "+L);["get","set","has"].forEach(y=>{Object.defineProperty(O,y+n,{value:function(c,b,s){return this[y].call(this,L,c,b,s)},configurable:!0})})}class ts{constructor(L){L&&this.set(L)}set(L,n,y){const c=this;function b(h,a,p){const C=li(a);if(!C)throw new Error("header name must be a non-empty string");const f=Q.findKey(c,C);(!f||c[f]===void 0||p===!0||p===void 0&&c[f]!==!1)&&(c[f||a]=Wo(h))}const s=(h,a)=>Q.forEach(h,(p,C)=>b(p,C,a));return Q.isPlainObject(L)||L instanceof this.constructor?s(L,n):Q.isString(L)&&(L=L.trim())&&!jv(L)?s(Mv(L),n):L!=null&&b(n,L,y),this}get(L,n){if(L=li(L),L){const y=Q.findKey(this,L);if(y){const c=this[y];if(!n)return c;if(n===!0)return Uv(c);if(Q.isFunction(n))return n.call(this,c,y);if(Q.isRegExp(n))return n.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(L,n){if(L=li(L),L){const y=Q.findKey(this,L);return!!(y&&this[y]!==void 0&&(!n||Za(this,this[y],y,n)))}return!1}delete(L,n){const y=this;let c=!1;function b(s){if(s=li(s),s){const h=Q.findKey(y,s);h&&(!n||Za(y,y[h],h,n))&&(delete y[h],c=!0)}}return Q.isArray(L)?L.forEach(b):b(L),c}clear(L){const n=Object.keys(this);let y=n.length,c=!1;for(;y--;){const b=n[y];(!L||Za(this,this[b],b,L,!0))&&(delete this[b],c=!0)}return c}normalize(L){const n=this,y={};return Q.forEach(this,(c,b)=>{const s=Q.findKey(y,b);if(s){n[s]=Wo(c),delete n[b];return}const h=L?Wv(b):String(b).trim();h!==b&&delete n[b],n[h]=Wo(c),y[h]=!0}),this}concat(...L){return this.constructor.concat(this,...L)}toJSON(L){const n=Object.create(null);return Q.forEach(this,(y,c)=>{y!=null&&y!==!1&&(n[c]=L&&Q.isArray(y)?y.join(", "):y)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([L,n])=>L+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(L){return L instanceof this?L:new this(L)}static concat(L,...n){const y=new this(L);return n.forEach(c=>y.set(c)),y}static accessor(L){const y=(this[sl]=this[sl]={accessors:{}}).accessors,c=this.prototype;function b(s){const h=li(s);y[h]||(qv(c,s),y[h]=!0)}return Q.isArray(L)?L.forEach(b):b(L),this}}ts.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.freezeMethods(ts.prototype);Q.freezeMethods(ts);const on=ts;function Qa(O,L){const n=this||hu,y=L||n,c=on.from(y.headers);let b=y.data;return Q.forEach(O,function(h){b=h.call(n,b,c.normalize(),L?L.status:void 0)}),c.normalize(),b}function kl(O){return!!(O&&O.__CANCEL__)}function pi(O,L,n){Ct.call(this,O??"canceled",Ct.ERR_CANCELED,L,n),this.name="CanceledError"}Q.inherits(pi,Ct,{__CANCEL__:!0});function Hv(O,L,n){const y=n.config.validateStatus;!n.status||!y||y(n.status)?O(n):L(new Ct("Request failed with status code "+n.status,[Ct.ERR_BAD_REQUEST,Ct.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const zv=ze.isStandardBrowserEnv?function(){return{write:function(n,y,c,b,s,h){const a=[];a.push(n+"="+encodeURIComponent(y)),Q.isNumber(c)&&a.push("expires="+new Date(c).toGMTString()),Q.isString(b)&&a.push("path="+b),Q.isString(s)&&a.push("domain="+s),h===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(n){const y=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return y?decodeURIComponent(y[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Vv(O){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(O)}function Jv(O,L){return L?O.replace(/\/+$/,"")+"/"+L.replace(/^\/+/,""):O}function Ol(O,L){return O&&!Vv(L)?Jv(O,L):L}const Kv=ze.isStandardBrowserEnv?function(){const L=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let y;function c(b){let s=b;return L&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return y=c(window.location.href),function(s){const h=Q.isString(s)?c(s):s;return h.protocol===y.protocol&&h.host===y.host}}():function(){return function(){return!0}}();function Gv(O){const L=/^([-+\w]{1,25})(:?\/\/|:)/.exec(O);return L&&L[1]||""}function $v(O,L){O=O||10;const n=new Array(O),y=new Array(O);let c=0,b=0,s;return L=L!==void 0?L:1e3,function(a){const p=Date.now(),C=y[b];s||(s=p),n[c]=a,y[c]=p;let f=b,m=0;for(;f!==c;)m+=n[f++],f=f%O;if(c=(c+1)%O,c===b&&(b=(b+1)%O),p-s<L)return;const _=C&&p-C;return _?Math.round(m*1e3/_):void 0}}function al(O,L){let n=0;const y=$v(50,250);return c=>{const b=c.loaded,s=c.lengthComputable?c.total:void 0,h=b-n,a=y(h),p=b<=s;n=b;const C={loaded:b,total:s,progress:s?b/s:void 0,bytes:h,rate:a||void 0,estimated:a&&s&&p?(s-b)/a:void 0,event:c};C[L?"download":"upload"]=!0,O(C)}}const Xv=typeof XMLHttpRequest<"u",Yv=Xv&&function(O){return new Promise(function(n,y){let c=O.data;const b=on.from(O.headers).normalize(),s=O.responseType;let h;function a(){O.cancelToken&&O.cancelToken.unsubscribe(h),O.signal&&O.signal.removeEventListener("abort",h)}Q.isFormData(c)&&(ze.isStandardBrowserEnv||ze.isStandardBrowserWebWorkerEnv?b.setContentType(!1):b.setContentType("multipart/form-data;",!1));let p=new XMLHttpRequest;if(O.auth){const _=O.auth.username||"",u=O.auth.password?unescape(encodeURIComponent(O.auth.password)):"";b.set("Authorization","Basic "+btoa(_+":"+u))}const C=Ol(O.baseURL,O.url);p.open(O.method.toUpperCase(),El(C,O.params,O.paramsSerializer),!0),p.timeout=O.timeout;function f(){if(!p)return;const _=on.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),w={data:!s||s==="text"||s==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:_,config:O,request:p};Hv(function(R){n(R),a()},function(R){y(R),a()},w),p=null}if("onloadend"in p?p.onloadend=f:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(f)},p.onabort=function(){p&&(y(new Ct("Request aborted",Ct.ECONNABORTED,O,p)),p=null)},p.onerror=function(){y(new Ct("Network Error",Ct.ERR_NETWORK,O,p)),p=null},p.ontimeout=function(){let u=O.timeout?"timeout of "+O.timeout+"ms exceeded":"timeout exceeded";const w=O.transitional||Tl;O.timeoutErrorMessage&&(u=O.timeoutErrorMessage),y(new Ct(u,w.clarifyTimeoutError?Ct.ETIMEDOUT:Ct.ECONNABORTED,O,p)),p=null},ze.isStandardBrowserEnv){const _=(O.withCredentials||Kv(C))&&O.xsrfCookieName&&zv.read(O.xsrfCookieName);_&&b.set(O.xsrfHeaderName,_)}c===void 0&&b.setContentType(null),"setRequestHeader"in p&&Q.forEach(b.toJSON(),function(u,w){p.setRequestHeader(w,u)}),Q.isUndefined(O.withCredentials)||(p.withCredentials=!!O.withCredentials),s&&s!=="json"&&(p.responseType=O.responseType),typeof O.onDownloadProgress=="function"&&p.addEventListener("progress",al(O.onDownloadProgress,!0)),typeof O.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",al(O.onUploadProgress)),(O.cancelToken||O.signal)&&(h=_=>{p&&(y(!_||_.type?new pi(null,O,p):_),p.abort(),p=null)},O.cancelToken&&O.cancelToken.subscribe(h),O.signal&&(O.signal.aborted?h():O.signal.addEventListener("abort",h)));const m=Gv(C);if(m&&ze.protocols.indexOf(m)===-1){y(new Ct("Unsupported protocol "+m+":",Ct.ERR_BAD_REQUEST,O));return}p.send(c||null)})},qo={http:Av,xhr:Yv};Q.forEach(qo,(O,L)=>{if(O){try{Object.defineProperty(O,"name",{value:L})}catch{}Object.defineProperty(O,"adapterName",{value:L})}});const Zv={getAdapter:O=>{O=Q.isArray(O)?O:[O];const{length:L}=O;let n,y;for(let c=0;c<L&&(n=O[c],!(y=Q.isString(n)?qo[n.toLowerCase()]:n));c++);if(!y)throw y===!1?new Ct(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Q.hasOwnProp(qo,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!Q.isFunction(y))throw new TypeError("adapter is not a function");return y},adapters:qo};function tu(O){if(O.cancelToken&&O.cancelToken.throwIfRequested(),O.signal&&O.signal.aborted)throw new pi(null,O)}function ul(O){return tu(O),O.headers=on.from(O.headers),O.data=Qa.call(O,O.transformRequest),["post","put","patch"].indexOf(O.method)!==-1&&O.headers.setContentType("application/x-www-form-urlencoded",!1),Zv.getAdapter(O.adapter||hu.adapter)(O).then(function(y){return tu(O),y.data=Qa.call(O,O.transformResponse,y),y.headers=on.from(y.headers),y},function(y){return kl(y)||(tu(O),y&&y.response&&(y.response.data=Qa.call(O,O.transformResponse,y.response),y.response.headers=on.from(y.response.headers))),Promise.reject(y)})}const cl=O=>O instanceof on?O.toJSON():O;function ur(O,L){L=L||{};const n={};function y(p,C,f){return Q.isPlainObject(p)&&Q.isPlainObject(C)?Q.merge.call({caseless:f},p,C):Q.isPlainObject(C)?Q.merge({},C):Q.isArray(C)?C.slice():C}function c(p,C,f){if(Q.isUndefined(C)){if(!Q.isUndefined(p))return y(void 0,p,f)}else return y(p,C,f)}function b(p,C){if(!Q.isUndefined(C))return y(void 0,C)}function s(p,C){if(Q.isUndefined(C)){if(!Q.isUndefined(p))return y(void 0,p)}else return y(void 0,C)}function h(p,C,f){if(f in L)return y(p,C);if(f in O)return y(void 0,p)}const a={url:b,method:b,data:b,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:h,headers:(p,C)=>c(cl(p),cl(C),!0)};return Q.forEach(Object.keys(Object.assign({},O,L)),function(C){const f=a[C]||c,m=f(O[C],L[C],C);Q.isUndefined(m)&&f!==h||(n[C]=m)}),n}const Ll="1.4.0",fu={};["object","boolean","number","function","string","symbol"].forEach((O,L)=>{fu[O]=function(y){return typeof y===O||"a"+(L<1?"n ":" ")+O}});const ll={};fu.transitional=function(L,n,y){function c(b,s){return"[Axios v"+Ll+"] Transitional option '"+b+"'"+s+(y?". "+y:"")}return(b,s,h)=>{if(L===!1)throw new Ct(c(s," has been removed"+(n?" in "+n:"")),Ct.ERR_DEPRECATED);return n&&!ll[s]&&(ll[s]=!0,console.warn(c(s," has been deprecated since v"+n+" and will be removed in the near future"))),L?L(b,s,h):!0}};function Qv(O,L,n){if(typeof O!="object")throw new Ct("options must be an object",Ct.ERR_BAD_OPTION_VALUE);const y=Object.keys(O);let c=y.length;for(;c-- >0;){const b=y[c],s=L[b];if(s){const h=O[b],a=h===void 0||s(h,b,O);if(a!==!0)throw new Ct("option "+b+" must be "+a,Ct.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ct("Unknown option "+b,Ct.ERR_BAD_OPTION)}}const ru={assertOptions:Qv,validators:fu},_n=ru.validators;class Jo{constructor(L){this.defaults=L,this.interceptors={request:new ol,response:new ol}}request(L,n){typeof L=="string"?(n=n||{},n.url=L):n=L||{},n=ur(this.defaults,n);const{transitional:y,paramsSerializer:c,headers:b}=n;y!==void 0&&ru.assertOptions(y,{silentJSONParsing:_n.transitional(_n.boolean),forcedJSONParsing:_n.transitional(_n.boolean),clarifyTimeoutError:_n.transitional(_n.boolean)},!1),c!=null&&(Q.isFunction(c)?n.paramsSerializer={serialize:c}:ru.assertOptions(c,{encode:_n.function,serialize:_n.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s;s=b&&Q.merge(b.common,b[n.method]),s&&Q.forEach(["delete","get","head","post","put","patch","common"],u=>{delete b[u]}),n.headers=on.concat(s,b);const h=[];let a=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(a=a&&w.synchronous,h.unshift(w.fulfilled,w.rejected))});const p=[];this.interceptors.response.forEach(function(w){p.push(w.fulfilled,w.rejected)});let C,f=0,m;if(!a){const u=[ul.bind(this),void 0];for(u.unshift.apply(u,h),u.push.apply(u,p),m=u.length,C=Promise.resolve(n);f<m;)C=C.then(u[f++],u[f++]);return C}m=h.length;let _=n;for(f=0;f<m;){const u=h[f++],w=h[f++];try{_=u(_)}catch(v){w.call(this,v);break}}try{C=ul.call(this,_)}catch(u){return Promise.reject(u)}for(f=0,m=p.length;f<m;)C=C.then(p[f++],p[f++]);return C}getUri(L){L=ur(this.defaults,L);const n=Ol(L.baseURL,L.url);return El(n,L.params,L.paramsSerializer)}}Q.forEach(["delete","get","head","options"],function(L){Jo.prototype[L]=function(n,y){return this.request(ur(y||{},{method:L,url:n,data:(y||{}).data}))}});Q.forEach(["post","put","patch"],function(L){function n(y){return function(b,s,h){return this.request(ur(h||{},{method:L,headers:y?{"Content-Type":"multipart/form-data"}:{},url:b,data:s}))}}Jo.prototype[L]=n(),Jo.prototype[L+"Form"]=n(!0)});const Ho=Jo;class pu{constructor(L){if(typeof L!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(b){n=b});const y=this;this.promise.then(c=>{if(!y._listeners)return;let b=y._listeners.length;for(;b-- >0;)y._listeners[b](c);y._listeners=null}),this.promise.then=c=>{let b;const s=new Promise(h=>{y.subscribe(h),b=h}).then(c);return s.cancel=function(){y.unsubscribe(b)},s},L(function(b,s,h){y.reason||(y.reason=new pi(b,s,h),n(y.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(L){if(this.reason){L(this.reason);return}this._listeners?this._listeners.push(L):this._listeners=[L]}unsubscribe(L){if(!this._listeners)return;const n=this._listeners.indexOf(L);n!==-1&&this._listeners.splice(n,1)}static source(){let L;return{token:new pu(function(c){L=c}),cancel:L}}}const ty=pu;function ey(O){return function(n){return O.apply(null,n)}}function ny(O){return Q.isObject(O)&&O.isAxiosError===!0}const iu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(iu).forEach(([O,L])=>{iu[L]=O});const ry=iu;function Pl(O){const L=new Ho(O),n=dl(Ho.prototype.request,L);return Q.extend(n,Ho.prototype,L,{allOwnKeys:!0}),Q.extend(n,L,null,{allOwnKeys:!0}),n.create=function(c){return Pl(ur(O,c))},n}const Ht=Pl(hu);Ht.Axios=Ho;Ht.CanceledError=pi;Ht.CancelToken=ty;Ht.isCancel=kl;Ht.VERSION=Ll;Ht.toFormData=Zo;Ht.AxiosError=Ct;Ht.Cancel=Ht.CanceledError;Ht.all=function(L){return Promise.all(L)};Ht.spread=ey;Ht.isAxiosError=ny;Ht.mergeConfig=ur;Ht.AxiosHeaders=on;Ht.formToJSON=O=>Rl(Q.isHTMLForm(O)?new FormData(O):O);Ht.HttpStatusCode=ry;Ht.default=Ht;const iy=Ht;function ou(O){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},ou(O)}function Kt(O,L){if(!(O instanceof L))throw new TypeError("Cannot call a class as a function")}function hl(O,L){for(var n=0;n<L.length;n++){var y=L[n];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(O,y.key,y)}}function Gt(O,L,n){return L&&hl(O.prototype,L),n&&hl(O,n),Object.defineProperty(O,"prototype",{writable:!1}),O}function su(){return su=Object.assign||function(O){for(var L=1;L<arguments.length;L++){var n=arguments[L];for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(O[y]=n[y])}return O},su.apply(this,arguments)}function ve(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(L&&L.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),L&&au(O,L)}function Ko(O){return Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ko(O)}function au(O,L){return au=Object.setPrototypeOf||function(y,c){return y.__proto__=c,y},au(O,L)}function oy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sy(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function ay(O,L){if(L&&(typeof L=="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sy(O)}function ye(O){var L=oy();return function(){var y=Ko(O),c;if(L){var b=Ko(this).constructor;c=Reflect.construct(y,arguments,b)}else c=y.apply(this,arguments);return ay(this,c)}}var du=function(){function O(){Kt(this,O)}return Gt(O,[{key:"listenForWhisper",value:function(n,y){return this.listen(".client-"+n,y)}},{key:"notification",value:function(n){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",n)}},{key:"stopListeningForWhisper",value:function(n,y){return this.stopListening(".client-"+n,y)}}]),O}(),Dl=function(){function O(L){Kt(this,O),this.setNamespace(L)}return Gt(O,[{key:"format",value:function(n){return n.charAt(0)==="."||n.charAt(0)==="\\"?n.substr(1):(this.namespace&&(n=this.namespace+"."+n),n.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(n){this.namespace=n}}]),O}(),es=function(O){ve(n,O);var L=ye(n);function n(y,c,b){var s;return Kt(this,n),s=L.call(this),s.name=c,s.pusher=y,s.options=b,s.eventFormatter=new Dl(s.options.namespace),s.subscribe(),s}return Gt(n,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(c,b){return this.on(this.eventFormatter.format(c),b),this}},{key:"listenToAll",value:function(c){var b=this;return this.subscription.bind_global(function(s,h){if(!s.startsWith("pusher:")){var a=b.options.namespace.replace(/\./g,"\\"),p=s.startsWith(a)?s.substring(a.length+1):"."+s;c(p,h)}}),this}},{key:"stopListening",value:function(c,b){return b?this.subscription.unbind(this.eventFormatter.format(c),b):this.subscription.unbind(this.eventFormatter.format(c)),this}},{key:"stopListeningToAll",value:function(c){return c?this.subscription.unbind_global(c):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(c){return this.on("pusher:subscription_succeeded",function(){c()}),this}},{key:"error",value:function(c){return this.on("pusher:subscription_error",function(b){c(b)}),this}},{key:"on",value:function(c,b){return this.subscription.bind(c,b),this}}]),n}(du),uy=function(O){ve(n,O);var L=ye(n);function n(){return Kt(this,n),L.apply(this,arguments)}return Gt(n,[{key:"whisper",value:function(c,b){return this.pusher.channels.channels[this.name].trigger("client-".concat(c),b),this}}]),n}(es),cy=function(O){ve(n,O);var L=ye(n);function n(){return Kt(this,n),L.apply(this,arguments)}return Gt(n,[{key:"whisper",value:function(c,b){return this.pusher.channels.channels[this.name].trigger("client-".concat(c),b),this}}]),n}(es),ly=function(O){ve(n,O);var L=ye(n);function n(){return Kt(this,n),L.apply(this,arguments)}return Gt(n,[{key:"here",value:function(c){return this.on("pusher:subscription_succeeded",function(b){c(Object.keys(b.members).map(function(s){return b.members[s]}))}),this}},{key:"joining",value:function(c){return this.on("pusher:member_added",function(b){c(b.info)}),this}},{key:"whisper",value:function(c,b){return this.pusher.channels.channels[this.name].trigger("client-".concat(c),b),this}},{key:"leaving",value:function(c){return this.on("pusher:member_removed",function(b){c(b.info)}),this}}]),n}(es),Il=function(O){ve(n,O);var L=ye(n);function n(y,c,b){var s;return Kt(this,n),s=L.call(this),s.events={},s.listeners={},s.name=c,s.socket=y,s.options=b,s.eventFormatter=new Dl(s.options.namespace),s.subscribe(),s}return Gt(n,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(c,b){return this.on(this.eventFormatter.format(c),b),this}},{key:"stopListening",value:function(c,b){return this.unbindEvent(this.eventFormatter.format(c),b),this}},{key:"subscribed",value:function(c){return this.on("connect",function(b){c(b)}),this}},{key:"error",value:function(c){return this}},{key:"on",value:function(c,b){var s=this;return this.listeners[c]=this.listeners[c]||[],this.events[c]||(this.events[c]=function(h,a){s.name===h&&s.listeners[c]&&s.listeners[c].forEach(function(p){return p(a)})},this.socket.on(c,this.events[c])),this.listeners[c].push(b),this}},{key:"unbind",value:function(){var c=this;Object.keys(this.events).forEach(function(b){c.unbindEvent(b)})}},{key:"unbindEvent",value:function(c,b){this.listeners[c]=this.listeners[c]||[],b&&(this.listeners[c]=this.listeners[c].filter(function(s){return s!==b})),(!b||this.listeners[c].length===0)&&(this.events[c]&&(this.socket.removeListener(c,this.events[c]),delete this.events[c]),delete this.listeners[c])}}]),n}(du),Nl=function(O){ve(n,O);var L=ye(n);function n(){return Kt(this,n),L.apply(this,arguments)}return Gt(n,[{key:"whisper",value:function(c,b){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(c),data:b}),this}}]),n}(Il),hy=function(O){ve(n,O);var L=ye(n);function n(){return Kt(this,n),L.apply(this,arguments)}return Gt(n,[{key:"here",value:function(c){return this.on("presence:subscribed",function(b){c(b.map(function(s){return s.user_info}))}),this}},{key:"joining",value:function(c){return this.on("presence:joining",function(b){return c(b.user_info)}),this}},{key:"whisper",value:function(c,b){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(c),data:b}),this}},{key:"leaving",value:function(c){return this.on("presence:leaving",function(b){return c(b.user_info)}),this}}]),n}(Nl),Go=function(O){ve(n,O);var L=ye(n);function n(){return Kt(this,n),L.apply(this,arguments)}return Gt(n,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(c,b){return this}},{key:"listenToAll",value:function(c){return this}},{key:"stopListening",value:function(c,b){return this}},{key:"subscribed",value:function(c){return this}},{key:"error",value:function(c){return this}},{key:"on",value:function(c,b){return this}}]),n}(du),fl=function(O){ve(n,O);var L=ye(n);function n(){return Kt(this,n),L.apply(this,arguments)}return Gt(n,[{key:"whisper",value:function(c,b){return this}}]),n}(Go),fy=function(O){ve(n,O);var L=ye(n);function n(){return Kt(this,n),L.apply(this,arguments)}return Gt(n,[{key:"here",value:function(c){return this}},{key:"joining",value:function(c){return this}},{key:"whisper",value:function(c,b){return this}},{key:"leaving",value:function(c){return this}}]),n}(Go),gu=function(){function O(L){Kt(this,O),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(L),this.connect()}return Gt(O,[{key:"setOptions",value:function(n){this.options=su(this._defaultOptions,n);var y=this.csrfToken();return y&&(this.options.auth.headers["X-CSRF-TOKEN"]=y,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=y),y=this.options.bearerToken,y&&(this.options.auth.headers.Authorization="Bearer "+y,this.options.userAuthentication.headers.Authorization="Bearer "+y),n}},{key:"csrfToken",value:function(){var n;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(n=document.querySelector('meta[name="csrf-token"]'))?n.getAttribute("content"):null}}]),O}(),py=function(O){ve(n,O);var L=ye(n);function n(){var y;return Kt(this,n),y=L.apply(this,arguments),y.channels={},y}return Gt(n,[{key:"connect",value:function(){typeof this.options.client<"u"?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(c,b,s){return this.channel(c).listen(b,s)}},{key:"channel",value:function(c){return this.channels[c]||(this.channels[c]=new es(this.pusher,c,this.options)),this.channels[c]}},{key:"privateChannel",value:function(c){return this.channels["private-"+c]||(this.channels["private-"+c]=new uy(this.pusher,"private-"+c,this.options)),this.channels["private-"+c]}},{key:"encryptedPrivateChannel",value:function(c){return this.channels["private-encrypted-"+c]||(this.channels["private-encrypted-"+c]=new cy(this.pusher,"private-encrypted-"+c,this.options)),this.channels["private-encrypted-"+c]}},{key:"presenceChannel",value:function(c){return this.channels["presence-"+c]||(this.channels["presence-"+c]=new ly(this.pusher,"presence-"+c,this.options)),this.channels["presence-"+c]}},{key:"leave",value:function(c){var b=this,s=[c,"private-"+c,"private-encrypted-"+c,"presence-"+c];s.forEach(function(h,a){b.leaveChannel(h)})}},{key:"leaveChannel",value:function(c){this.channels[c]&&(this.channels[c].unsubscribe(),delete this.channels[c])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),n}(gu),dy=function(O){ve(n,O);var L=ye(n);function n(){var y;return Kt(this,n),y=L.apply(this,arguments),y.channels={},y}return Gt(n,[{key:"connect",value:function(){var c=this,b=this.getSocketIO();return this.socket=b(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(c.channels).forEach(function(s){s.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(c,b,s){return this.channel(c).listen(b,s)}},{key:"channel",value:function(c){return this.channels[c]||(this.channels[c]=new Il(this.socket,c,this.options)),this.channels[c]}},{key:"privateChannel",value:function(c){return this.channels["private-"+c]||(this.channels["private-"+c]=new Nl(this.socket,"private-"+c,this.options)),this.channels["private-"+c]}},{key:"presenceChannel",value:function(c){return this.channels["presence-"+c]||(this.channels["presence-"+c]=new hy(this.socket,"presence-"+c,this.options)),this.channels["presence-"+c]}},{key:"leave",value:function(c){var b=this,s=[c,"private-"+c,"presence-"+c];s.forEach(function(h){b.leaveChannel(h)})}},{key:"leaveChannel",value:function(c){this.channels[c]&&(this.channels[c].unsubscribe(),delete this.channels[c])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),n}(gu),gy=function(O){ve(n,O);var L=ye(n);function n(){var y;return Kt(this,n),y=L.apply(this,arguments),y.channels={},y}return Gt(n,[{key:"connect",value:function(){}},{key:"listen",value:function(c,b,s){return new Go}},{key:"channel",value:function(c){return new Go}},{key:"privateChannel",value:function(c){return new fl}},{key:"encryptedPrivateChannel",value:function(c){return new fl}},{key:"presenceChannel",value:function(c){return new fy}},{key:"leave",value:function(c){}},{key:"leaveChannel",value:function(c){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),n}(gu),my=function(){function O(L){Kt(this,O),this.options=L,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return Gt(O,[{key:"channel",value:function(n){return this.connector.channel(n)}},{key:"connect",value:function(){this.options.broadcaster=="pusher"?this.connector=new py(this.options):this.options.broadcaster=="socket.io"?this.connector=new dy(this.options):this.options.broadcaster=="null"?this.connector=new gy(this.options):typeof this.options.broadcaster=="function"&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(n){return this.connector.presenceChannel(n)}},{key:"leave",value:function(n){this.connector.leave(n)}},{key:"leaveChannel",value:function(n){this.connector.leaveChannel(n)}},{key:"leaveAllChannels",value:function(){for(var n in this.connector.channels)this.leaveChannel(n)}},{key:"listen",value:function(n,y,c){return this.connector.listen(n,y,c)}},{key:"private",value:function(n){return this.connector.privateChannel(n)}},{key:"encryptedPrivate",value:function(n){return this.connector.encryptedPrivateChannel(n)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":ou(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var n=this;Vue.http.interceptors.push(function(y,c){n.socketId()&&y.headers.set("X-Socket-ID",n.socketId()),c()})}},{key:"registerAxiosRequestInterceptor",value:function(){var n=this;axios.interceptors.request.use(function(y){return n.socketId()&&(y.headers["X-Socket-Id"]=n.socketId()),y})}},{key:"registerjQueryAjaxSetup",value:function(){var n=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(y,c,b){n.socketId()&&b.setRequestHeader("X-Socket-Id",n.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var n=this;document.addEventListener("turbo:before-fetch-request",function(y){y.detail.fetchOptions.headers["X-Socket-Id"]=n.socketId()})}}]),O}(),Bl={exports:{}};/*!
 * Pusher JavaScript Library v8.0.2
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(O,L){(function(y,c){O.exports=c()})(window,function(){return function(n){var y={};function c(b){if(y[b])return y[b].exports;var s=y[b]={i:b,l:!1,exports:{}};return n[b].call(s.exports,s,s.exports,c),s.l=!0,s.exports}return c.m=n,c.c=y,c.d=function(b,s,h){c.o(b,s)||Object.defineProperty(b,s,{enumerable:!0,get:h})},c.r=function(b){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})},c.t=function(b,s){if(s&1&&(b=c(b)),s&8||s&4&&typeof b=="object"&&b&&b.__esModule)return b;var h=Object.create(null);if(c.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:b}),s&2&&typeof b!="string")for(var a in b)c.d(h,a,function(p){return b[p]}.bind(null,a));return h},c.n=function(b){var s=b&&b.__esModule?function(){return b.default}:function(){return b};return c.d(s,"a",s),s},c.o=function(b,s){return Object.prototype.hasOwnProperty.call(b,s)},c.p="",c(c.s=2)}([function(n,y,c){var b=this&&this.__extends||function(){var w=function(v,R){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,d){o.__proto__=d}||function(o,d){for(var S in d)d.hasOwnProperty(S)&&(o[S]=d[S])},w(v,R)};return function(v,R){w(v,R);function o(){this.constructor=v}v.prototype=R===null?Object.create(R):(o.prototype=R.prototype,new o)}}();Object.defineProperty(y,"__esModule",{value:!0});var s=256,h=function(){function w(v){v===void 0&&(v="="),this._paddingCharacter=v}return w.prototype.encodedLength=function(v){return this._paddingCharacter?(v+2)/3*4|0:(v*8+5)/6|0},w.prototype.encode=function(v){for(var R="",o=0;o<v.length-2;o+=3){var d=v[o]<<16|v[o+1]<<8|v[o+2];R+=this._encodeByte(d>>>3*6&63),R+=this._encodeByte(d>>>2*6&63),R+=this._encodeByte(d>>>1*6&63),R+=this._encodeByte(d>>>0*6&63)}var S=v.length-o;if(S>0){var d=v[o]<<16|(S===2?v[o+1]<<8:0);R+=this._encodeByte(d>>>3*6&63),R+=this._encodeByte(d>>>2*6&63),S===2?R+=this._encodeByte(d>>>1*6&63):R+=this._paddingCharacter||"",R+=this._paddingCharacter||""}return R},w.prototype.maxDecodedLength=function(v){return this._paddingCharacter?v/4*3|0:(v*6+7)/8|0},w.prototype.decodedLength=function(v){return this.maxDecodedLength(v.length-this._getPaddingLength(v))},w.prototype.decode=function(v){if(v.length===0)return new Uint8Array(0);for(var R=this._getPaddingLength(v),o=v.length-R,d=new Uint8Array(this.maxDecodedLength(o)),S=0,k=0,T=0,D=0,M=0,W=0,K=0;k<o-4;k+=4)D=this._decodeChar(v.charCodeAt(k+0)),M=this._decodeChar(v.charCodeAt(k+1)),W=this._decodeChar(v.charCodeAt(k+2)),K=this._decodeChar(v.charCodeAt(k+3)),d[S++]=D<<2|M>>>4,d[S++]=M<<4|W>>>2,d[S++]=W<<6|K,T|=D&s,T|=M&s,T|=W&s,T|=K&s;if(k<o-1&&(D=this._decodeChar(v.charCodeAt(k)),M=this._decodeChar(v.charCodeAt(k+1)),d[S++]=D<<2|M>>>4,T|=D&s,T|=M&s),k<o-2&&(W=this._decodeChar(v.charCodeAt(k+2)),d[S++]=M<<4|W>>>2,T|=W&s),k<o-3&&(K=this._decodeChar(v.charCodeAt(k+3)),d[S++]=W<<6|K,T|=K&s),T!==0)throw new Error("Base64Coder: incorrect characters for decoding");return d},w.prototype._encodeByte=function(v){var R=v;return R+=65,R+=25-v>>>8&0-65-26+97,R+=51-v>>>8&26-97-52+48,R+=61-v>>>8&52-48-62+43,R+=62-v>>>8&62-43-63+47,String.fromCharCode(R)},w.prototype._decodeChar=function(v){var R=s;return R+=(42-v&v-44)>>>8&-s+v-43+62,R+=(46-v&v-48)>>>8&-s+v-47+63,R+=(47-v&v-58)>>>8&-s+v-48+52,R+=(64-v&v-91)>>>8&-s+v-65+0,R+=(96-v&v-123)>>>8&-s+v-97+26,R},w.prototype._getPaddingLength=function(v){var R=0;if(this._paddingCharacter){for(var o=v.length-1;o>=0&&v[o]===this._paddingCharacter;o--)R++;if(v.length<4||R>2)throw new Error("Base64Coder: incorrect padding")}return R},w}();y.Coder=h;var a=new h;function p(w){return a.encode(w)}y.encode=p;function C(w){return a.decode(w)}y.decode=C;var f=function(w){b(v,w);function v(){return w!==null&&w.apply(this,arguments)||this}return v.prototype._encodeByte=function(R){var o=R;return o+=65,o+=25-R>>>8&0-65-26+97,o+=51-R>>>8&26-97-52+48,o+=61-R>>>8&52-48-62+45,o+=62-R>>>8&62-45-63+95,String.fromCharCode(o)},v.prototype._decodeChar=function(R){var o=s;return o+=(44-R&R-46)>>>8&-s+R-45+62,o+=(94-R&R-96)>>>8&-s+R-95+63,o+=(47-R&R-58)>>>8&-s+R-48+52,o+=(64-R&R-91)>>>8&-s+R-65+0,o+=(96-R&R-123)>>>8&-s+R-97+26,o},v}(h);y.URLSafeCoder=f;var m=new f;function _(w){return m.encode(w)}y.encodeURLSafe=_;function u(w){return m.decode(w)}y.decodeURLSafe=u,y.encodedLength=function(w){return a.encodedLength(w)},y.maxDecodedLength=function(w){return a.maxDecodedLength(w)},y.decodedLength=function(w){return a.decodedLength(w)}},function(n,y,c){Object.defineProperty(y,"__esModule",{value:!0});var b="utf8: invalid string",s="utf8: invalid source encoding";function h(C){for(var f=new Uint8Array(a(C)),m=0,_=0;_<C.length;_++){var u=C.charCodeAt(_);u<128?f[m++]=u:u<2048?(f[m++]=192|u>>6,f[m++]=128|u&63):u<55296?(f[m++]=224|u>>12,f[m++]=128|u>>6&63,f[m++]=128|u&63):(_++,u=(u&1023)<<10,u|=C.charCodeAt(_)&1023,u+=65536,f[m++]=240|u>>18,f[m++]=128|u>>12&63,f[m++]=128|u>>6&63,f[m++]=128|u&63)}return f}y.encode=h;function a(C){for(var f=0,m=0;m<C.length;m++){var _=C.charCodeAt(m);if(_<128)f+=1;else if(_<2048)f+=2;else if(_<55296)f+=3;else if(_<=57343){if(m>=C.length-1)throw new Error(b);m++,f+=4}else throw new Error(b)}return f}y.encodedLength=a;function p(C){for(var f=[],m=0;m<C.length;m++){var _=C[m];if(_&128){var u=void 0;if(_<224){if(m>=C.length)throw new Error(s);var w=C[++m];if((w&192)!==128)throw new Error(s);_=(_&31)<<6|w&63,u=128}else if(_<240){if(m>=C.length-1)throw new Error(s);var w=C[++m],v=C[++m];if((w&192)!==128||(v&192)!==128)throw new Error(s);_=(_&15)<<12|(w&63)<<6|v&63,u=2048}else if(_<248){if(m>=C.length-2)throw new Error(s);var w=C[++m],v=C[++m],R=C[++m];if((w&192)!==128||(v&192)!==128||(R&192)!==128)throw new Error(s);_=(_&15)<<18|(w&63)<<12|(v&63)<<6|R&63,u=65536}else throw new Error(s);if(_<u||_>=55296&&_<=57343)throw new Error(s);if(_>=65536){if(_>1114111)throw new Error(s);_-=65536,f.push(String.fromCharCode(55296|_>>10)),_=56320|_&1023}}f.push(String.fromCharCode(_))}return f.join("")}y.decode=p},function(n,y,c){n.exports=c(3).default},function(n,y,c){c.r(y);var b=function(){function g(l,i){this.lastId=0,this.prefix=l,this.name=i}return g.prototype.create=function(l){this.lastId++;var i=this.lastId,A=this.prefix+i,E=this.name+"["+i+"]",I=!1,J=function(){I||(l.apply(null,arguments),I=!0)};return this[i]=J,{number:i,id:A,name:E,callback:J}},g.prototype.remove=function(l){delete this[l.number]},g}(),s=new b("_pusher_script_","Pusher.ScriptReceivers"),h={VERSION:"8.0.2",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},a=h,p=function(){function g(l){this.options=l,this.receivers=l.receivers||s,this.loading={}}return g.prototype.load=function(l,i,A){var E=this;if(E.loading[l]&&E.loading[l].length>0)E.loading[l].push(A);else{E.loading[l]=[A];var I=ht.createScriptRequest(E.getPath(l,i)),J=E.receivers.create(function(Y){if(E.receivers.remove(J),E.loading[l]){var st=E.loading[l];delete E.loading[l];for(var rt=function(Nt){Nt||I.cleanup()},pt=0;pt<st.length;pt++)st[pt](Y,rt)}});I.send(J)}},g.prototype.getRoot=function(l){var i,A=ht.getDocument().location.protocol;return l&&l.useTLS||A==="https:"?i=this.options.cdn_https:i=this.options.cdn_http,i.replace(/\/*$/,"")+"/"+this.options.version},g.prototype.getPath=function(l,i){return this.getRoot(i)+"/"+l+this.options.suffix+".js"},g}(),C=p,f=new b("_pusher_dependencies","Pusher.DependenciesReceivers"),m=new C({cdn_http:a.cdn_http,cdn_https:a.cdn_https,version:a.VERSION,suffix:a.dependency_suffix,receivers:f}),_={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},u=function(g){var l="See:",i=_.urls[g];if(!i)return"";var A;return i.fullUrl?A=i.fullUrl:i.path&&(A=_.baseUrl+i.path),A?l+" "+A:""},w={buildLogSuffix:u},v;(function(g){g.UserAuthentication="user-authentication",g.ChannelAuthorization="channel-authorization"})(v||(v={}));var R=function(){var g=function(l,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var I in E)E.hasOwnProperty(I)&&(A[I]=E[I])},g(l,i)};return function(l,i){g(l,i);function A(){this.constructor=l}l.prototype=i===null?Object.create(i):(A.prototype=i.prototype,new A)}}(),o=function(g){R(l,g);function l(i){var A=this.constructor,E=g.call(this,i)||this;return Object.setPrototypeOf(E,A.prototype),E}return l}(Error),d=function(g){R(l,g);function l(i){var A=this.constructor,E=g.call(this,i)||this;return Object.setPrototypeOf(E,A.prototype),E}return l}(Error),S=function(g){R(l,g);function l(i){var A=this.constructor,E=g.call(this,i)||this;return Object.setPrototypeOf(E,A.prototype),E}return l}(Error),k=function(g){R(l,g);function l(i){var A=this.constructor,E=g.call(this,i)||this;return Object.setPrototypeOf(E,A.prototype),E}return l}(Error),T=function(g){R(l,g);function l(i){var A=this.constructor,E=g.call(this,i)||this;return Object.setPrototypeOf(E,A.prototype),E}return l}(Error),D=function(g){R(l,g);function l(i){var A=this.constructor,E=g.call(this,i)||this;return Object.setPrototypeOf(E,A.prototype),E}return l}(Error),M=function(g){R(l,g);function l(i){var A=this.constructor,E=g.call(this,i)||this;return Object.setPrototypeOf(E,A.prototype),E}return l}(Error),W=function(g){R(l,g);function l(i){var A=this.constructor,E=g.call(this,i)||this;return Object.setPrototypeOf(E,A.prototype),E}return l}(Error),K=function(g){R(l,g);function l(i,A){var E=this.constructor,I=g.call(this,A)||this;return I.status=i,Object.setPrototypeOf(I,E.prototype),I}return l}(Error),Z=function(g,l,i,A,E){var I=ht.createXHR();I.open("POST",i.endpoint,!0),I.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var J in i.headers)I.setRequestHeader(J,i.headers[J]);if(i.headersProvider!=null){var Y=i.headersProvider();for(var J in Y)I.setRequestHeader(J,Y[J])}return I.onreadystatechange=function(){if(I.readyState===4)if(I.status===200){var st=void 0,rt=!1;try{st=JSON.parse(I.responseText),rt=!0}catch{E(new K(200,"JSON returned from "+A.toString()+" endpoint was invalid, yet status code was 200. Data was: "+I.responseText),null)}rt&&E(null,st)}else{var pt="";switch(A){case v.UserAuthentication:pt=w.buildLogSuffix("authenticationEndpoint");break;case v.ChannelAuthorization:pt="Clients must be authorized to join private or presence channels. "+w.buildLogSuffix("authorizationEndpoint");break}E(new K(I.status,"Unable to retrieve auth string from "+A.toString()+" endpoint - "+("received status: "+I.status+" from "+i.endpoint+". "+pt)),null)}},I.send(l),I},z=Z;function G(g){return mt(X(g))}var j=String.fromCharCode,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",q=function(g){var l=g.charCodeAt(0);return l<128?g:l<2048?j(192|l>>>6)+j(128|l&63):j(224|l>>>12&15)+j(128|l>>>6&63)+j(128|l&63)},X=function(g){return g.replace(/[^\x00-\x7F]/g,q)},it=function(g){var l=[0,2,1][g.length%3],i=g.charCodeAt(0)<<16|(g.length>1?g.charCodeAt(1):0)<<8|(g.length>2?g.charCodeAt(2):0),A=[F.charAt(i>>>18),F.charAt(i>>>12&63),l>=2?"=":F.charAt(i>>>6&63),l>=1?"=":F.charAt(i&63)];return A.join("")},mt=window.btoa||function(g){return g.replace(/[\s\S]{1,3}/g,it)},wt=function(){function g(l,i,A,E){var I=this;this.clear=i,this.timer=l(function(){I.timer&&(I.timer=E(I.timer))},A)}return g.prototype.isRunning=function(){return this.timer!==null},g.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},g}(),At=wt,Pt=function(){var g=function(l,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var I in E)E.hasOwnProperty(I)&&(A[I]=E[I])},g(l,i)};return function(l,i){g(l,i);function A(){this.constructor=l}l.prototype=i===null?Object.create(i):(A.prototype=i.prototype,new A)}}();function Ft(g){window.clearTimeout(g)}function Ie(g){window.clearInterval(g)}var Mt=function(g){Pt(l,g);function l(i,A){return g.call(this,setTimeout,Ft,i,function(E){return A(),null})||this}return l}(At),le=function(g){Pt(l,g);function l(i,A){return g.call(this,setInterval,Ie,i,function(E){return A(),E})||this}return l}(At),re={now:function(){return Date.now?Date.now():new Date().valueOf()},defer:function(g){return new Mt(0,g)},method:function(g){var l=Array.prototype.slice.call(arguments,1);return function(i){return i[g].apply(i,l.concat(arguments))}}},kt=re;function Lt(g){for(var l=[],i=1;i<arguments.length;i++)l[i-1]=arguments[i];for(var A=0;A<l.length;A++){var E=l[A];for(var I in E)E[I]&&E[I].constructor&&E[I].constructor===Object?g[I]=Lt(g[I]||{},E[I]):g[I]=E[I]}return g}function lr(){for(var g=["Pusher"],l=0;l<arguments.length;l++)typeof arguments[l]=="string"?g.push(arguments[l]):g.push(Mn(arguments[l]));return g.join(" : ")}function Ne(g,l){var i=Array.prototype.indexOf;if(g===null)return-1;if(i&&g.indexOf===i)return g.indexOf(l);for(var A=0,E=g.length;A<E;A++)if(g[A]===l)return A;return-1}function Vt(g,l){for(var i in g)Object.prototype.hasOwnProperty.call(g,i)&&l(g[i],i,g)}function sn(g){var l=[];return Vt(g,function(i,A){l.push(A)}),l}function he(g){var l=[];return Vt(g,function(i){l.push(i)}),l}function Ee(g,l,i){for(var A=0;A<g.length;A++)l.call(i||window,g[A],A,g)}function di(g,l){for(var i=[],A=0;A<g.length;A++)i.push(l(g[A],A,g,i));return i}function Te(g,l){var i={};return Vt(g,function(A,E){i[E]=l(A)}),i}function hr(g,l){l=l||function(E){return!!E};for(var i=[],A=0;A<g.length;A++)l(g[A],A,g,i)&&i.push(g[A]);return i}function gi(g,l){var i={};return Vt(g,function(A,E){(l&&l(A,E,g,i)||A)&&(i[E]=A)}),i}function wn(g){var l=[];return Vt(g,function(i,A){l.push([A,i])}),l}function ie(g,l){for(var i=0;i<g.length;i++)if(l(g[i],i,g))return!0;return!1}function An(g,l){for(var i=0;i<g.length;i++)if(!l(g[i],i,g))return!1;return!0}function Fn(g){return Te(g,function(l){return typeof l=="object"&&(l=Mn(l)),encodeURIComponent(G(l.toString()))})}function ns(g){var l=gi(g,function(A){return A!==void 0}),i=di(wn(Fn(l)),kt.method("join","=")).join("&");return i}function Cn(g){var l=[],i=[];return function A(E,I){var J,Y,st;switch(typeof E){case"object":if(!E)return null;for(J=0;J<l.length;J+=1)if(l[J]===E)return{$ref:i[J]};if(l.push(E),i.push(I),Object.prototype.toString.apply(E)==="[object Array]")for(st=[],J=0;J<E.length;J+=1)st[J]=A(E[J],I+"["+J+"]");else{st={};for(Y in E)Object.prototype.hasOwnProperty.call(E,Y)&&(st[Y]=A(E[Y],I+"["+JSON.stringify(Y)+"]"))}return st;case"number":case"string":case"boolean":return E}}(g,"$")}function Mn(g){try{return JSON.stringify(g)}catch{return JSON.stringify(Cn(g))}}var xn=function(){function g(){this.globalLog=function(l){window.console&&window.console.log&&window.console.log(l)}}return g.prototype.debug=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];this.log(this.globalLog,l)},g.prototype.warn=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];this.log(this.globalLogWarn,l)},g.prototype.error=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];this.log(this.globalLogError,l)},g.prototype.globalLogWarn=function(l){window.console&&window.console.warn?window.console.warn(l):this.globalLog(l)},g.prototype.globalLogError=function(l){window.console&&window.console.error?window.console.error(l):this.globalLogWarn(l)},g.prototype.log=function(l){var i=lr.apply(this,arguments);if(Kr.log)Kr.log(i);else if(Kr.logToConsole){var A=l.bind(this);A(i)}},g}(),St=new xn,fr=function(g,l,i,A,E){(i.headers!==void 0||i.headersProvider!=null)&&St.warn("To send headers with the "+A.toString()+" request, you must use AJAX, rather than JSONP.");var I=g.nextAuthCallbackID.toString();g.nextAuthCallbackID++;var J=g.getDocument(),Y=J.createElement("script");g.auth_callbacks[I]=function(pt){E(null,pt)};var st="Pusher.auth_callbacks['"+I+"']";Y.src=i.endpoint+"?callback="+encodeURIComponent(st)+"&"+l;var rt=J.getElementsByTagName("head")[0]||J.documentElement;rt.insertBefore(Y,rt.firstChild)},pr=fr,dr=function(){function g(l){this.src=l}return g.prototype.send=function(l){var i=this,A="Error loading "+i.src;i.script=document.createElement("script"),i.script.id=l.id,i.script.src=i.src,i.script.type="text/javascript",i.script.charset="UTF-8",i.script.addEventListener?(i.script.onerror=function(){l.callback(A)},i.script.onload=function(){l.callback(null)}):i.script.onreadystatechange=function(){(i.script.readyState==="loaded"||i.script.readyState==="complete")&&l.callback(null)},i.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(i.errorScript=document.createElement("script"),i.errorScript.id=l.id+"_error",i.errorScript.text=l.name+"('"+A+"');",i.script.async=i.errorScript.async=!1):i.script.async=!0;var E=document.getElementsByTagName("head")[0];E.insertBefore(i.script,E.firstChild),i.errorScript&&E.insertBefore(i.errorScript,i.script.nextSibling)},g.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},g}(),gr=dr,mr=function(){function g(l,i){this.url=l,this.data=i}return g.prototype.send=function(l){if(!this.request){var i=ns(this.data),A=this.url+"/"+l.number+"?"+i;this.request=ht.createScriptRequest(A),this.request.send(l)}},g.prototype.cleanup=function(){this.request&&this.request.cleanup()},g}(),vr=mr,yr=function(g,l){return function(i,A){var E="http"+(l?"s":"")+"://",I=E+(g.host||g.options.host)+g.options.path,J=ht.createJSONPRequest(I,i),Y=ht.ScriptReceivers.create(function(st,rt){s.remove(Y),J.cleanup(),rt&&rt.host&&(g.host=rt.host),A&&A(st,rt)});J.send(Y)}},br={name:"jsonp",getAgent:yr},_r=br;function wr(g,l,i){var A=g+(l.useTLS?"s":""),E=l.useTLS?l.hostTLS:l.hostNonTLS;return A+"://"+E+i}function Ar(g,l){var i="/app/"+g,A="?protocol="+a.PROTOCOL+"&client=js&version="+a.VERSION+(l?"&"+l:"");return i+A}var rs={getInitial:function(g,l){var i=(l.httpPath||"")+Ar(g,"flash=false");return wr("ws",l,i)}},mi={getInitial:function(g,l){var i=(l.httpPath||"/pusher")+Ar(g);return wr("http",l,i)}},vi={getInitial:function(g,l){return wr("http",l,l.httpPath||"/pusher")},getPath:function(g,l){return Ar(g)}},is=function(){function g(){this._callbacks={}}return g.prototype.get=function(l){return this._callbacks[Cr(l)]},g.prototype.add=function(l,i,A){var E=Cr(l);this._callbacks[E]=this._callbacks[E]||[],this._callbacks[E].push({fn:i,context:A})},g.prototype.remove=function(l,i,A){if(!l&&!i&&!A){this._callbacks={};return}var E=l?[Cr(l)]:sn(this._callbacks);i||A?this.removeCallback(E,i,A):this.removeAllCallbacks(E)},g.prototype.removeCallback=function(l,i,A){Ee(l,function(E){this._callbacks[E]=hr(this._callbacks[E]||[],function(I){return i&&i!==I.fn||A&&A!==I.context}),this._callbacks[E].length===0&&delete this._callbacks[E]},this)},g.prototype.removeAllCallbacks=function(l){Ee(l,function(i){delete this._callbacks[i]},this)},g}(),os=is;function Cr(g){return"_"+g}var ss=function(){function g(l){this.callbacks=new os,this.global_callbacks=[],this.failThrough=l}return g.prototype.bind=function(l,i,A){return this.callbacks.add(l,i,A),this},g.prototype.bind_global=function(l){return this.global_callbacks.push(l),this},g.prototype.unbind=function(l,i,A){return this.callbacks.remove(l,i,A),this},g.prototype.unbind_global=function(l){return l?(this.global_callbacks=hr(this.global_callbacks||[],function(i){return i!==l}),this):(this.global_callbacks=[],this)},g.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},g.prototype.emit=function(l,i,A){for(var E=0;E<this.global_callbacks.length;E++)this.global_callbacks[E](l,i);var I=this.callbacks.get(l),J=[];if(A?J.push(i,A):i&&J.push(i),I&&I.length>0)for(var E=0;E<I.length;E++)I[E].fn.apply(I[E].context||window,J);else this.failThrough&&this.failThrough(l,i);return this},g}(),be=ss,as=function(){var g=function(l,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var I in E)E.hasOwnProperty(I)&&(A[I]=E[I])},g(l,i)};return function(l,i){g(l,i);function A(){this.constructor=l}l.prototype=i===null?Object.create(i):(A.prototype=i.prototype,new A)}}(),us=function(g){as(l,g);function l(i,A,E,I,J){var Y=g.call(this)||this;return Y.initialize=ht.transportConnectionInitializer,Y.hooks=i,Y.name=A,Y.priority=E,Y.key=I,Y.options=J,Y.state="new",Y.timeline=J.timeline,Y.activityTimeout=J.activityTimeout,Y.id=Y.timeline.generateUniqueID(),Y}return l.prototype.handlesActivityChecks=function(){return!!this.hooks.handlesActivityChecks},l.prototype.supportsPing=function(){return!!this.hooks.supportsPing},l.prototype.connect=function(){var i=this;if(this.socket||this.state!=="initialized")return!1;var A=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(A,this.options)}catch(E){return kt.defer(function(){i.onError(E),i.changeState("closed")}),!1}return this.bindListeners(),St.debug("Connecting",{transport:this.name,url:A}),this.changeState("connecting"),!0},l.prototype.close=function(){return this.socket?(this.socket.close(),!0):!1},l.prototype.send=function(i){var A=this;return this.state==="open"?(kt.defer(function(){A.socket&&A.socket.send(i)}),!0):!1},l.prototype.ping=function(){this.state==="open"&&this.supportsPing()&&this.socket.ping()},l.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},l.prototype.onError=function(i){this.emit("error",{type:"WebSocketError",error:i}),this.timeline.error(this.buildTimelineMessage({error:i.toString()}))},l.prototype.onClose=function(i){i?this.changeState("closed",{code:i.code,reason:i.reason,wasClean:i.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},l.prototype.onMessage=function(i){this.emit("message",i)},l.prototype.onActivity=function(){this.emit("activity")},l.prototype.bindListeners=function(){var i=this;this.socket.onopen=function(){i.onOpen()},this.socket.onerror=function(A){i.onError(A)},this.socket.onclose=function(A){i.onClose(A)},this.socket.onmessage=function(A){i.onMessage(A)},this.supportsPing()&&(this.socket.onactivity=function(){i.onActivity()})},l.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},l.prototype.changeState=function(i,A){this.state=i,this.timeline.info(this.buildTimelineMessage({state:i,params:A})),this.emit(i,A)},l.prototype.buildTimelineMessage=function(i){return Lt({cid:this.id},i)},l}(be),cs=us,xr=function(){function g(l){this.hooks=l}return g.prototype.isSupported=function(l){return this.hooks.isSupported(l)},g.prototype.createConnection=function(l,i,A,E){return new cs(this.hooks,l,i,A,E)},g}(),an=xr,Sr=new an({urls:rs,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!ht.getWebSocketAPI()},isSupported:function(){return!!ht.getWebSocketAPI()},getSocket:function(g){return ht.createWebSocket(g)}}),yi={urls:mi,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},bi=Lt({getSocket:function(g){return ht.HTTPFactory.createStreamingSocket(g)}},yi),_i=Lt({getSocket:function(g){return ht.HTTPFactory.createPollingSocket(g)}},yi),wi={isSupported:function(){return ht.isXHRSupported()}},ls=new an(Lt({},bi,wi)),hs=new an(Lt({},_i,wi)),fs={ws:Sr,xhr_streaming:ls,xhr_polling:hs},Un=fs,Ai=new an({file:"sockjs",urls:vi,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(g,l){return new window.SockJS(g,null,{js_path:m.getPath("sockjs",{useTLS:l.useTLS}),ignore_null_origin:l.ignoreNullOrigin})},beforeOpen:function(g,l){g.send(JSON.stringify({path:l}))}}),Ci={isSupported:function(g){var l=ht.isXDRSupported(g.useTLS);return l}},ps=new an(Lt({},bi,Ci)),ds=new an(Lt({},_i,Ci));Un.xdr_streaming=ps,Un.xdr_polling=ds,Un.sockjs=Ai;var gs=Un,ms=function(){var g=function(l,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var I in E)E.hasOwnProperty(I)&&(A[I]=E[I])},g(l,i)};return function(l,i){g(l,i);function A(){this.constructor=l}l.prototype=i===null?Object.create(i):(A.prototype=i.prototype,new A)}}(),vs=function(g){ms(l,g);function l(){var i=g.call(this)||this,A=i;return window.addEventListener!==void 0&&(window.addEventListener("online",function(){A.emit("online")},!1),window.addEventListener("offline",function(){A.emit("offline")},!1)),i}return l.prototype.isOnline=function(){return window.navigator.onLine===void 0?!0:window.navigator.onLine},l}(be),jn=new vs,ys=function(){function g(l,i,A){this.manager=l,this.transport=i,this.minPingDelay=A.minPingDelay,this.maxPingDelay=A.maxPingDelay,this.pingDelay=void 0}return g.prototype.createConnection=function(l,i,A,E){var I=this;E=Lt({},E,{activityTimeout:this.pingDelay});var J=this.transport.createConnection(l,i,A,E),Y=null,st=function(){J.unbind("open",st),J.bind("closed",rt),Y=kt.now()},rt=function(pt){if(J.unbind("closed",rt),pt.code===1002||pt.code===1003)I.manager.reportDeath();else if(!pt.wasClean&&Y){var Nt=kt.now()-Y;Nt<2*I.maxPingDelay&&(I.manager.reportDeath(),I.pingDelay=Math.max(Nt/2,I.minPingDelay))}};return J.bind("open",st),J},g.prototype.isSupported=function(l){return this.manager.isAlive()&&this.transport.isSupported(l)},g}(),Wn=ys,xi={decodeMessage:function(g){try{var l=JSON.parse(g.data),i=l.data;if(typeof i=="string")try{i=JSON.parse(l.data)}catch{}var A={event:l.event,channel:l.channel,data:i};return l.user_id&&(A.user_id=l.user_id),A}catch(E){throw{type:"MessageParseError",error:E,data:g.data}}},encodeMessage:function(g){return JSON.stringify(g)},processHandshake:function(g){var l=xi.decodeMessage(g);if(l.event==="pusher:connection_established"){if(!l.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:l.data.socket_id,activityTimeout:l.data.activity_timeout*1e3}}else{if(l.event==="pusher:error")return{action:this.getCloseAction(l.data),error:this.getCloseError(l.data)};throw"Invalid handshake"}},getCloseAction:function(g){return g.code<4e3?g.code>=1002&&g.code<=1004?"backoff":null:g.code===4e3?"tls_only":g.code<4100?"refused":g.code<4200?"backoff":g.code<4300?"retry":"refused"},getCloseError:function(g){return g.code!==1e3&&g.code!==1001?{type:"PusherError",data:{code:g.code,message:g.reason||g.message}}:null}},Je=xi,bs=function(){var g=function(l,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var I in E)E.hasOwnProperty(I)&&(A[I]=E[I])},g(l,i)};return function(l,i){g(l,i);function A(){this.constructor=l}l.prototype=i===null?Object.create(i):(A.prototype=i.prototype,new A)}}(),Si=function(g){bs(l,g);function l(i,A){var E=g.call(this)||this;return E.id=i,E.transport=A,E.activityTimeout=A.activityTimeout,E.bindListeners(),E}return l.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},l.prototype.send=function(i){return this.transport.send(i)},l.prototype.send_event=function(i,A,E){var I={event:i,data:A};return E&&(I.channel=E),St.debug("Event sent",I),this.send(Je.encodeMessage(I))},l.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},l.prototype.close=function(){this.transport.close()},l.prototype.bindListeners=function(){var i=this,A={message:function(I){var J;try{J=Je.decodeMessage(I)}catch(Y){i.emit("error",{type:"MessageParseError",error:Y,data:I.data})}if(J!==void 0){switch(St.debug("Event recd",J),J.event){case"pusher:error":i.emit("error",{type:"PusherError",data:J.data});break;case"pusher:ping":i.emit("ping");break;case"pusher:pong":i.emit("pong");break}i.emit("message",J)}},activity:function(){i.emit("activity")},error:function(I){i.emit("error",I)},closed:function(I){E(),I&&I.code&&i.handleCloseEvent(I),i.transport=null,i.emit("closed")}},E=function(){Vt(A,function(I,J){i.transport.unbind(J,I)})};Vt(A,function(I,J){i.transport.bind(J,I)})},l.prototype.handleCloseEvent=function(i){var A=Je.getCloseAction(i),E=Je.getCloseError(i);E&&this.emit("error",E),A&&this.emit(A,{action:A,error:E})},l}(be),Ei=Si,Ti=function(){function g(l,i){this.transport=l,this.callback=i,this.bindListeners()}return g.prototype.close=function(){this.unbindListeners(),this.transport.close()},g.prototype.bindListeners=function(){var l=this;this.onMessage=function(i){l.unbindListeners();var A;try{A=Je.processHandshake(i)}catch(E){l.finish("error",{error:E}),l.transport.close();return}A.action==="connected"?l.finish("connected",{connection:new Ei(A.id,l.transport),activityTimeout:A.activityTimeout}):(l.finish(A.action,{error:A.error}),l.transport.close())},this.onClosed=function(i){l.unbindListeners();var A=Je.getCloseAction(i)||"backoff",E=Je.getCloseError(i);l.finish(A,{error:E})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},g.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},g.prototype.finish=function(l,i){this.callback(Lt({transport:this.transport,action:l},i))},g}(),_s=Ti,ws=function(){function g(l,i){this.timeline=l,this.options=i||{}}return g.prototype.send=function(l,i){this.timeline.isEmpty()||this.timeline.send(ht.TimelineTransport.getAgent(this,l),i)},g}(),As=ws,Cs=function(){var g=function(l,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var I in E)E.hasOwnProperty(I)&&(A[I]=E[I])},g(l,i)};return function(l,i){g(l,i);function A(){this.constructor=l}l.prototype=i===null?Object.create(i):(A.prototype=i.prototype,new A)}}(),Ri=function(g){Cs(l,g);function l(i,A){var E=g.call(this,function(I,J){St.debug("No callbacks on "+i+" for "+I)})||this;return E.name=i,E.pusher=A,E.subscribed=!1,E.subscriptionPending=!1,E.subscriptionCancelled=!1,E}return l.prototype.authorize=function(i,A){return A(null,{auth:""})},l.prototype.trigger=function(i,A){if(i.indexOf("client-")!==0)throw new o("Event '"+i+"' does not start with 'client-'");if(!this.subscribed){var E=w.buildLogSuffix("triggeringClientEvents");St.warn("Client event triggered before channel 'subscription_succeeded' event . "+E)}return this.pusher.send_event(i,A,this.name)},l.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},l.prototype.handleEvent=function(i){var A=i.event,E=i.data;if(A==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(i);else if(A==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(i);else if(A.indexOf("pusher_internal:")!==0){var I={};this.emit(A,E,I)}},l.prototype.handleSubscriptionSucceededEvent=function(i){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",i.data)},l.prototype.handleSubscriptionCountEvent=function(i){i.data.subscription_count&&(this.subscriptionCount=i.data.subscription_count),this.emit("pusher:subscription_count",i.data)},l.prototype.subscribe=function(){var i=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(A,E){A?(i.subscriptionPending=!1,St.error(A.toString()),i.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:A.message},A instanceof K?{status:A.status}:{}))):i.pusher.send_event("pusher:subscribe",{auth:E.auth,channel_data:E.channel_data,channel:i.name})}))},l.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},l.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},l.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},l}(be),qn=Ri,ki=function(){var g=function(l,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var I in E)E.hasOwnProperty(I)&&(A[I]=E[I])},g(l,i)};return function(l,i){g(l,i);function A(){this.constructor=l}l.prototype=i===null?Object.create(i):(A.prototype=i.prototype,new A)}}(),Er=function(g){ki(l,g);function l(){return g!==null&&g.apply(this,arguments)||this}return l.prototype.authorize=function(i,A){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:i},A)},l}(qn),Tr=Er,Oi=function(){function g(){this.reset()}return g.prototype.get=function(l){return Object.prototype.hasOwnProperty.call(this.members,l)?{id:l,info:this.members[l]}:null},g.prototype.each=function(l){var i=this;Vt(this.members,function(A,E){l(i.get(E))})},g.prototype.setMyID=function(l){this.myID=l},g.prototype.onSubscription=function(l){this.members=l.presence.hash,this.count=l.presence.count,this.me=this.get(this.myID)},g.prototype.addMember=function(l){return this.get(l.user_id)===null&&this.count++,this.members[l.user_id]=l.user_info,this.get(l.user_id)},g.prototype.removeMember=function(l){var i=this.get(l.user_id);return i&&(delete this.members[l.user_id],this.count--),i},g.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},g}(),Hn=Oi,Li=function(){var g=function(l,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var I in E)E.hasOwnProperty(I)&&(A[I]=E[I])},g(l,i)};return function(l,i){g(l,i);function A(){this.constructor=l}l.prototype=i===null?Object.create(i):(A.prototype=i.prototype,new A)}}(),xs=function(g,l,i,A){function E(I){return I instanceof i?I:new i(function(J){J(I)})}return new(i||(i=Promise))(function(I,J){function Y(pt){try{rt(A.next(pt))}catch(Nt){J(Nt)}}function st(pt){try{rt(A.throw(pt))}catch(Nt){J(Nt)}}function rt(pt){pt.done?I(pt.value):E(pt.value).then(Y,st)}rt((A=A.apply(g,l||[])).next())})},Pi=function(g,l){var i={label:0,sent:function(){if(I[0]&1)throw I[1];return I[1]},trys:[],ops:[]},A,E,I,J;return J={next:Y(0),throw:Y(1),return:Y(2)},typeof Symbol=="function"&&(J[Symbol.iterator]=function(){return this}),J;function Y(rt){return function(pt){return st([rt,pt])}}function st(rt){if(A)throw new TypeError("Generator is already executing.");for(;i;)try{if(A=1,E&&(I=rt[0]&2?E.return:rt[0]?E.throw||((I=E.return)&&I.call(E),0):E.next)&&!(I=I.call(E,rt[1])).done)return I;switch(E=0,I&&(rt=[rt[0]&2,I.value]),rt[0]){case 0:case 1:I=rt;break;case 4:return i.label++,{value:rt[1],done:!1};case 5:i.label++,E=rt[1],rt=[0];continue;case 7:rt=i.ops.pop(),i.trys.pop();continue;default:if(I=i.trys,!(I=I.length>0&&I[I.length-1])&&(rt[0]===6||rt[0]===2)){i=0;continue}if(rt[0]===3&&(!I||rt[1]>I[0]&&rt[1]<I[3])){i.label=rt[1];break}if(rt[0]===6&&i.label<I[1]){i.label=I[1],I=rt;break}if(I&&i.label<I[2]){i.label=I[2],i.ops.push(rt);break}I[2]&&i.ops.pop(),i.trys.pop();continue}rt=l.call(g,i)}catch(pt){rt=[6,pt],E=0}finally{A=I=0}if(rt[0]&5)throw rt[1];return{value:rt[0]?rt[1]:void 0,done:!0}}},Di=function(g){Li(l,g);function l(i,A){var E=g.call(this,i,A)||this;return E.members=new Hn,E}return l.prototype.authorize=function(i,A){var E=this;g.prototype.authorize.call(this,i,function(I,J){return xs(E,void 0,void 0,function(){var Y,st;return Pi(this,function(rt){switch(rt.label){case 0:return I?[3,3]:(J=J,J.channel_data==null?[3,1]:(Y=JSON.parse(J.channel_data),this.members.setMyID(Y.user_id),[3,3]));case 1:return[4,this.pusher.user.signinDonePromise];case 2:if(rt.sent(),this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else return st=w.buildLogSuffix("authorizationEndpoint"),St.error("Invalid auth response for channel '"+this.name+"', "+("expected 'channel_data' field. "+st+", ")+"or the user should be signed in."),A("Invalid auth response"),[2];rt.label=3;case 3:return A(I,J),[2]}})})})},l.prototype.handleEvent=function(i){var A=i.event;if(A.indexOf("pusher_internal:")===0)this.handleInternalEvent(i);else{var E=i.data,I={};i.user_id&&(I.user_id=i.user_id),this.emit(A,E,I)}},l.prototype.handleInternalEvent=function(i){var A=i.event,E=i.data;switch(A){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(i);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(i);break;case"pusher_internal:member_added":var I=this.members.addMember(E);this.emit("pusher:member_added",I);break;case"pusher_internal:member_removed":var J=this.members.removeMember(E);J&&this.emit("pusher:member_removed",J);break}},l.prototype.handleSubscriptionSucceededEvent=function(i){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(i.data),this.emit("pusher:subscription_succeeded",this.members))},l.prototype.disconnect=function(){this.members.reset(),g.prototype.disconnect.call(this)},l}(Tr),Rr=Di,Ss=c(1),zn=c(0),kr=function(){var g=function(l,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var I in E)E.hasOwnProperty(I)&&(A[I]=E[I])},g(l,i)};return function(l,i){g(l,i);function A(){this.constructor=l}l.prototype=i===null?Object.create(i):(A.prototype=i.prototype,new A)}}(),Or=function(g){kr(l,g);function l(i,A,E){var I=g.call(this,i,A)||this;return I.key=null,I.nacl=E,I}return l.prototype.authorize=function(i,A){var E=this;g.prototype.authorize.call(this,i,function(I,J){if(I){A(I,J);return}var Y=J.shared_secret;if(!Y){A(new Error("No shared_secret key in auth payload for encrypted channel: "+E.name),null);return}E.key=Object(zn.decode)(Y),delete J.shared_secret,A(null,J)})},l.prototype.trigger=function(i,A){throw new D("Client events are not currently supported for encrypted channels")},l.prototype.handleEvent=function(i){var A=i.event,E=i.data;if(A.indexOf("pusher_internal:")===0||A.indexOf("pusher:")===0){g.prototype.handleEvent.call(this,i);return}this.handleEncryptedEvent(A,E)},l.prototype.handleEncryptedEvent=function(i,A){var E=this;if(!this.key){St.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!A.ciphertext||!A.nonce){St.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+A);return}var I=Object(zn.decode)(A.ciphertext);if(I.length<this.nacl.secretbox.overheadLength){St.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+I.length);return}var J=Object(zn.decode)(A.nonce);if(J.length<this.nacl.secretbox.nonceLength){St.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+J.length);return}var Y=this.nacl.secretbox.open(I,J,this.key);if(Y===null){St.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,function(st,rt){if(st){St.error("Failed to make a request to the authEndpoint: "+rt+". Unable to fetch new key, so dropping encrypted event");return}if(Y=E.nacl.secretbox.open(I,J,E.key),Y===null){St.error("Failed to decrypt event with new key. Dropping encrypted event");return}E.emit(i,E.getDataToEmit(Y))});return}this.emit(i,this.getDataToEmit(Y))},l.prototype.getDataToEmit=function(i){var A=Object(Ss.decode)(i);try{return JSON.parse(A)}catch{return A}},l}(Tr),un=Or,Ii=function(){var g=function(l,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var I in E)E.hasOwnProperty(I)&&(A[I]=E[I])},g(l,i)};return function(l,i){g(l,i);function A(){this.constructor=l}l.prototype=i===null?Object.create(i):(A.prototype=i.prototype,new A)}}(),Ni=function(g){Ii(l,g);function l(i,A){var E=g.call(this)||this;E.state="initialized",E.connection=null,E.key=i,E.options=A,E.timeline=E.options.timeline,E.usingTLS=E.options.useTLS,E.errorCallbacks=E.buildErrorCallbacks(),E.connectionCallbacks=E.buildConnectionCallbacks(E.errorCallbacks),E.handshakeCallbacks=E.buildHandshakeCallbacks(E.errorCallbacks);var I=ht.getNetwork();return I.bind("online",function(){E.timeline.info({netinfo:"online"}),(E.state==="connecting"||E.state==="unavailable")&&E.retryIn(0)}),I.bind("offline",function(){E.timeline.info({netinfo:"offline"}),E.connection&&E.sendActivityCheck()}),E.updateStrategy(),E}return l.prototype.connect=function(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},l.prototype.send=function(i){return this.connection?this.connection.send(i):!1},l.prototype.send_event=function(i,A,E){return this.connection?this.connection.send_event(i,A,E):!1},l.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},l.prototype.isUsingTLS=function(){return this.usingTLS},l.prototype.startConnecting=function(){var i=this,A=function(E,I){E?i.runner=i.strategy.connect(0,A):I.action==="error"?(i.emit("error",{type:"HandshakeError",error:I.error}),i.timeline.error({handshakeError:I.error})):(i.abortConnecting(),i.handshakeCallbacks[I.action](I))};this.runner=this.strategy.connect(0,A)},l.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},l.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var i=this.abandonConnection();i.close()}},l.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},l.prototype.retryIn=function(i){var A=this;this.timeline.info({action:"retry",delay:i}),i>0&&this.emit("connecting_in",Math.round(i/1e3)),this.retryTimer=new Mt(i||0,function(){A.disconnectInternally(),A.connect()})},l.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},l.prototype.setUnavailableTimer=function(){var i=this;this.unavailableTimer=new Mt(this.options.unavailableTimeout,function(){i.updateState("unavailable")})},l.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},l.prototype.sendActivityCheck=function(){var i=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new Mt(this.options.pongTimeout,function(){i.timeline.error({pong_timed_out:i.options.pongTimeout}),i.retryIn(0)})},l.prototype.resetActivityCheck=function(){var i=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new Mt(this.activityTimeout,function(){i.sendActivityCheck()}))},l.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},l.prototype.buildConnectionCallbacks=function(i){var A=this;return Lt({},i,{message:function(E){A.resetActivityCheck(),A.emit("message",E)},ping:function(){A.send_event("pusher:pong",{})},activity:function(){A.resetActivityCheck()},error:function(E){A.emit("error",E)},closed:function(){A.abandonConnection(),A.shouldRetry()&&A.retryIn(1e3)}})},l.prototype.buildHandshakeCallbacks=function(i){var A=this;return Lt({},i,{connected:function(E){A.activityTimeout=Math.min(A.options.activityTimeout,E.activityTimeout,E.connection.activityTimeout||1/0),A.clearUnavailableTimer(),A.setConnection(E.connection),A.socket_id=A.connection.id,A.updateState("connected",{socket_id:A.socket_id})}})},l.prototype.buildErrorCallbacks=function(){var i=this,A=function(E){return function(I){I.error&&i.emit("error",{type:"WebSocketError",error:I.error}),E(I)}};return{tls_only:A(function(){i.usingTLS=!0,i.updateStrategy(),i.retryIn(0)}),refused:A(function(){i.disconnect()}),backoff:A(function(){i.retryIn(1e3)}),retry:A(function(){i.retryIn(0)})}},l.prototype.setConnection=function(i){this.connection=i;for(var A in this.connectionCallbacks)this.connection.bind(A,this.connectionCallbacks[A]);this.resetActivityCheck()},l.prototype.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var i in this.connectionCallbacks)this.connection.unbind(i,this.connectionCallbacks[i]);var A=this.connection;return this.connection=null,A}},l.prototype.updateState=function(i,A){var E=this.state;if(this.state=i,E!==i){var I=i;I==="connected"&&(I+=" with new socket ID "+A.socket_id),St.debug("State changed",E+" -> "+I),this.timeline.info({state:i,params:A}),this.emit("state_change",{previous:E,current:i}),this.emit(i,A)}},l.prototype.shouldRetry=function(){return this.state==="connecting"||this.state==="connected"},l}(be),Es=Ni,Bi=function(){function g(){this.channels={}}return g.prototype.add=function(l,i){return this.channels[l]||(this.channels[l]=Mi(l,i)),this.channels[l]},g.prototype.all=function(){return he(this.channels)},g.prototype.find=function(l){return this.channels[l]},g.prototype.remove=function(l){var i=this.channels[l];return delete this.channels[l],i},g.prototype.disconnect=function(){Vt(this.channels,function(l){l.disconnect()})},g}(),Fi=Bi;function Mi(g,l){if(g.indexOf("private-encrypted-")===0){if(l.config.nacl)return Re.createEncryptedChannel(g,l,l.config.nacl);var i="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",A=w.buildLogSuffix("encryptedChannelSupport");throw new D(i+". "+A)}else{if(g.indexOf("private-")===0)return Re.createPrivateChannel(g,l);if(g.indexOf("presence-")===0)return Re.createPresenceChannel(g,l);if(g.indexOf("#")===0)throw new d('Cannot create a channel with name "'+g+'".');return Re.createChannel(g,l)}}var Ui={createChannels:function(){return new Fi},createConnectionManager:function(g,l){return new Es(g,l)},createChannel:function(g,l){return new qn(g,l)},createPrivateChannel:function(g,l){return new Tr(g,l)},createPresenceChannel:function(g,l){return new Rr(g,l)},createEncryptedChannel:function(g,l,i){return new un(g,l,i)},createTimelineSender:function(g,l){return new As(g,l)},createHandshake:function(g,l){return new _s(g,l)},createAssistantToTheTransportManager:function(g,l,i){return new Wn(g,l,i)}},Re=Ui,Ts=function(){function g(l){this.options=l||{},this.livesLeft=this.options.lives||1/0}return g.prototype.getAssistant=function(l){return Re.createAssistantToTheTransportManager(this,l,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},g.prototype.isAlive=function(){return this.livesLeft>0},g.prototype.reportDeath=function(){this.livesLeft-=1},g}(),ji=Ts,Wi=function(){function g(l,i){this.strategies=l,this.loop=!!i.loop,this.failFast=!!i.failFast,this.timeout=i.timeout,this.timeoutLimit=i.timeoutLimit}return g.prototype.isSupported=function(){return ie(this.strategies,kt.method("isSupported"))},g.prototype.connect=function(l,i){var A=this,E=this.strategies,I=0,J=this.timeout,Y=null,st=function(rt,pt){pt?i(null,pt):(I=I+1,A.loop&&(I=I%E.length),I<E.length?(J&&(J=J*2,A.timeoutLimit&&(J=Math.min(J,A.timeoutLimit))),Y=A.tryStrategy(E[I],l,{timeout:J,failFast:A.failFast},st)):i(!0))};return Y=this.tryStrategy(E[I],l,{timeout:J,failFast:this.failFast},st),{abort:function(){Y.abort()},forceMinPriority:function(rt){l=rt,Y&&Y.forceMinPriority(rt)}}},g.prototype.tryStrategy=function(l,i,A,E){var I=null,J=null;return A.timeout>0&&(I=new Mt(A.timeout,function(){J.abort(),E(!0)})),J=l.connect(i,function(Y,st){Y&&I&&I.isRunning()&&!A.failFast||(I&&I.ensureAborted(),E(Y,st))}),{abort:function(){I&&I.ensureAborted(),J.abort()},forceMinPriority:function(Y){J.forceMinPriority(Y)}}},g}(),Ke=Wi,Rs=function(){function g(l){this.strategies=l}return g.prototype.isSupported=function(){return ie(this.strategies,kt.method("isSupported"))},g.prototype.connect=function(l,i){return ks(this.strategies,l,function(A,E){return function(I,J){if(E[A].error=I,I){Pr(E)&&i(!0);return}Ee(E,function(Y){Y.forceMinPriority(J.transport.priority)}),i(null,J)}})},g}(),Lr=Rs;function ks(g,l,i){var A=di(g,function(E,I,J,Y){return E.connect(l,i(I,Y))});return{abort:function(){Ee(A,Os)},forceMinPriority:function(E){Ee(A,function(I){I.forceMinPriority(E)})}}}function Pr(g){return An(g,function(l){return!!l.error})}function Os(g){!g.error&&!g.aborted&&(g.abort(),g.aborted=!0)}var Ls=function(){function g(l,i,A){this.strategy=l,this.transports=i,this.ttl=A.ttl||1800*1e3,this.usingTLS=A.useTLS,this.timeline=A.timeline}return g.prototype.isSupported=function(){return this.strategy.isSupported()},g.prototype.connect=function(l,i){var A=this.usingTLS,E=Ds(A),I=[this.strategy];if(E&&E.timestamp+this.ttl>=kt.now()){var J=this.transports[E.transport];J&&(this.timeline.info({cached:!0,transport:E.transport,latency:E.latency}),I.push(new Ke([J],{timeout:E.latency*2+1e3,failFast:!0})))}var Y=kt.now(),st=I.pop().connect(l,function rt(pt,Nt){pt?(Tt(A),I.length>0?(Y=kt.now(),st=I.pop().connect(l,rt)):i(pt)):(Rt(A,Nt.transport.name,kt.now()-Y),i(null,Nt))});return{abort:function(){st.abort()},forceMinPriority:function(rt){l=rt,st&&st.forceMinPriority(rt)}}},g}(),Ps=Ls;function Dr(g){return"pusherTransport"+(g?"TLS":"NonTLS")}function Ds(g){var l=ht.getLocalStorage();if(l)try{var i=l[Dr(g)];if(i)return JSON.parse(i)}catch{Tt(g)}return null}function Rt(g,l,i){var A=ht.getLocalStorage();if(A)try{A[Dr(g)]=Mn({timestamp:kt.now(),transport:l,latency:i})}catch{}}function Tt(g){var l=ht.getLocalStorage();if(l)try{delete l[Dr(g)]}catch{}}var Is=function(){function g(l,i){var A=i.delay;this.strategy=l,this.options={delay:A}}return g.prototype.isSupported=function(){return this.strategy.isSupported()},g.prototype.connect=function(l,i){var A=this.strategy,E,I=new Mt(this.options.delay,function(){E=A.connect(l,i)});return{abort:function(){I.ensureAborted(),E&&E.abort()},forceMinPriority:function(J){l=J,E&&E.forceMinPriority(J)}}},g}(),Vn=Is,Ns=function(){function g(l,i,A){this.test=l,this.trueBranch=i,this.falseBranch=A}return g.prototype.isSupported=function(){var l=this.test()?this.trueBranch:this.falseBranch;return l.isSupported()},g.prototype.connect=function(l,i){var A=this.test()?this.trueBranch:this.falseBranch;return A.connect(l,i)},g}(),Sn=Ns,Bs=function(){function g(l){this.strategy=l}return g.prototype.isSupported=function(){return this.strategy.isSupported()},g.prototype.connect=function(l,i){var A=this.strategy.connect(l,function(E,I){I&&A.abort(),i(E,I)});return A},g}(),Fs=Bs;function cn(g){return function(){return g.isSupported()}}var Ms=function(g,l,i){var A={};function E(ke,Zn,uo,Qn,co){var $r=i(g,ke,Zn,uo,Qn,co);return A[ke]=$r,$r}var I=Object.assign({},l,{hostNonTLS:g.wsHost+":"+g.wsPort,hostTLS:g.wsHost+":"+g.wssPort,httpPath:g.wsPath}),J=Object.assign({},I,{useTLS:!0}),Y=Object.assign({},l,{hostNonTLS:g.httpHost+":"+g.httpPort,hostTLS:g.httpHost+":"+g.httpsPort,httpPath:g.httpPath}),st={loop:!0,timeout:15e3,timeoutLimit:6e4},rt=new ji({lives:2,minPingDelay:1e4,maxPingDelay:g.activityTimeout}),pt=new ji({lives:2,minPingDelay:1e4,maxPingDelay:g.activityTimeout}),Nt=E("ws","ws",3,I,rt),Dt=E("wss","ws",3,J,rt),Xn=E("sockjs","sockjs",1,Y),ro=E("xhr_streaming","xhr_streaming",1,Y,pt),pn=E("xdr_streaming","xdr_streaming",1,Y,pt),Tn=E("xhr_polling","xhr_polling",1,Y),Yn=E("xdr_polling","xdr_polling",1,Y),xt=new Ke([Nt],st),ra=new Ke([Dt],st),oo=new Ke([Xn],st),Rn=new Ke([new Sn(cn(ro),ro,pn)],st),so=new Ke([new Sn(cn(Tn),Tn,Yn)],st),ao=new Ke([new Sn(cn(Rn),new Lr([Rn,new Vn(so,{delay:4e3})]),so)],st),Gr=new Sn(cn(ao),ao,oo),dn;return l.useTLS?dn=new Lr([xt,new Vn(Gr,{delay:2e3})]):dn=new Lr([xt,new Vn(ra,{delay:2e3}),new Vn(Gr,{delay:5e3})]),new Ps(new Fs(new Sn(cn(Nt),dn,Gr)),A,{ttl:18e5,timeline:l.timeline,useTLS:l.useTLS})},Wt=Ms,Ir=function(){var g=this;g.timeline.info(g.buildTimelineMessage({transport:g.name+(g.options.useTLS?"s":"")})),g.hooks.isInitialized()?g.changeState("initialized"):g.hooks.file?(g.changeState("initializing"),m.load(g.hooks.file,{useTLS:g.options.useTLS},function(l,i){g.hooks.isInitialized()?(g.changeState("initialized"),i(!0)):(l&&g.onError(l),g.onClose(),i(!1))})):g.onClose()},Ge={getRequest:function(g){var l=new window.XDomainRequest;return l.ontimeout=function(){g.emit("error",new S),g.close()},l.onerror=function(i){g.emit("error",i),g.close()},l.onprogress=function(){l.responseText&&l.responseText.length>0&&g.onChunk(200,l.responseText)},l.onload=function(){l.responseText&&l.responseText.length>0&&g.onChunk(200,l.responseText),g.emit("finished",200),g.close()},l},abortRequest:function(g){g.ontimeout=g.onerror=g.onprogress=g.onload=null,g.abort()}},qi=Ge,Nr=function(){var g=function(l,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var I in E)E.hasOwnProperty(I)&&(A[I]=E[I])},g(l,i)};return function(l,i){g(l,i);function A(){this.constructor=l}l.prototype=i===null?Object.create(i):(A.prototype=i.prototype,new A)}}(),oe=256*1024,Hi=function(g){Nr(l,g);function l(i,A,E){var I=g.call(this)||this;return I.hooks=i,I.method=A,I.url=E,I}return l.prototype.start=function(i){var A=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){A.close()},ht.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(i)},l.prototype.close=function(){this.unloader&&(ht.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},l.prototype.onChunk=function(i,A){for(;;){var E=this.advanceBuffer(A);if(E)this.emit("chunk",{status:i,data:E});else break}this.isBufferTooLong(A)&&this.emit("buffer_too_long")},l.prototype.advanceBuffer=function(i){var A=i.slice(this.position),E=A.indexOf(`
`);return E!==-1?(this.position+=E+1,A.slice(0,E)):null},l.prototype.isBufferTooLong=function(i){return this.position===i.length&&i.length>oe},l}(be),zi=Hi,Jn;(function(g){g[g.CONNECTING=0]="CONNECTING",g[g.OPEN=1]="OPEN",g[g.CLOSED=3]="CLOSED"})(Jn||(Jn={}));var Be=Jn,Vi=1,Ji=function(){function g(l,i){this.hooks=l,this.session=Br(1e3)+"/"+Fe(8),this.location=Yt(i),this.readyState=Be.CONNECTING,this.openStream()}return g.prototype.send=function(l){return this.sendRaw(JSON.stringify([l]))},g.prototype.ping=function(){this.hooks.sendHeartbeat(this)},g.prototype.close=function(l,i){this.onClose(l,i,!0)},g.prototype.sendRaw=function(l){if(this.readyState===Be.OPEN)try{return ht.createSocketRequest("POST",Zt(Us(this.location,this.session))).start(l),!0}catch{return!1}else return!1},g.prototype.reconnect=function(){this.closeStream(),this.openStream()},g.prototype.onClose=function(l,i,A){this.closeStream(),this.readyState=Be.CLOSED,this.onclose&&this.onclose({code:l,reason:i,wasClean:A})},g.prototype.onChunk=function(l){if(l.status===200){this.readyState===Be.OPEN&&this.onActivity();var i,A=l.data.slice(0,1);switch(A){case"o":i=JSON.parse(l.data.slice(1)||"{}"),this.onOpen(i);break;case"a":i=JSON.parse(l.data.slice(1)||"[]");for(var E=0;E<i.length;E++)this.onEvent(i[E]);break;case"m":i=JSON.parse(l.data.slice(1)||"null"),this.onEvent(i);break;case"h":this.hooks.onHeartbeat(this);break;case"c":i=JSON.parse(l.data.slice(1)||"[]"),this.onClose(i[0],i[1],!0);break}}},g.prototype.onOpen=function(l){this.readyState===Be.CONNECTING?(l&&l.hostname&&(this.location.base=js(this.location.base,l.hostname)),this.readyState=Be.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},g.prototype.onEvent=function(l){this.readyState===Be.OPEN&&this.onmessage&&this.onmessage({data:l})},g.prototype.onActivity=function(){this.onactivity&&this.onactivity()},g.prototype.onError=function(l){this.onerror&&this.onerror(l)},g.prototype.openStream=function(){var l=this;this.stream=ht.createSocketRequest("POST",Zt(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(i){l.onChunk(i)}),this.stream.bind("finished",function(i){l.hooks.onFinished(l,i)}),this.stream.bind("buffer_too_long",function(){l.reconnect()});try{this.stream.start()}catch(i){kt.defer(function(){l.onError(i),l.onClose(1006,"Could not start streaming",!1)})}},g.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},g}();function Yt(g){var l=/([^\?]*)\/*(\??.*)/.exec(g);return{base:l[1],queryString:l[2]}}function Us(g,l){return g.base+"/"+l+"/xhr_send"}function Zt(g){var l=g.indexOf("?")===-1?"?":"&";return g+l+"t="+ +new Date+"&n="+Vi++}function js(g,l){var i=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(g);return i[1]+l+i[3]}function Br(g){return ht.randomInt(g)}function Fe(g){for(var l=[],i=0;i<g;i++)l.push(Br(32).toString(32));return l.join("")}var Kn=Ji,Fr={getReceiveURL:function(g,l){return g.base+"/"+l+"/xhr_streaming"+g.queryString},onHeartbeat:function(g){g.sendRaw("[]")},sendHeartbeat:function(g){g.sendRaw("[]")},onFinished:function(g,l){g.onClose(1006,"Connection interrupted ("+l+")",!1)}},Ot=Fr,Me={getReceiveURL:function(g,l){return g.base+"/"+l+"/xhr"+g.queryString},onHeartbeat:function(){},sendHeartbeat:function(g){g.sendRaw("[]")},onFinished:function(g,l){l===200?g.reconnect():g.onClose(1006,"Connection interrupted ("+l+")",!1)}},Mr=Me,Ws={getRequest:function(g){var l=ht.getXHRAPI(),i=new l;return i.onreadystatechange=i.onprogress=function(){switch(i.readyState){case 3:i.responseText&&i.responseText.length>0&&g.onChunk(i.status,i.responseText);break;case 4:i.responseText&&i.responseText.length>0&&g.onChunk(i.status,i.responseText),g.emit("finished",i.status),g.close();break}},i},abortRequest:function(g){g.onreadystatechange=null,g.abort()}},Ur=Ws,qs={createStreamingSocket:function(g){return this.createSocket(Ot,g)},createPollingSocket:function(g){return this.createSocket(Mr,g)},createSocket:function(g,l){return new Kn(g,l)},createXHR:function(g,l){return this.createRequest(Ur,g,l)},createRequest:function(g,l,i){return new zi(g,l,i)}},Ki=qs;Ki.createXDR=function(g,l){return this.createRequest(qi,g,l)};var Hs=Ki,Gi={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:s,DependenciesReceivers:f,getDefaultStrategy:Wt,Transports:gs,transportConnectionInitializer:Ir,HTTPFactory:Hs,TimelineTransport:_r,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(g){var l=this;window.Pusher=g;var i=function(){l.onDocumentBody(g.ready)};window.JSON?i():m.load("json2",{},i)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:z,jsonp:pr}},onDocumentBody:function(g){var l=this;document.body?g():setTimeout(function(){l.onDocumentBody(g)},0)},createJSONPRequest:function(g,l){return new vr(g,l)},createScriptRequest:function(g){return new gr(g)},getLocalStorage:function(){try{return window.localStorage}catch{return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){var g=this.getXHRAPI();return new g},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return jn},createWebSocket:function(g){var l=this.getWebSocketAPI();return new l(g)},createSocketRequest:function(g,l){if(this.isXHRSupported())return this.HTTPFactory.createXHR(g,l);if(this.isXDRSupported(l.indexOf("https:")===0))return this.HTTPFactory.createXDR(g,l);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var g=this.getXHRAPI();return!!g&&new g().withCredentials!==void 0},isXDRSupported:function(g){var l=g?"https:":"http:",i=this.getProtocol();return!!window.XDomainRequest&&i===l},addUnloadListener:function(g){window.addEventListener!==void 0?window.addEventListener("unload",g,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",g)},removeUnloadListener:function(g){window.addEventListener!==void 0?window.removeEventListener("unload",g,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",g)},randomInt:function(g){var l=function(){var i=window.crypto||window.msCrypto,A=i.getRandomValues(new Uint32Array(1))[0];return A/Math.pow(2,32)};return Math.floor(l()*g)}},ht=Gi,Ue;(function(g){g[g.ERROR=3]="ERROR",g[g.INFO=6]="INFO",g[g.DEBUG=7]="DEBUG"})(Ue||(Ue={}));var Gn=Ue,$i=function(){function g(l,i,A){this.key=l,this.session=i,this.events=[],this.options=A||{},this.sent=0,this.uniqueID=0}return g.prototype.log=function(l,i){l<=this.options.level&&(this.events.push(Lt({},i,{timestamp:kt.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},g.prototype.error=function(l){this.log(Gn.ERROR,l)},g.prototype.info=function(l){this.log(Gn.INFO,l)},g.prototype.debug=function(l){this.log(Gn.DEBUG,l)},g.prototype.isEmpty=function(){return this.events.length===0},g.prototype.send=function(l,i){var A=this,E=Lt({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],l(E,function(I,J){I||A.sent++,i&&i(I,J)}),!0},g.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},g}(),Xi=$i,jr=function(){function g(l,i,A,E){this.name=l,this.priority=i,this.transport=A,this.options=E||{}}return g.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},g.prototype.connect=function(l,i){var A=this;if(this.isSupported()){if(this.priority<l)return qr(new k,i)}else return qr(new W,i);var E=!1,I=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),J=null,Y=function(){I.unbind("initialized",Y),I.connect()},st=function(){J=Re.createHandshake(I,function(Dt){E=!0,Nt(),i(null,Dt)})},rt=function(Dt){Nt(),i(Dt)},pt=function(){Nt();var Dt;Dt=Mn(I),i(new T(Dt))},Nt=function(){I.unbind("initialized",Y),I.unbind("open",st),I.unbind("error",rt),I.unbind("closed",pt)};return I.bind("initialized",Y),I.bind("open",st),I.bind("error",rt),I.bind("closed",pt),I.initialize(),{abort:function(){E||(Nt(),J?J.close():I.close())},forceMinPriority:function(Dt){E||A.priority<Dt&&(J?J.close():I.close())}}},g}(),Wr=jr;function qr(g,l){return kt.defer(function(){l(g)}),{abort:function(){},forceMinPriority:function(){}}}var zs=ht.Transports,Hr=function(g,l,i,A,E,I){var J=zs[i];if(!J)throw new M(i);var Y=(!g.enabledTransports||Ne(g.enabledTransports,l)!==-1)&&(!g.disabledTransports||Ne(g.disabledTransports,l)===-1),st;return Y?(E=Object.assign({ignoreNullOrigin:g.ignoreNullOrigin},E),st=new Wr(l,A,I?I.getAssistant(J):J,E)):st=zr,st},zr={isSupported:function(){return!1},connect:function(g,l){var i=kt.defer(function(){l(new W)});return{abort:function(){i.ensureAborted()},forceMinPriority:function(){}}}};function Vs(g){if(g==null)throw"You must pass an options object";if(g.cluster==null)throw"Options object must provide a cluster";"disableStats"in g&&St.warn("The disableStats option is deprecated in favor of enableStats")}var Yi=function(g,l){var i="socket_id="+encodeURIComponent(g.socketId);for(var A in l.params)i+="&"+encodeURIComponent(A)+"="+encodeURIComponent(l.params[A]);if(l.paramsProvider!=null){var E=l.paramsProvider();for(var A in E)i+="&"+encodeURIComponent(A)+"="+encodeURIComponent(E[A])}return i},Qt=function(g){if(typeof ht.getAuthorizers()[g.transport]>"u")throw"'"+g.transport+"' is not a recognized auth transport";return function(l,i){var A=Yi(l,g);ht.getAuthorizers()[g.transport](ht,A,g,v.UserAuthentication,i)}},Vr=Qt,En=function(g,l){var i="socket_id="+encodeURIComponent(g.socketId);i+="&channel_name="+encodeURIComponent(g.channelName);for(var A in l.params)i+="&"+encodeURIComponent(A)+"="+encodeURIComponent(l.params[A]);if(l.paramsProvider!=null){var E=l.paramsProvider();for(var A in E)i+="&"+encodeURIComponent(A)+"="+encodeURIComponent(E[A])}return i},Zi=function(g){if(typeof ht.getAuthorizers()[g.transport]>"u")throw"'"+g.transport+"' is not a recognized auth transport";return function(l,i){var A=En(l,g);ht.getAuthorizers()[g.transport](ht,A,g,v.ChannelAuthorization,i)}},Qi=Zi,Js=function(g,l,i){var A={authTransport:l.transport,authEndpoint:l.endpoint,auth:{params:l.params,headers:l.headers}};return function(E,I){var J=g.channel(E.channelName),Y=i(J,A);Y.authorize(E.socketId,I)}},ln=function(){return ln=Object.assign||function(g){for(var l,i=1,A=arguments.length;i<A;i++){l=arguments[i];for(var E in l)Object.prototype.hasOwnProperty.call(l,E)&&(g[E]=l[E])}return g},ln.apply(this,arguments)};function Ks(g,l){var i={activityTimeout:g.activityTimeout||a.activityTimeout,cluster:g.cluster,httpPath:g.httpPath||a.httpPath,httpPort:g.httpPort||a.httpPort,httpsPort:g.httpsPort||a.httpsPort,pongTimeout:g.pongTimeout||a.pongTimeout,statsHost:g.statsHost||a.stats_host,unavailableTimeout:g.unavailableTimeout||a.unavailableTimeout,wsPath:g.wsPath||a.wsPath,wsPort:g.wsPort||a.wsPort,wssPort:g.wssPort||a.wssPort,enableStats:Ys(g),httpHost:Gs(g),useTLS:Xs(g),wsHost:$s(g),userAuthenticator:Jr(g),channelAuthorizer:je(g,l)};return"disabledTransports"in g&&(i.disabledTransports=g.disabledTransports),"enabledTransports"in g&&(i.enabledTransports=g.enabledTransports),"ignoreNullOrigin"in g&&(i.ignoreNullOrigin=g.ignoreNullOrigin),"timelineParams"in g&&(i.timelineParams=g.timelineParams),"nacl"in g&&(i.nacl=g.nacl),i}function Gs(g){return g.httpHost?g.httpHost:g.cluster?"sockjs-"+g.cluster+".pusher.com":a.httpHost}function $s(g){return g.wsHost?g.wsHost:hn(g.cluster)}function hn(g){return"ws-"+g+".pusher.com"}function Xs(g){return ht.getProtocol()==="https:"?!0:g.forceTLS!==!1}function Ys(g){return"enableStats"in g?g.enableStats:"disableStats"in g?!g.disableStats:!1}function Jr(g){var l=ln(ln({},a.userAuthentication),g.userAuthentication);return"customHandler"in l&&l.customHandler!=null?l.customHandler:Vr(l)}function to(g,l){var i;return"channelAuthorization"in g?i=ln(ln({},a.channelAuthorization),g.channelAuthorization):(i={transport:g.authTransport||a.authTransport,endpoint:g.authEndpoint||a.authEndpoint},"auth"in g&&("params"in g.auth&&(i.params=g.auth.params),"headers"in g.auth&&(i.headers=g.auth.headers)),"authorizer"in g&&(i.customHandler=Js(l,i,g.authorizer))),i}function je(g,l){var i=to(g,l);return"customHandler"in i&&i.customHandler!=null?i.customHandler:Qi(i)}var $n=function(){var g=function(l,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var I in E)E.hasOwnProperty(I)&&(A[I]=E[I])},g(l,i)};return function(l,i){g(l,i);function A(){this.constructor=l}l.prototype=i===null?Object.create(i):(A.prototype=i.prototype,new A)}}(),Zs=function(g){$n(l,g);function l(i){var A=g.call(this,function(E,I){St.debug("No callbacks on watchlist events for "+E)})||this;return A.pusher=i,A.bindWatchlistInternalEvent(),A}return l.prototype.handleEvent=function(i){var A=this;i.data.events.forEach(function(E){A.emit(E.name,E)})},l.prototype.bindWatchlistInternalEvent=function(){var i=this;this.pusher.connection.bind("message",function(A){var E=A.event;E==="pusher_internal:watchlist_events"&&i.handleEvent(A)})},l}(be),Qs=Zs;function ta(){var g,l,i=new Promise(function(A,E){g=A,l=E});return{promise:i,resolve:g,reject:l}}var fn=ta,fe=function(){var g=function(l,i){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,E){A.__proto__=E}||function(A,E){for(var I in E)E.hasOwnProperty(I)&&(A[I]=E[I])},g(l,i)};return function(l,i){g(l,i);function A(){this.constructor=l}l.prototype=i===null?Object.create(i):(A.prototype=i.prototype,new A)}}(),eo=function(g){fe(l,g);function l(i){var A=g.call(this,function(E,I){St.debug("No callbacks on user for "+E)})||this;return A.signin_requested=!1,A.user_data=null,A.serverToUserChannel=null,A.signinDonePromise=null,A._signinDoneResolve=null,A._onAuthorize=function(E,I){if(E){St.warn("Error during signin: "+E),A._cleanup();return}A.pusher.send_event("pusher:signin",{auth:I.auth,user_data:I.user_data})},A.pusher=i,A.pusher.connection.bind("state_change",function(E){var I=E.previous,J=E.current;I!=="connected"&&J==="connected"&&A._signin(),I==="connected"&&J!=="connected"&&(A._cleanup(),A._newSigninPromiseIfNeeded())}),A.watchlist=new Qs(i),A.pusher.connection.bind("message",function(E){var I=E.event;I==="pusher:signin_success"&&A._onSigninSuccess(E.data),A.serverToUserChannel&&A.serverToUserChannel.name===E.channel&&A.serverToUserChannel.handleEvent(E)}),A}return l.prototype.signin=function(){this.signin_requested||(this.signin_requested=!0,this._signin())},l.prototype._signin=function(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))},l.prototype._onSigninSuccess=function(i){try{this.user_data=JSON.parse(i.user_data)}catch{St.error("Failed parsing user data after signin: "+i.user_data),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){St.error("user_data doesn't contain an id. user_data: "+this.user_data),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()},l.prototype._subscribeChannels=function(){var i=this,A=function(E){E.subscriptionPending&&E.subscriptionCancelled?E.reinstateSubscription():!E.subscriptionPending&&i.pusher.connection.state==="connected"&&E.subscribe()};this.serverToUserChannel=new qn("#server-to-user-"+this.user_data.id,this.pusher),this.serverToUserChannel.bind_global(function(E,I){E.indexOf("pusher_internal:")===0||E.indexOf("pusher:")===0||i.emit(E,I)}),A(this.serverToUserChannel)},l.prototype._cleanup=function(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()},l.prototype._newSigninPromiseIfNeeded=function(){if(this.signin_requested&&!(this.signinDonePromise&&!this.signinDonePromise.done)){var i=fn(),A=i.promise,E=i.resolve;A.done=!1;var I=function(){A.done=!0};A.then(I).catch(I),this.signinDonePromise=A,this._signinDoneResolve=E}},l}(be),ea=eo,no=function(){function g(l,i){var A=this;na(l),Vs(i),this.key=l,this.config=Ks(i,this),this.channels=Re.createChannels(),this.global_emitter=new be,this.sessionID=ht.randomInt(1e9),this.timeline=new Xi(this.key,this.sessionID,{cluster:this.config.cluster,features:g.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Gn.INFO,version:a.VERSION}),this.config.enableStats&&(this.timelineSender=Re.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+ht.TimelineTransport.name}));var E=function(I){return ht.getDefaultStrategy(A.config,I,Hr)};this.connection=Re.createConnectionManager(this.key,{getStrategy:E,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",function(){A.subscribeAll(),A.timelineSender&&A.timelineSender.send(A.connection.isUsingTLS())}),this.connection.bind("message",function(I){var J=I.event,Y=J.indexOf("pusher_internal:")===0;if(I.channel){var st=A.channel(I.channel);st&&st.handleEvent(I)}Y||A.global_emitter.emit(I.event,I.data)}),this.connection.bind("connecting",function(){A.channels.disconnect()}),this.connection.bind("disconnected",function(){A.channels.disconnect()}),this.connection.bind("error",function(I){St.warn(I)}),g.instances.push(this),this.timeline.info({instances:g.instances.length}),this.user=new ea(this),g.isReady&&this.connect()}return g.ready=function(){g.isReady=!0;for(var l=0,i=g.instances.length;l<i;l++)g.instances[l].connect()},g.getClientFeatures=function(){return sn(gi({ws:ht.Transports.ws},function(l){return l.isSupported({})}))},g.prototype.channel=function(l){return this.channels.find(l)},g.prototype.allChannels=function(){return this.channels.all()},g.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var l=this.connection.isUsingTLS(),i=this.timelineSender;this.timelineSenderTimer=new le(6e4,function(){i.send(l)})}},g.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},g.prototype.bind=function(l,i,A){return this.global_emitter.bind(l,i,A),this},g.prototype.unbind=function(l,i,A){return this.global_emitter.unbind(l,i,A),this},g.prototype.bind_global=function(l){return this.global_emitter.bind_global(l),this},g.prototype.unbind_global=function(l){return this.global_emitter.unbind_global(l),this},g.prototype.unbind_all=function(l){return this.global_emitter.unbind_all(),this},g.prototype.subscribeAll=function(){var l;for(l in this.channels.channels)this.channels.channels.hasOwnProperty(l)&&this.subscribe(l)},g.prototype.subscribe=function(l){var i=this.channels.add(l,this);return i.subscriptionPending&&i.subscriptionCancelled?i.reinstateSubscription():!i.subscriptionPending&&this.connection.state==="connected"&&i.subscribe(),i},g.prototype.unsubscribe=function(l){var i=this.channels.find(l);i&&i.subscriptionPending?i.cancelSubscription():(i=this.channels.remove(l),i&&i.subscribed&&i.unsubscribe())},g.prototype.send_event=function(l,i,A){return this.connection.send_event(l,i,A)},g.prototype.shouldUseTLS=function(){return this.config.useTLS},g.prototype.signin=function(){this.user.signin()},g.instances=[],g.isReady=!1,g.logToConsole=!1,g.Runtime=ht,g.ScriptReceivers=ht.ScriptReceivers,g.DependenciesReceivers=ht.DependenciesReceivers,g.auth_callbacks=ht.auth_callbacks,g}(),Kr=y.default=no;function na(g){if(g==null)throw"You must pass your app key when you instantiate Pusher."}ht.setup(no)}])})})(Bl);var vy=Bl.exports;const yy=uu(vy);window._=Wm;window.axios=iy;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.Pusher=yy;window.Echo=new my({broadcaster:"pusher",key:"07722c35cd689d55def9",cluster:"eu",forceTLS:!0});var Fl={exports:{}};(function(O){(function(){}).call(De),function(){window.Set==null&&(window.Set=function(){function L(){this.clear()}return L.prototype.clear=function(){return this.values=[]},L.prototype.has=function(n){return this.values.indexOf(n)!==-1},L.prototype.add=function(n){return this.has(n)||this.values.push(n),this},L.prototype.delete=function(n){var y;return(y=this.values.indexOf(n))===-1?!1:(this.values.splice(y,1),!0)},L.prototype.forEach=function(){var n;return(n=this.values).forEach.apply(n,arguments)},L}())}.call(De),function(L){function n(){}function y(u,w){return function(){u.apply(w,arguments)}}function c(u){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof u!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],C(u,this)}function b(u,w){for(;u._state===3;)u=u._value;return u._state===0?void u._deferreds.push(w):(u._handled=!0,void m(function(){var v=u._state===1?w.onFulfilled:w.onRejected;if(v===null)return void(u._state===1?s:h)(w.promise,u._value);var R;try{R=v(u._value)}catch(o){return void h(w.promise,o)}s(w.promise,R)}))}function s(u,w){try{if(w===u)throw new TypeError("A promise cannot be resolved with itself.");if(w&&(typeof w=="object"||typeof w=="function")){var v=w.then;if(w instanceof c)return u._state=3,u._value=w,void a(u);if(typeof v=="function")return void C(y(v,w),u)}u._state=1,u._value=w,a(u)}catch(R){h(u,R)}}function h(u,w){u._state=2,u._value=w,a(u)}function a(u){u._state===2&&u._deferreds.length===0&&setTimeout(function(){u._handled||_(u._value)},1);for(var w=0,v=u._deferreds.length;v>w;w++)b(u,u._deferreds[w]);u._deferreds=null}function p(u,w,v){this.onFulfilled=typeof u=="function"?u:null,this.onRejected=typeof w=="function"?w:null,this.promise=v}function C(u,w){var v=!1;try{u(function(R){v||(v=!0,s(w,R))},function(R){v||(v=!0,h(w,R))})}catch(R){if(v)return;v=!0,h(w,R)}}var f=setTimeout,m=typeof setImmediate=="function"&&setImmediate||function(u){f(u,1)},_=function(u){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",u)};c.prototype.catch=function(u){return this.then(null,u)},c.prototype.then=function(u,w){var v=new c(n);return b(this,new p(u,w,v)),v},c.all=function(u){var w=Array.prototype.slice.call(u);return new c(function(v,R){function o(k,T){try{if(T&&(typeof T=="object"||typeof T=="function")){var D=T.then;if(typeof D=="function")return void D.call(T,function(M){o(k,M)},R)}w[k]=T,--d===0&&v(w)}catch(M){R(M)}}if(w.length===0)return v([]);for(var d=w.length,S=0;S<w.length;S++)o(S,w[S])})},c.resolve=function(u){return u&&typeof u=="object"&&u.constructor===c?u:new c(function(w){w(u)})},c.reject=function(u){return new c(function(w,v){v(u)})},c.race=function(u){return new c(function(w,v){for(var R=0,o=u.length;o>R;R++)u[R].then(w,v)})},c._setImmediateFn=function(u){m=u},c._setUnhandledRejectionFn=function(u){_=u},O.exports?O.exports=c:L.Promise||(L.Promise=c)}(De),function(){var L=typeof window.customElements=="object",n=typeof document.registerElement=="function",y=L||n;y||(typeof WeakMap>"u"&&function(){var c=Object.defineProperty,b=Date.now()%1e9,s=function(){this.name="__st"+(1e9*Math.random()>>>0)+(b+++"__")};s.prototype={set:function(h,a){var p=h[this.name];return p&&p[0]===h?p[1]=a:c(h,this.name,{value:[h,a],writable:!0}),this},get:function(h){var a;return(a=h[this.name])&&a[0]===h?a[1]:void 0},delete:function(h){var a=h[this.name];return a&&a[0]===h?(a[0]=a[1]=void 0,!0):!1},has:function(h){var a=h[this.name];return a?a[0]===h:!1}},window.WeakMap=s}(),function(c){function b(z){M.push(z),D||(D=!0,d(h))}function s(z){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(z)||z}function h(){D=!1;var z=M;M=[],z.sort(function(j,F){return j.uid_-F.uid_});var G=!1;z.forEach(function(j){var F=j.takeRecords();a(j),F.length&&(j.callback_(F,j),G=!0)}),G&&h()}function a(z){z.nodes_.forEach(function(G){var j=S.get(G);j&&j.forEach(function(F){F.observer===z&&F.removeTransientObservers()})})}function p(z,G){for(var j=z;j;j=j.parentNode){var F=S.get(j);if(F)for(var q=0;q<F.length;q++){var X=F[q],it=X.options;if(j===z||it.subtree){var mt=G(it);mt&&X.enqueue(mt)}}}}function C(z){this.callback_=z,this.nodes_=[],this.records_=[],this.uid_=++W}function f(z,G){this.type=z,this.target=G,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function m(z){var G=new f(z.type,z.target);return G.addedNodes=z.addedNodes.slice(),G.removedNodes=z.removedNodes.slice(),G.previousSibling=z.previousSibling,G.nextSibling=z.nextSibling,G.attributeName=z.attributeName,G.attributeNamespace=z.attributeNamespace,G.oldValue=z.oldValue,G}function _(z,G){return K=new f(z,G)}function u(z){return Z||(Z=m(K),Z.oldValue=z,Z)}function w(){K=Z=void 0}function v(z){return z===Z||z===K}function R(z,G){return z===G?z:Z&&v(z)?Z:null}function o(z,G,j){this.observer=z,this.target=G,this.options=j,this.transientObservedNodes=[]}if(!c.JsMutationObserver){var d,S=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))d=setTimeout;else if(window.setImmediate)d=window.setImmediate;else{var k=[],T=String(Math.random());window.addEventListener("message",function(z){if(z.data===T){var G=k;k=[],G.forEach(function(j){j()})}}),d=function(z){k.push(z),window.postMessage(T,"*")}}var D=!1,M=[],W=0;C.prototype={observe:function(z,G){if(z=s(z),!G.childList&&!G.attributes&&!G.characterData||G.attributeOldValue&&!G.attributes||G.attributeFilter&&G.attributeFilter.length&&!G.attributes||G.characterDataOldValue&&!G.characterData)throw new SyntaxError;var j=S.get(z);j||S.set(z,j=[]);for(var F,q=0;q<j.length;q++)if(j[q].observer===this){F=j[q],F.removeListeners(),F.options=G;break}F||(F=new o(this,z,G),j.push(F),this.nodes_.push(z)),F.addListeners()},disconnect:function(){this.nodes_.forEach(function(z){for(var G=S.get(z),j=0;j<G.length;j++){var F=G[j];if(F.observer===this){F.removeListeners(),G.splice(j,1);break}}},this),this.records_=[]},takeRecords:function(){var z=this.records_;return this.records_=[],z}};var K,Z;o.prototype={enqueue:function(z){var G=this.observer.records_,j=G.length;if(G.length>0){var F=G[j-1],q=R(F,z);if(q)return void(G[j-1]=q)}else b(this.observer);G[j]=z},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(z){var G=this.options;G.attributes&&z.addEventListener("DOMAttrModified",this,!0),G.characterData&&z.addEventListener("DOMCharacterDataModified",this,!0),G.childList&&z.addEventListener("DOMNodeInserted",this,!0),(G.childList||G.subtree)&&z.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(z){var G=this.options;G.attributes&&z.removeEventListener("DOMAttrModified",this,!0),G.characterData&&z.removeEventListener("DOMCharacterDataModified",this,!0),G.childList&&z.removeEventListener("DOMNodeInserted",this,!0),(G.childList||G.subtree)&&z.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(z){if(z!==this.target){this.addListeners_(z),this.transientObservedNodes.push(z);var G=S.get(z);G||S.set(z,G=[]),G.push(this)}},removeTransientObservers:function(){var z=this.transientObservedNodes;this.transientObservedNodes=[],z.forEach(function(G){this.removeListeners_(G);for(var j=S.get(G),F=0;F<j.length;F++)if(j[F]===this){j.splice(F,1);break}},this)},handleEvent:function(z){switch(z.stopImmediatePropagation(),z.type){case"DOMAttrModified":var G=z.attrName,j=z.relatedNode.namespaceURI,F=z.target,Pt=new _("attributes",F);Pt.attributeName=G,Pt.attributeNamespace=j;var q=z.attrChange===MutationEvent.ADDITION?null:z.prevValue;p(F,function(Ft){return!Ft.attributes||Ft.attributeFilter&&Ft.attributeFilter.length&&Ft.attributeFilter.indexOf(G)===-1&&Ft.attributeFilter.indexOf(j)===-1?void 0:Ft.attributeOldValue?u(q):Pt});break;case"DOMCharacterDataModified":var F=z.target,Pt=_("characterData",F),q=z.prevValue;p(F,function(Ft){return Ft.characterData?Ft.characterDataOldValue?u(q):Pt:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(z.target);case"DOMNodeInserted":var X,it,mt=z.target;z.type==="DOMNodeInserted"?(X=[mt],it=[]):(X=[],it=[mt]);var wt=mt.previousSibling,At=mt.nextSibling,Pt=_("childList",z.target.parentNode);Pt.addedNodes=X,Pt.removedNodes=it,Pt.previousSibling=wt,Pt.nextSibling=At,p(z.relatedNode,function(Ft){return Ft.childList?Pt:void 0})}w()}},c.JsMutationObserver=C,c.MutationObserver||(c.MutationObserver=C,C._isPolyfilled=!0)}}(self),function(){if(!window.performance||!window.performance.now){var c=Date.now();window.performance={now:function(){return Date.now()-c}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var p=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return p?function(C){return p(function(){C(performance.now())})}:function(C){return window.setTimeout(C,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(p){clearTimeout(p)}}());var b=function(){var p=document.createEvent("Event");return p.initEvent("foo",!0,!0),p.preventDefault(),p.defaultPrevented}();if(!b){var s=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(s.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var h=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||h&&typeof window.CustomEvent!="function")&&(window.CustomEvent=function(p,C){C=C||{};var f=document.createEvent("CustomEvent");return f.initCustomEvent(p,!!C.bubbles,!!C.cancelable,C.detail),f},window.CustomEvent.prototype=window.Event.prototype),!window.Event||h&&typeof window.Event!="function"){var a=window.Event;window.Event=function(p,C){C=C||{};var f=document.createEvent("Event");return f.initEvent(p,!!C.bubbles,!!C.cancelable),f},window.Event.prototype=a.prototype}}(),window.CustomElements=window.CustomElements||{flags:{}},function(c){var b=c.flags,s=[],h=function(p){s.push(p)},a=function(){s.forEach(function(p){p(c)})};c.addModule=h,c.initializeModules=a,c.hasNative=!!document.registerElement,c.isIE=/Trident/.test(navigator.userAgent),c.useNative=!b.register&&c.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(c){function b(f,m){s(f,function(_){return m(_)?!0:void h(_,m)}),h(f,m)}function s(f,m,_){var u=f.firstElementChild;if(!u)for(u=f.firstChild;u&&u.nodeType!==Node.ELEMENT_NODE;)u=u.nextSibling;for(;u;)m(u,_)!==!0&&s(u,m,_),u=u.nextElementSibling;return null}function h(f,m){for(var _=f.shadowRoot;_;)b(_,m),_=_.olderShadowRoot}function a(f,m){p(f,m,[])}function p(f,m,_){if(f=window.wrap(f),!(_.indexOf(f)>=0)){_.push(f);for(var u,w=f.querySelectorAll("link[rel="+C+"]"),v=0,R=w.length;R>v&&(u=w[v]);v++)u.import&&p(u.import,m,_);m(f)}}var C=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";c.forDocumentTree=a,c.forSubtree=b}),window.CustomElements.addModule(function(c){function b(j,F){return s(j,F)||h(j,F)}function s(j,F){return c.upgrade(j,F)?!0:void(F&&C(j))}function h(j,F){D(j,function(q){return s(q,F)?!0:void 0})}function a(j){Z.push(j),K||(K=!0,setTimeout(p))}function p(){K=!1;for(var j,F=Z,q=0,X=F.length;X>q&&(j=F[q]);q++)j();Z=[]}function C(j){W?a(function(){f(j)}):f(j)}function f(j){j.__upgraded__&&!j.__attached&&(j.__attached=!0,j.attachedCallback&&j.attachedCallback())}function m(j){_(j),D(j,function(F){_(F)})}function _(j){W?a(function(){u(j)}):u(j)}function u(j){j.__upgraded__&&j.__attached&&(j.__attached=!1,j.detachedCallback&&j.detachedCallback())}function w(j){for(var F=j,q=window.wrap(document);F;){if(F==q)return!0;F=F.parentNode||F.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&F.host}}function v(j){if(j.shadowRoot&&!j.shadowRoot.__watched){T.dom&&console.log("watching shadow-root for: ",j.localName);for(var F=j.shadowRoot;F;)d(F),F=F.olderShadowRoot}}function R(j,F){if(T.dom){var q=F[0];if(q&&q.type==="childList"&&q.addedNodes&&q.addedNodes){for(var X=q.addedNodes[0];X&&X!==document&&!X.host;)X=X.parentNode;var it=X&&(X.URL||X._URL||X.host&&X.host.localName)||"";it=it.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",F.length,it||"")}var mt=w(j);F.forEach(function(wt){wt.type==="childList"&&(z(wt.addedNodes,function(At){At.localName&&b(At,mt)}),z(wt.removedNodes,function(At){At.localName&&m(At)}))}),T.dom&&console.groupEnd()}function o(j){for(j=window.wrap(j),j||(j=window.wrap(document));j.parentNode;)j=j.parentNode;var F=j.__observer;F&&(R(j,F.takeRecords()),p())}function d(j){if(!j.__observer){var F=new MutationObserver(R.bind(this,j));F.observe(j,{childList:!0,subtree:!0}),j.__observer=F}}function S(j){j=window.wrap(j),T.dom&&console.group("upgradeDocument: ",j.baseURI.split("/").pop());var F=j===window.wrap(document);b(j,F),d(j),T.dom&&console.groupEnd()}function k(j){M(j,S)}var T=c.flags,D=c.forSubtree,M=c.forDocumentTree,W=window.MutationObserver._isPolyfilled&&T["throttle-attached"];c.hasPolyfillMutations=W,c.hasThrottledAttached=W;var K=!1,Z=[],z=Array.prototype.forEach.call.bind(Array.prototype.forEach),G=Element.prototype.createShadowRoot;G&&(Element.prototype.createShadowRoot=function(){var j=G.call(this);return window.CustomElements.watchShadow(this),j}),c.watchShadow=v,c.upgradeDocumentTree=k,c.upgradeDocument=S,c.upgradeSubtree=h,c.upgradeAll=b,c.attached=C,c.takeRecords=o}),window.CustomElements.addModule(function(c){function b(f,m){if(f.localName==="template"&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(f),!f.__upgraded__&&f.nodeType===Node.ELEMENT_NODE){var _=f.getAttribute("is"),u=c.getRegisteredDefinition(f.localName)||c.getRegisteredDefinition(_);if(u&&(_&&u.tag==f.localName||!_&&!u.extends))return s(f,u,m)}}function s(f,m,_){return C.upgrade&&console.group("upgrade:",f.localName),m.is&&f.setAttribute("is",m.is),h(f,m),f.__upgraded__=!0,p(f),_&&c.attached(f),c.upgradeSubtree(f,_),C.upgrade&&console.groupEnd(),f}function h(f,m){Object.__proto__||a(f,m.prototype,m.native),f.__proto__=m.prototype}function a(f,m,_){for(var u={},w=m;w!==_&&w!==HTMLElement.prototype;){for(var v,R=Object.getOwnPropertyNames(w),o=0;v=R[o];o++)u[v]||(Object.defineProperty(f,v,Object.getOwnPropertyDescriptor(w,v)),u[v]=1);w=Object.getPrototypeOf(w)}}function p(f){f.createdCallback&&f.createdCallback()}var C=c.flags;c.upgrade=b,c.upgradeWithDefinition=s,c.implementPrototype=h}),window.CustomElements.addModule(function(c){function b(j,F){var q=F||{};if(!j)throw new Error("document.registerElement: first argument `name` must not be empty");if(j.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(j)+"'.");if(a(j))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(j)+"'. The type name is invalid.");if(_(j))throw new Error("DuplicateDefinitionError: a type with name '"+String(j)+"' is already registered");return q.prototype||(q.prototype=Object.create(HTMLElement.prototype)),q.__name=j.toLowerCase(),q.extends&&(q.extends=q.extends.toLowerCase()),q.lifecycle=q.lifecycle||{},q.ancestry=p(q.extends),C(q),f(q),s(q.prototype),u(q.__name,q),q.ctor=w(q),q.ctor.prototype=q.prototype,q.prototype.constructor=q.ctor,c.ready&&S(document),q.ctor}function s(j){if(!j.setAttribute._polyfilled){var F=j.setAttribute;j.setAttribute=function(X,it){h.call(this,X,it,F)};var q=j.removeAttribute;j.removeAttribute=function(X){h.call(this,X,null,q)},j.setAttribute._polyfilled=!0}}function h(j,F,q){j=j.toLowerCase();var X=this.getAttribute(j);q.apply(this,arguments);var it=this.getAttribute(j);this.attributeChangedCallback&&it!==X&&this.attributeChangedCallback(j,X,it)}function a(j){for(var F=0;F<W.length;F++)if(j===W[F])return!0}function p(j){var F=_(j);return F?p(F.extends).concat([F]):[]}function C(j){for(var F,q=j.extends,X=0;F=j.ancestry[X];X++)q=F.is&&F.tag;j.tag=q||j.__name,q&&(j.is=j.__name)}function f(j){if(!Object.__proto__){var F=HTMLElement.prototype;if(j.is){var q=document.createElement(j.tag);F=Object.getPrototypeOf(q)}for(var X,it=j.prototype,mt=!1;it;)it==F&&(mt=!0),X=Object.getPrototypeOf(it),X&&(it.__proto__=X),it=X;mt||console.warn(j.tag+" prototype not found in prototype chain for "+j.is),j.native=F}}function m(j){return T(z(j.tag),j)}function _(j){return j?K[j.toLowerCase()]:void 0}function u(j,F){K[j]=F}function w(j){return function(){return m(j)}}function v(j,F,q){return j===Z?R(F,q):G(j,F)}function R(j,F){j&&(j=j.toLowerCase()),F&&(F=F.toLowerCase());var q=_(F||j);if(q){if(j==q.tag&&F==q.is)return new q.ctor;if(!F&&!q.is)return new q.ctor}var X;return F?(X=R(j),X.setAttribute("is",F),X):(X=z(j),j.indexOf("-")>=0&&D(X,HTMLElement),X)}function o(j,F){var q=j[F];j[F]=function(){var X=q.apply(this,arguments);return k(X),X}}var d,S=(c.isIE,c.upgradeDocumentTree),k=c.upgradeAll,T=c.upgradeWithDefinition,D=c.implementPrototype,M=c.useNative,W=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],K={},Z="http://www.w3.org/1999/xhtml",z=document.createElement.bind(document),G=document.createElementNS.bind(document);d=Object.__proto__||M?function(j,F){return j instanceof F}:function(j,F){if(j instanceof F)return!0;for(var q=j;q;){if(q===F.prototype)return!0;q=q.__proto__}return!1},o(Node.prototype,"cloneNode"),o(document,"importNode"),document.registerElement=b,document.createElement=R,document.createElementNS=v,c.registry=K,c.instanceof=d,c.reservedTagList=W,c.getRegisteredDefinition=_,document.register=document.registerElement}),function(c){function b(){p(window.wrap(document)),window.CustomElements.ready=!0;var m=window.requestAnimationFrame||function(_){setTimeout(_,16)};m(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var s=c.useNative,h=c.initializeModules;if(c.isIE,s){var a=function(){};c.watchShadow=a,c.upgrade=a,c.upgradeAll=a,c.upgradeDocumentTree=a,c.upgradeSubtree=a,c.takeRecords=a,c.instanceof=function(m,_){return m instanceof _}}else h();var p=c.upgradeDocumentTree,C=c.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(m){return m}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(m){m.import&&C(wrap(m.import))}),document.readyState==="complete"||c.flags.eager)b();else if(document.readyState!=="interactive"||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var f=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(f,b)}else b()}(window.CustomElements))}.call(De),function(){}.call(De),function(){var L=this;(function(){(function(){this.Trix={VERSION:"1.3.1",ZERO_WIDTH_SPACE:"\uFEFF",NON_BREAKING_SPACE:" ",OBJECT_REPLACEMENT_CHARACTER:"￼",browser:{composesExistingText:/Android.*Chrome/.test(navigator.userAgent),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:function(){var y,c,b,s;if(typeof InputEvent>"u")return!1;for(s=["data","getTargetRanges","inputType"],y=0,c=s.length;c>y;y++)if(b=s[y],!(b in InputEvent.prototype))return!1;return!0}()},config:{}}}).call(this)}).call(L);var n=L.Trix;(function(){(function(){n.BasicObject=function(){function y(){}var c,b,s;return y.proxyMethod=function(h){var a,p,C,f,m;return C=b(h),a=C.name,f=C.toMethod,m=C.toProperty,p=C.optional,this.prototype[a]=function(){var _,u;return _=f!=null?p?typeof this[f]=="function"?this[f]():void 0:this[f]():m!=null?this[m]:void 0,p?(u=_!=null?_[a]:void 0,u!=null?c.call(u,_,arguments):void 0):(u=_[a],c.call(u,_,arguments))}},b=function(h){var a,p;if(!(p=h.match(s)))throw new Error("can't parse @proxyMethod expression: "+h);return a={name:p[4]},p[2]!=null?a.toMethod=p[1]:a.toProperty=p[1],p[3]!=null&&(a.optional=!0),a},c=Function.prototype.apply,s=/^(.+?)(\(\))?(\?)?\.(.+?)$/,y}()}).call(this),function(){var y=function(b,s){function h(){this.constructor=b}for(var a in s)c.call(s,a)&&(b[a]=s[a]);return h.prototype=s.prototype,b.prototype=new h,b.__super__=s.prototype,b},c={}.hasOwnProperty;n.Object=function(b){function s(){this.id=++h}var h;return y(s,b),h=0,s.fromJSONString=function(a){return this.fromJSON(JSON.parse(a))},s.prototype.hasSameConstructorAs=function(a){return this.constructor===(a!=null?a.constructor:void 0)},s.prototype.isEqualTo=function(a){return this===a},s.prototype.inspect=function(){var a,p,C;return a=function(){var f,m,_;m=(f=this.contentsForInspection())!=null?f:{},_=[];for(p in m)C=m[p],_.push(p+"="+C);return _}.call(this),"#<"+this.constructor.name+":"+this.id+(a.length?" "+a.join(", "):"")+">"},s.prototype.contentsForInspection=function(){},s.prototype.toJSONString=function(){return JSON.stringify(this)},s.prototype.toUTF16String=function(){return n.UTF16String.box(this)},s.prototype.getCacheKey=function(){return this.id.toString()},s}(n.BasicObject)}.call(this),function(){n.extend=function(y){var c,b;for(c in y)b=y[c],this[c]=b;return this}}.call(this),function(){n.extend({defer:function(y){return setTimeout(y,1)}})}.call(this),function(){var y,c;n.extend({normalizeSpaces:function(b){return b.replace(RegExp(""+n.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+n.NON_BREAKING_SPACE,"g")," ")},normalizeNewlines:function(b){return b.replace(/\r\n/g,`
`)},breakableWhitespacePattern:RegExp("[^\\S"+n.NON_BREAKING_SPACE+"]"),squishBreakableWhitespace:function(b){return b.replace(RegExp(""+n.breakableWhitespacePattern.source,"g")," ").replace(/\ {2,}/g," ")},summarizeStringChange:function(b,s){var h,a,p,C;return b=n.UTF16String.box(b),s=n.UTF16String.box(s),s.length<b.length?(a=c(b,s),C=a[0],h=a[1]):(p=c(s,b),h=p[0],C=p[1]),{added:h,removed:C}}}),c=function(b,s){var h,a,p,C,f;return b.isEqualTo(s)?["",""]:(a=y(b,s),C=a.utf16String.length,p=C?(f=a.offset,h=b.codepoints.slice(0,f).concat(b.codepoints.slice(f+C)),y(s,n.UTF16String.fromCodepoints(h))):y(s,b),[a.utf16String.toString(),p.utf16String.toString()])},y=function(b,s){var h,a,p;for(h=0,a=b.length,p=s.length;a>h&&b.charAt(h).isEqualTo(s.charAt(h));)h++;for(;a>h+1&&b.charAt(a-1).isEqualTo(s.charAt(p-1));)a--,p--;return{utf16String:b.slice(h,a),offset:h}}}.call(this),function(){n.extend({copyObject:function(y){var c,b,s;y==null&&(y={}),b={};for(c in y)s=y[c],b[c]=s;return b},objectsAreEqual:function(y,c){var b,s;if(y==null&&(y={}),c==null&&(c={}),Object.keys(y).length!==Object.keys(c).length)return!1;for(b in y)if(s=y[b],s!==c[b])return!1;return!0}})}.call(this),function(){var y=[].slice;n.extend({arraysAreEqual:function(c,b){var s,h,a,p;if(c==null&&(c=[]),b==null&&(b=[]),c.length!==b.length)return!1;for(h=s=0,a=c.length;a>s;h=++s)if(p=c[h],p!==b[h])return!1;return!0},arrayStartsWith:function(c,b){return c==null&&(c=[]),b==null&&(b=[]),n.arraysAreEqual(c.slice(0,b.length),b)},spliceArray:function(){var c,b,s;return b=arguments[0],c=2<=arguments.length?y.call(arguments,1):[],s=b.slice(0),s.splice.apply(s,c),s},summarizeArrayChange:function(c,b){var s,h,a,p,C,f,m,_,u,w,v;for(c==null&&(c=[]),b==null&&(b=[]),s=[],w=[],a=new Set,p=0,m=c.length;m>p;p++)v=c[p],a.add(v);for(h=new Set,C=0,_=b.length;_>C;C++)v=b[C],h.add(v),a.has(v)||s.push(v);for(f=0,u=c.length;u>f;f++)v=c[f],h.has(v)||w.push(v);return{added:s,removed:w}}})}.call(this),function(){var y,c,b,s;y=null,c=null,s=null,b=null,n.extend({getAllAttributeNames:function(){return y??(y=n.getTextAttributeNames().concat(n.getBlockAttributeNames()))},getBlockConfig:function(h){return n.config.blockAttributes[h]},getBlockAttributeNames:function(){return c??(c=Object.keys(n.config.blockAttributes))},getTextConfig:function(h){return n.config.textAttributes[h]},getTextAttributeNames:function(){return s??(s=Object.keys(n.config.textAttributes))},getListAttributeNames:function(){var h,a;return b??(b=function(){var p,C;p=n.config.blockAttributes,C=[];for(h in p)a=p[h].listAttribute,a!=null&&C.push(a);return C}())}})}.call(this),function(){var y,c,b,s,h,a=[].indexOf||function(p){for(var C=0,f=this.length;f>C;C++)if(C in this&&this[C]===p)return C;return-1};y=document.documentElement,c=(b=(s=(h=y.matchesSelector)!=null?h:y.webkitMatchesSelector)!=null?s:y.msMatchesSelector)!=null?b:y.mozMatchesSelector,n.extend({handleEvent:function(p,C){var f,m,_,u,w,v,R,o,d,S,k;return R=C??{},w=R.onElement,u=R.matchingSelector,k=R.withCallback,_=R.inPhase,v=R.preventDefault,d=R.times,f=w??y,o=u,S=_==="capturing",m=function(T){var D;return d!=null&&--d===0&&m.destroy(),D=n.findClosestElementFromNode(T.target,{matchingSelector:o}),D!=null&&(k!=null&&k.call(D,T,D),v)?T.preventDefault():void 0},m.destroy=function(){return f.removeEventListener(p,m,S)},f.addEventListener(p,m,S),m},handleEventOnce:function(p,C){return C==null&&(C={}),C.times=1,n.handleEvent(p,C)},triggerEvent:function(p,C){var f,m,_,u,w,v,R;return R=C??{},v=R.onElement,m=R.bubbles,_=R.cancelable,f=R.attributes,u=v??y,m=m!==!1,_=_!==!1,w=document.createEvent("Events"),w.initEvent(p,m,_),f!=null&&n.extend.call(w,f),u.dispatchEvent(w)},elementMatchesSelector:function(p,C){return(p!=null?p.nodeType:void 0)===1?c.call(p,C):void 0},findClosestElementFromNode:function(p,C){var f,m,_;for(m=C??{},f=m.matchingSelector,_=m.untilNode;p!=null&&p.nodeType!==Node.ELEMENT_NODE;)p=p.parentNode;if(p!=null){if(f==null)return p;if(p.closest&&_==null)return p.closest(f);for(;p&&p!==_;){if(n.elementMatchesSelector(p,f))return p;p=p.parentNode}}},findInnerElement:function(p){for(;p!=null&&p.firstElementChild;)p=p.firstElementChild;return p},innerElementIsActive:function(p){return document.activeElement!==p&&n.elementContainsNode(p,document.activeElement)},elementContainsNode:function(p,C){if(p&&C)for(;C;){if(C===p)return!0;C=C.parentNode}},findNodeFromContainerAndOffset:function(p,C){var f;if(p)return p.nodeType===Node.TEXT_NODE?p:C===0?(f=p.firstChild)!=null?f:p:p.childNodes.item(C-1)},findElementFromContainerAndOffset:function(p,C){var f;return f=n.findNodeFromContainerAndOffset(p,C),n.findClosestElementFromNode(f)},findChildIndexOfNode:function(p){var C;if(p!=null&&p.parentNode){for(C=0;p=p.previousSibling;)C++;return C}},removeNode:function(p){var C;return p!=null&&(C=p.parentNode)!=null?C.removeChild(p):void 0},walkTree:function(p,C){var f,m,_,u,w;return _=C??{},m=_.onlyNodesOfType,u=_.usingFilter,f=_.expandEntityReferences,w=function(){switch(m){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(p,w,u??null,f===!0)},tagName:function(p){var C;return p!=null&&(C=p.tagName)!=null?C.toLowerCase():void 0},makeElement:function(p,C){var f,m,_,u,w,v,R,o,d,S,k,T,D,M;if(C==null&&(C={}),typeof p=="object"?(C=p,p=C.tagName):C={attributes:C},_=document.createElement(p),C.editable!=null&&(C.attributes==null&&(C.attributes={}),C.attributes.contenteditable=C.editable),C.attributes){d=C.attributes;for(v in d)M=d[v],_.setAttribute(v,M)}if(C.style){S=C.style;for(v in S)M=S[v],_.style[v]=M}if(C.data){k=C.data;for(v in k)M=k[v],_.dataset[v]=M}if(C.className)for(T=C.className.split(" "),u=0,R=T.length;R>u;u++)m=T[u],_.classList.add(m);if(C.textContent&&(_.textContent=C.textContent),C.childNodes)for(D=[].concat(C.childNodes),w=0,o=D.length;o>w;w++)f=D[w],_.appendChild(f);return _},getBlockTagNames:function(){var p,C;return n.blockTagNames!=null?n.blockTagNames:n.blockTagNames=function(){var f,m;f=n.config.blockAttributes,m=[];for(p in f)C=f[p].tagName,C&&m.push(C);return m}()},nodeIsBlockContainer:function(p){return n.nodeIsBlockStartComment(p!=null?p.firstChild:void 0)},nodeProbablyIsBlockContainer:function(p){var C,f;return C=n.tagName(p),a.call(n.getBlockTagNames(),C)>=0&&(f=n.tagName(p.firstChild),a.call(n.getBlockTagNames(),f)<0)},nodeIsBlockStart:function(p,C){var f;return f=(C??{strict:!0}).strict,f?n.nodeIsBlockStartComment(p):n.nodeIsBlockStartComment(p)||!n.nodeIsBlockStartComment(p.firstChild)&&n.nodeProbablyIsBlockContainer(p)},nodeIsBlockStartComment:function(p){return n.nodeIsCommentNode(p)&&(p!=null?p.data:void 0)==="block"},nodeIsCommentNode:function(p){return(p!=null?p.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(p,C){var f;return f=(C??{}).name,p?n.nodeIsTextNode(p)?p.data===n.ZERO_WIDTH_SPACE?f?p.parentNode.dataset.trixCursorTarget===f:!0:void 0:n.nodeIsCursorTarget(p.firstChild):void 0},nodeIsAttachmentElement:function(p){return n.elementMatchesSelector(p,n.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(p){return n.nodeIsTextNode(p)&&(p!=null?p.data:void 0)===""},nodeIsTextNode:function(p){return(p!=null?p.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var y,c,b,s,h;y=n.copyObject,s=n.objectsAreEqual,n.extend({normalizeRange:b=function(a){var p;if(a!=null)return Array.isArray(a)||(a=[a,a]),[c(a[0]),c((p=a[1])!=null?p:a[0])]},rangeIsCollapsed:function(a){var p,C,f;if(a!=null)return C=b(a),f=C[0],p=C[1],h(f,p)},rangesAreEqual:function(a,p){var C,f,m,_,u,w;if(a!=null&&p!=null)return m=b(a),f=m[0],C=m[1],_=b(p),w=_[0],u=_[1],h(f,w)&&h(C,u)}}),c=function(a){return typeof a=="number"?a:y(a)},h=function(a,p){return typeof a=="number"?a===p:s(a,p)}}.call(this),function(){var y,c,b,s,h,a,p;n.registerElement=function(C,f){var m,_;return f==null&&(f={}),C=C.toLowerCase(),f=p(f),_=a(f),(m=_.defaultCSS)&&(delete _.defaultCSS,s(m,C)),h(C,_)},s=function(C,f){var m;return m=b(f),m.textContent=C.replace(/%t/g,f)},b=function(C){var f,m;return f=document.createElement("style"),f.setAttribute("type","text/css"),f.setAttribute("data-tag-name",C.toLowerCase()),(m=y())&&f.setAttribute("nonce",m),document.head.insertBefore(f,document.head.firstChild),f},y=function(){var C;return(C=c("trix-csp-nonce")||c("csp-nonce"))?C.getAttribute("content"):void 0},c=function(C){return document.head.querySelector("meta[name="+C+"]")},a=function(C){var f,m,_;m={};for(f in C)_=C[f],m[f]=typeof _=="function"?{value:_}:_;return m},p=function(){var C;return C=function(f){var m,_,u,w,v;for(m={},v=["initialize","connect","disconnect"],_=0,w=v.length;w>_;_++)u=v[_],m[u]=f[u],delete f[u];return m},window.customElements?function(f){var m,_,u,w,v;return v=C(f),u=v.initialize,m=v.connect,_=v.disconnect,u&&(w=m,m=function(){return this.initialized||(this.initialized=!0,u.call(this)),w!=null?w.call(this):void 0}),m&&(f.connectedCallback=m),_&&(f.disconnectedCallback=_),f}:function(f){var m,_,u,w;return w=C(f),u=w.initialize,m=w.connect,_=w.disconnect,u&&(f.createdCallback=u),m&&(f.attachedCallback=m),_&&(f.detachedCallback=_),f}}(),h=function(){return window.customElements?function(C,f){var m;return m=function(){return typeof Reflect=="object"?Reflect.construct(HTMLElement,[],m):HTMLElement.apply(this)},Object.setPrototypeOf(m.prototype,HTMLElement.prototype),Object.setPrototypeOf(m,HTMLElement),Object.defineProperties(m.prototype,f),window.customElements.define(C,m),m}:function(C,f){var m,_;return _=Object.create(HTMLElement.prototype,f),m=document.registerElement(C,{prototype:_}),Object.defineProperty(_,"constructor",{value:m}),m}}()}.call(this),function(){var y,c;n.extend({getDOMSelection:function(){var b;return b=window.getSelection(),b.rangeCount>0?b:void 0},getDOMRange:function(){var b,s;return(b=(s=n.getDOMSelection())!=null?s.getRangeAt(0):void 0)&&!y(b)?b:void 0},setDOMRange:function(b){var s;return s=window.getSelection(),s.removeAllRanges(),s.addRange(b),n.selectionChangeObserver.update()}}),y=function(b){return c(b.startContainer)||c(b.endContainer)},c=function(b){return!Object.getPrototypeOf(b)}}.call(this),function(){var y;y={"application/x-trix-feature-detection":"test"},n.extend({dataTransferIsPlainText:function(c){var b,s,h;return h=c.getData("text/plain"),s=c.getData("text/html"),h&&s?(b=new DOMParser().parseFromString(s,"text/html").body,b.textContent===h?!b.querySelector("*"):void 0):h!=null?h.length:void 0},dataTransferIsWritable:function(c){var b,s;if((c!=null?c.setData:void 0)!=null){for(b in y)if(s=y[b],!function(){try{return c.setData(b,s),c.getData(b)===s}catch{}}())return;return!0}},keyEventIsKeyboardCommand:function(){return/Mac|^iP/.test(navigator.platform)?function(c){return c.metaKey}:function(c){return c.ctrlKey}}()})}.call(this),function(){n.extend({RTL_PATTERN:/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,getDirection:function(){var y,c,b,s;return c=n.makeElement("input",{dir:"auto",name:"x",dirName:"x.dir"}),y=n.makeElement("form"),y.appendChild(c),b=function(){try{return new FormData(y).has(c.dirName)}catch{}}(),s=function(){try{return c.matches(":dir(ltr),:dir(rtl)")}catch{}}(),b?function(h){return c.value=h,new FormData(y).get(c.dirName)}:s?function(h){return c.value=h,c.matches(":dir(rtl)")?"rtl":"ltr"}:function(h){var a;return a=h.trim().charAt(0),n.RTL_PATTERN.test(a)?"rtl":"ltr"}}()})}.call(this),function(){}.call(this),function(){var y,c=function(s,h){function a(){this.constructor=s}for(var p in h)b.call(h,p)&&(s[p]=h[p]);return a.prototype=h.prototype,s.prototype=new a,s.__super__=h.prototype,s},b={}.hasOwnProperty;y=n.arraysAreEqual,n.Hash=function(s){function h(_){_==null&&(_={}),this.values=p(_),h.__super__.constructor.apply(this,arguments)}var a,p,C,f,m;return c(h,s),h.fromCommonAttributesOfObjects=function(_){var u,w,v,R,o,d;if(_==null&&(_=[]),!_.length)return new this;for(u=a(_[0]),v=u.getKeys(),d=_.slice(1),w=0,R=d.length;R>w;w++)o=d[w],v=u.getKeysCommonToHash(a(o)),u=u.slice(v);return u},h.box=function(_){return a(_)},h.prototype.add=function(_,u){return this.merge(f(_,u))},h.prototype.remove=function(_){return new n.Hash(p(this.values,_))},h.prototype.get=function(_){return this.values[_]},h.prototype.has=function(_){return _ in this.values},h.prototype.merge=function(_){return new n.Hash(C(this.values,m(_)))},h.prototype.slice=function(_){var u,w,v,R;for(R={},u=0,v=_.length;v>u;u++)w=_[u],this.has(w)&&(R[w]=this.values[w]);return new n.Hash(R)},h.prototype.getKeys=function(){return Object.keys(this.values)},h.prototype.getKeysCommonToHash=function(_){var u,w,v,R,o;for(_=a(_),R=this.getKeys(),o=[],u=0,v=R.length;v>u;u++)w=R[u],this.values[w]===_.values[w]&&o.push(w);return o},h.prototype.isEqualTo=function(_){return y(this.toArray(),a(_).toArray())},h.prototype.isEmpty=function(){return this.getKeys().length===0},h.prototype.toArray=function(){var _,u,w;return(this.array!=null?this.array:this.array=function(){var v;u=[],v=this.values;for(_ in v)w=v[_],u.push(_,w);return u}.call(this)).slice(0)},h.prototype.toObject=function(){return p(this.values)},h.prototype.toJSON=function(){return this.toObject()},h.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},f=function(_,u){var w;return w={},w[_]=u,w},C=function(_,u){var w,v,R;v=p(_);for(w in u)R=u[w],v[w]=R;return v},p=function(_,u){var w,v,R,o,d;for(o={},d=Object.keys(_).sort(),w=0,R=d.length;R>w;w++)v=d[w],v!==u&&(o[v]=_[v]);return o},a=function(_){return _ instanceof n.Hash?_:new n.Hash(_)},m=function(_){return _ instanceof n.Hash?_.values:_},h}(n.Object)}.call(this),function(){n.ObjectGroup=function(){function y(c,b){var s,h;this.objects=c??[],h=b.depth,s=b.asTree,s&&(this.depth=h,this.objects=this.constructor.groupObjects(this.objects,{asTree:s,depth:this.depth+1}))}return y.groupObjects=function(c,b){var s,h,a,p,C,f,m,_,u;for(c==null&&(c=[]),u=b??{},a=u.depth,s=u.asTree,s&&a==null&&(a=0),_=[],C=0,f=c.length;f>C;C++){if(m=c[C],p){if(typeof m.canBeGrouped=="function"&&m.canBeGrouped(a)&&(typeof(h=p[p.length-1]).canBeGroupedWith=="function"&&h.canBeGroupedWith(m,a))){p.push(m);continue}_.push(new this(p,{depth:a,asTree:s})),p=null}typeof m.canBeGrouped=="function"&&m.canBeGrouped(a)?p=[m]:_.push(m)}return p&&_.push(new this(p,{depth:a,asTree:s})),_},y.prototype.getObjects=function(){return this.objects},y.prototype.getDepth=function(){return this.depth},y.prototype.getCacheKey=function(){var c,b,s,h,a;for(b=["objectGroup"],a=this.getObjects(),c=0,s=a.length;s>c;c++)h=a[c],b.push(h.getCacheKey());return b.join("/")},y}()}.call(this),function(){var y=function(b,s){function h(){this.constructor=b}for(var a in s)c.call(s,a)&&(b[a]=s[a]);return h.prototype=s.prototype,b.prototype=new h,b.__super__=s.prototype,b},c={}.hasOwnProperty;n.ObjectMap=function(b){function s(h){var a,p,C,f,m;for(h==null&&(h=[]),this.objects={},C=0,f=h.length;f>C;C++)m=h[C],p=JSON.stringify(m),(a=this.objects)[p]==null&&(a[p]=m)}return y(s,b),s.prototype.find=function(h){var a;return a=JSON.stringify(h),this.objects[a]},s}(n.BasicObject)}.call(this),function(){n.ElementStore=function(){function y(b){this.reset(b)}var c;return y.prototype.add=function(b){var s;return s=c(b),this.elements[s]=b},y.prototype.remove=function(b){var s,h;return s=c(b),(h=this.elements[s])?(delete this.elements[s],h):void 0},y.prototype.reset=function(b){var s,h,a;for(b==null&&(b=[]),this.elements={},h=0,a=b.length;a>h;h++)s=b[h],this.add(s);return b},c=function(b){return b.dataset.trixStoreKey},y}()}.call(this),function(){}.call(this),function(){var y=function(b,s){function h(){this.constructor=b}for(var a in s)c.call(s,a)&&(b[a]=s[a]);return h.prototype=s.prototype,b.prototype=new h,b.__super__=s.prototype,b},c={}.hasOwnProperty;n.Operation=function(b){function s(){return s.__super__.constructor.apply(this,arguments)}return y(s,b),s.prototype.isPerforming=function(){return this.performing===!0},s.prototype.hasPerformed=function(){return this.performed===!0},s.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},s.prototype.hasFailed=function(){return this.performed&&!this.succeeded},s.prototype.getPromise=function(){return this.promise!=null?this.promise:this.promise=new Promise(function(h){return function(a,p){return h.performing=!0,h.perform(function(C,f){return h.succeeded=C,h.performing=!1,h.performed=!0,h.succeeded?a(f):p(f)})}}(this))},s.prototype.perform=function(h){return h(!1)},s.prototype.release=function(){var h;return(h=this.promise)!=null&&typeof h.cancel=="function"&&h.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},s.proxyMethod("getPromise().then"),s.proxyMethod("getPromise().catch"),s}(n.BasicObject)}.call(this),function(){var y,c,b,s,h,a=function(C,f){function m(){this.constructor=C}for(var _ in f)p.call(f,_)&&(C[_]=f[_]);return m.prototype=f.prototype,C.prototype=new m,C.__super__=f.prototype,C},p={}.hasOwnProperty;n.UTF16String=function(C){function f(m,_){this.ucs2String=m,this.codepoints=_,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return a(f,C),f.box=function(m){return m==null&&(m=""),m instanceof this?m:this.fromUCS2String(m!=null?m.toString():void 0)},f.fromUCS2String=function(m){return new this(m,s(m))},f.fromCodepoints=function(m){return new this(h(m),m)},f.prototype.offsetToUCS2Offset=function(m){return h(this.codepoints.slice(0,Math.max(0,m))).length},f.prototype.offsetFromUCS2Offset=function(m){return s(this.ucs2String.slice(0,Math.max(0,m))).length},f.prototype.slice=function(){var m;return this.constructor.fromCodepoints((m=this.codepoints).slice.apply(m,arguments))},f.prototype.charAt=function(m){return this.slice(m,m+1)},f.prototype.isEqualTo=function(m){return this.constructor.box(m).ucs2String===this.ucs2String},f.prototype.toJSON=function(){return this.ucs2String},f.prototype.getCacheKey=function(){return this.ucs2String},f.prototype.toString=function(){return this.ucs2String},f}(n.BasicObject),y=(typeof Array.from=="function"?Array.from("👼").length:void 0)===1,c=(typeof" ".codePointAt=="function"?" ".codePointAt(0):void 0)!=null,b=(typeof String.fromCodePoint=="function"?String.fromCodePoint(32,128124):void 0)===" 👼",s=y&&c?function(C){return Array.from(C).map(function(f){return f.codePointAt(0)})}:function(C){var f,m,_,u,w;for(u=[],f=0,_=C.length;_>f;)w=C.charCodeAt(f++),w>=55296&&56319>=w&&_>f&&(m=C.charCodeAt(f++),(64512&m)===56320?w=((1023&w)<<10)+(1023&m)+65536:f--),u.push(w);return u},h=b?function(C){return String.fromCodePoint.apply(String,C)}:function(C){var f,m,_;return f=function(){var u,w,v;for(v=[],u=0,w=C.length;w>u;u++)_=C[u],m="",_>65535&&(_-=65536,m+=String.fromCharCode(_>>>10&1023|55296),_=56320|1023&_),v.push(m+String.fromCharCode(_));return v}(),f.join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){n.config.lang={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption…",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL…",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){n.config.css={attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"}}.call(this),function(){var y;n.config.blockAttributes=y={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(c){return n.tagName(c.parentNode)===y[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(c){return n.tagName(c.parentNode)===y[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}}}.call(this),function(){var y,c;y=n.config.lang,c=[y.bytes,y.KB,y.MB,y.GB,y.TB,y.PB],n.config.fileSize={prefix:"IEC",precision:2,formatter:function(b){var s,h,a,p,C;switch(b){case 0:return"0 "+y.bytes;case 1:return"1 "+y.byte;default:return s=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),h=Math.floor(Math.log(b)/Math.log(s)),a=b/Math.pow(s,h),p=a.toFixed(this.precision),C=p.replace(/0*$/,"").replace(/\.$/,""),C+" "+c[h]}}}}.call(this),function(){n.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(y){var c;return c=window.getComputedStyle(y),c.fontWeight==="bold"||c.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:function(y){var c;return c=window.getComputedStyle(y),c.fontStyle==="italic"}},href:{groupTagName:"a",parser:function(y){var c,b,s;return c=n.AttachmentView.attachmentSelector,s="a:not("+c+")",(b=n.findClosestElementFromNode(y,{matchingSelector:s}))?b.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var y,c,b,s,h;h="[data-trix-serialize=false]",s=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],c="data-trix-serialized-attributes",b="["+c+"]",y=new RegExp("<!--block-->","g"),n.extend({serializers:{"application/json":function(a){var p;if(a instanceof n.Document)p=a;else{if(!(a instanceof HTMLElement))throw new Error("unserializable object");p=n.Document.fromHTML(a.innerHTML)}return p.toSerializableDocument().toJSONString()},"text/html":function(a){var p,C,f,m,_,u,w,v,R,o,d,S,k,T,D,M,W;if(a instanceof n.Document)m=n.DocumentView.render(a);else{if(!(a instanceof HTMLElement))throw new Error("unserializable object");m=a.cloneNode(!0)}for(T=m.querySelectorAll(h),_=0,R=T.length;R>_;_++)f=T[_],n.removeNode(f);for(u=0,o=s.length;o>u;u++)for(p=s[u],D=m.querySelectorAll("["+p+"]"),w=0,d=D.length;d>w;w++)f=D[w],f.removeAttribute(p);for(M=m.querySelectorAll(b),v=0,S=M.length;S>v;v++){f=M[v];try{C=JSON.parse(f.getAttribute(c)),f.removeAttribute(c);for(k in C)W=C[k],f.setAttribute(k,W)}catch{}}return m.innerHTML.replace(y,"")}},deserializers:{"application/json":function(a){return n.Document.fromJSONString(a)},"text/html":function(a){return n.Document.fromHTML(a)}},serializeToContentType:function(a,p){var C;if(C=n.serializers[p])return C(a);throw new Error("unknown content type: "+p)},deserializeFromContentType:function(a,p){var C;if(C=n.deserializers[p])return C(a);throw new Error("unknown content type: "+p)}})}.call(this),function(){var y;y=n.config.lang,n.config.toolbar={getDefaultHTML:function(){return`<div class="trix-button-row">
  <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`+y.bold+'" tabindex="-1">'+y.bold+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`+y.italic+'" tabindex="-1">'+y.italic+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`+y.strike+'" tabindex="-1">'+y.strike+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`+y.link+'" tabindex="-1">'+y.link+`</button>
  </span>

  <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`+y.heading1+'" tabindex="-1">'+y.heading1+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`+y.quote+'" tabindex="-1">'+y.quote+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`+y.code+'" tabindex="-1">'+y.code+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`+y.bullets+'" tabindex="-1">'+y.bullets+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`+y.numbers+'" tabindex="-1">'+y.numbers+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`+y.outdent+'" tabindex="-1">'+y.outdent+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`+y.indent+'" tabindex="-1">'+y.indent+`</button>
  </span>

  <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`+y.attachFiles+'" tabindex="-1">'+y.attachFiles+`</button>
  </span>

  <span class="trix-button-group-spacer"></span>

  <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`+y.undo+'" tabindex="-1">'+y.undo+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`+y.redo+'" tabindex="-1">'+y.redo+`</button>
  </span>
</div>

<div class="trix-dialogs" data-trix-dialogs>
  <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
    <div class="trix-dialog__link-fields">
      <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`+y.urlPlaceholder+'" aria-label="'+y.url+`" required data-trix-input>
      <div class="trix-button-group">
        <input type="button" class="trix-button trix-button--dialog" value="`+y.link+`" data-trix-method="setAttribute">
        <input type="button" class="trix-button trix-button--dialog" value="`+y.unlink+`" data-trix-method="removeAttribute">
      </div>
    </div>
  </div>
</div>`}}}.call(this),function(){n.config.undoInterval=5e3}.call(this),function(){n.config.attachments={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}}}.call(this),function(){n.config.keyNames={8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"}}.call(this),function(){n.config.input={level2Enabled:!0,getLevel:function(){return this.level2Enabled&&n.browser.supportsInputEvents?2:0},pickFiles:function(y){var c;return c=n.makeElement("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId}),c.addEventListener("change",function(){return y(c.files),n.removeNode(c)}),n.removeNode(document.getElementById(this.fileInputId)),document.body.appendChild(c),c.click()},fileInputId:"trix-file-input-"+Date.now().toString(16)}}.call(this),function(){}.call(this),function(){n.registerElement("trix-toolbar",{defaultCSS:`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`,initialize:function(){return this.innerHTML===""?this.innerHTML=n.config.toolbar.getDefaultHTML():void 0}})}.call(this),function(){var y=function(s,h){function a(){this.constructor=s}for(var p in h)c.call(h,p)&&(s[p]=h[p]);return a.prototype=h.prototype,s.prototype=new a,s.__super__=h.prototype,s},c={}.hasOwnProperty,b=[].indexOf||function(s){for(var h=0,a=this.length;a>h;h++)if(h in this&&this[h]===s)return h;return-1};n.ObjectView=function(s){function h(a,p){this.object=a,this.options=p??{},this.childViews=[],this.rootView=this}return y(h,s),h.prototype.getNodes=function(){var a,p,C,f,m;for(this.nodes==null&&(this.nodes=this.createNodes()),f=this.nodes,m=[],a=0,p=f.length;p>a;a++)C=f[a],m.push(C.cloneNode(!0));return m},h.prototype.invalidate=function(){var a;return this.nodes=null,this.childViews=[],(a=this.parentView)!=null?a.invalidate():void 0},h.prototype.invalidateViewForObject=function(a){var p;return(p=this.findViewForObject(a))!=null?p.invalidate():void 0},h.prototype.findOrCreateCachedChildView=function(a,p){var C;return(C=this.getCachedViewForObject(p))?this.recordChildView(C):(C=this.createChildView.apply(this,arguments),this.cacheViewForObject(C,p)),C},h.prototype.createChildView=function(a,p,C){var f;return C==null&&(C={}),p instanceof n.ObjectGroup&&(C.viewClass=a,a=n.ObjectGroupView),f=new a(p,C),this.recordChildView(f)},h.prototype.recordChildView=function(a){return a.parentView=this,a.rootView=this.rootView,this.childViews.push(a),a},h.prototype.getAllChildViews=function(){var a,p,C,f,m;for(m=[],f=this.childViews,p=0,C=f.length;C>p;p++)a=f[p],m.push(a),m=m.concat(a.getAllChildViews());return m},h.prototype.findElement=function(){return this.findElementForObject(this.object)},h.prototype.findElementForObject=function(a){var p;return(p=a!=null?a.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+p+"']"):void 0},h.prototype.findViewForObject=function(a){var p,C,f,m;for(f=this.getAllChildViews(),p=0,C=f.length;C>p;p++)if(m=f[p],m.object===a)return m},h.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?this.viewCache!=null?this.viewCache:this.viewCache={}:void 0},h.prototype.isViewCachingEnabled=function(){return this.shouldCacheViews!==!1},h.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},h.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},h.prototype.getCachedViewForObject=function(a){var p;return(p=this.getViewCache())!=null?p[a.getCacheKey()]:void 0},h.prototype.cacheViewForObject=function(a,p){var C;return(C=this.getViewCache())!=null?C[p.getCacheKey()]=a:void 0},h.prototype.garbageCollectCachedViews=function(){var a,p,C,f,m,_;if(a=this.getViewCache()){_=this.getAllChildViews().concat(this),C=function(){var u,w,v;for(v=[],u=0,w=_.length;w>u;u++)m=_[u],v.push(m.object.getCacheKey());return v}(),f=[];for(p in a)b.call(C,p)<0&&f.push(delete a[p]);return f}},h}(n.BasicObject)}.call(this),function(){var y=function(b,s){function h(){this.constructor=b}for(var a in s)c.call(s,a)&&(b[a]=s[a]);return h.prototype=s.prototype,b.prototype=new h,b.__super__=s.prototype,b},c={}.hasOwnProperty;n.ObjectGroupView=function(b){function s(){s.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return y(s,b),s.prototype.getChildViews=function(){var h,a,p,C;if(!this.childViews.length)for(C=this.objectGroup.getObjects(),h=0,a=C.length;a>h;h++)p=C[h],this.findOrCreateCachedChildView(this.viewClass,p,this.options);return this.childViews},s.prototype.createNodes=function(){var h,a,p,C,f,m,_,u,w;for(h=this.createContainerElement(),_=this.getChildViews(),a=0,C=_.length;C>a;a++)for(w=_[a],u=w.getNodes(),p=0,f=u.length;f>p;p++)m=u[p],h.appendChild(m);return[h]},s.prototype.createContainerElement=function(h){return h==null&&(h=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(h)},s}(n.ObjectView)}.call(this),function(){var y=function(b,s){function h(){this.constructor=b}for(var a in s)c.call(s,a)&&(b[a]=s[a]);return h.prototype=s.prototype,b.prototype=new h,b.__super__=s.prototype,b},c={}.hasOwnProperty;n.Controller=function(b){function s(){return s.__super__.constructor.apply(this,arguments)}return y(s,b),s}(n.BasicObject)}.call(this),function(){var y,c,b,s,h,a,p=function(_,u){return function(){return _.apply(u,arguments)}},C=function(_,u){function w(){this.constructor=_}for(var v in u)f.call(u,v)&&(_[v]=u[v]);return w.prototype=u.prototype,_.prototype=new w,_.__super__=u.prototype,_},f={}.hasOwnProperty,m=[].indexOf||function(_){for(var u=0,w=this.length;w>u;u++)if(u in this&&this[u]===_)return u;return-1};y=n.findClosestElementFromNode,b=n.nodeIsEmptyTextNode,c=n.nodeIsBlockStartComment,s=n.normalizeSpaces,h=n.summarizeStringChange,a=n.tagName,n.MutationObserver=function(_){function u(d){this.element=d,this.didMutate=p(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var w,v,R,o;return C(u,_),v="data-trix-mutable",R="["+v+"]",o={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},u.prototype.start=function(){return this.reset(),this.observer.observe(this.element,o)},u.prototype.stop=function(){return this.observer.disconnect()},u.prototype.didMutate=function(d){var S,k;return(S=this.mutations).push.apply(S,this.findSignificantMutations(d)),this.mutations.length?((k=this.delegate)!=null&&typeof k.elementDidMutate=="function"&&k.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},u.prototype.reset=function(){return this.mutations=[]},u.prototype.findSignificantMutations=function(d){var S,k,T,D;for(D=[],S=0,k=d.length;k>S;S++)T=d[S],this.mutationIsSignificant(T)&&D.push(T);return D},u.prototype.mutationIsSignificant=function(d){var S,k,T,D;if(this.nodeIsMutable(d.target))return!1;for(D=this.nodesModifiedByMutation(d),S=0,k=D.length;k>S;S++)if(T=D[S],this.nodeIsSignificant(T))return!0;return!1},u.prototype.nodeIsSignificant=function(d){return d!==this.element&&!this.nodeIsMutable(d)&&!b(d)},u.prototype.nodeIsMutable=function(d){return y(d,{matchingSelector:R})},u.prototype.nodesModifiedByMutation=function(d){var S;switch(S=[],d.type){case"attributes":d.attributeName!==v&&S.push(d.target);break;case"characterData":S.push(d.target.parentNode),S.push(d.target);break;case"childList":S.push.apply(S,d.addedNodes),S.push.apply(S,d.removedNodes)}return S},u.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},u.prototype.getTextMutationSummary=function(){var d,S,k,T,D,M,W,K,Z,z,G;for(K=this.getTextChangesFromCharacterData(),k=K.additions,D=K.deletions,G=this.getTextChangesFromChildList(),Z=G.additions,M=0,W=Z.length;W>M;M++)S=Z[M],m.call(k,S)<0&&k.push(S);return D.push.apply(D,G.deletions),z={},(d=k.join(""))&&(z.textAdded=d),(T=D.join(""))&&(z.textDeleted=T),z},u.prototype.getMutationsByType=function(d){var S,k,T,D,M;for(D=this.mutations,M=[],S=0,k=D.length;k>S;S++)T=D[S],T.type===d&&M.push(T);return M},u.prototype.getTextChangesFromChildList=function(){var d,S,k,T,D,M,W,K,Z,z,G;for(d=[],W=[],M=this.getMutationsByType("childList"),S=0,T=M.length;T>S;S++)D=M[S],d.push.apply(d,D.addedNodes),W.push.apply(W,D.removedNodes);return K=d.length===0&&W.length===1&&c(W[0]),K?(z=[],G=[`
`]):(z=w(d),G=w(W)),{additions:function(){var j,F,q;for(q=[],k=j=0,F=z.length;F>j;k=++j)Z=z[k],Z!==G[k]&&q.push(s(Z));return q}(),deletions:function(){var j,F,q;for(q=[],k=j=0,F=G.length;F>j;k=++j)Z=G[k],Z!==z[k]&&q.push(s(Z));return q}()}},u.prototype.getTextChangesFromCharacterData=function(){var d,S,k,T,D,M,W,K;return S=this.getMutationsByType("characterData"),S.length&&(K=S[0],k=S[S.length-1],D=s(K.oldValue),T=s(k.target.data),M=h(D,T),d=M.added,W=M.removed),{additions:d?[d]:[],deletions:W?[W]:[]}},w=function(d){var S,k,T,D;for(d==null&&(d=[]),D=[],S=0,k=d.length;k>S;S++)switch(T=d[S],T.nodeType){case Node.TEXT_NODE:D.push(T.data);break;case Node.ELEMENT_NODE:a(T)==="br"?D.push(`
`):D.push.apply(D,w(T.childNodes))}return D},u}(n.BasicObject)}.call(this),function(){var y=function(b,s){function h(){this.constructor=b}for(var a in s)c.call(s,a)&&(b[a]=s[a]);return h.prototype=s.prototype,b.prototype=new h,b.__super__=s.prototype,b},c={}.hasOwnProperty;n.FileVerificationOperation=function(b){function s(h){this.file=h}return y(s,b),s.prototype.perform=function(h){var a;return a=new FileReader,a.onerror=function(){return h(!1)},a.onload=function(p){return function(){a.onerror=null;try{a.abort()}catch{}return h(!0,p.file)}}(this),a.readAsArrayBuffer(this.file)},s}(n.Operation)}.call(this),function(){var y,c,b=function(h,a){function p(){this.constructor=h}for(var C in a)s.call(a,C)&&(h[C]=a[C]);return p.prototype=a.prototype,h.prototype=new p,h.__super__=a.prototype,h},s={}.hasOwnProperty;y=n.handleEvent,c=n.innerElementIsActive,n.InputController=function(h){function a(p){var C;this.element=p,this.mutationObserver=new n.MutationObserver(this.element),this.mutationObserver.delegate=this;for(C in this.events)y(C,{onElement:this.element,withCallback:this.handlerFor(C)})}return b(a,h),a.prototype.events={},a.prototype.elementDidMutate=function(){},a.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},a.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},a.prototype.requestRender=function(){var p;return(p=this.delegate)!=null&&typeof p.inputControllerDidRequestRender=="function"?p.inputControllerDidRequestRender():void 0},a.prototype.requestReparse=function(){var p;return(p=this.delegate)!=null&&typeof p.inputControllerDidRequestReparse=="function"&&p.inputControllerDidRequestReparse(),this.requestRender()},a.prototype.attachFiles=function(p){var C,f;return f=function(){var m,_,u;for(u=[],m=0,_=p.length;_>m;m++)C=p[m],u.push(new n.FileVerificationOperation(C));return u}(),Promise.all(f).then(function(m){return function(_){return m.handleInput(function(){var u,w;return(u=this.delegate)!=null&&u.inputControllerWillAttachFiles(),(w=this.responder)!=null&&w.insertFiles(_),this.requestRender()})}}(this))},a.prototype.handlerFor=function(p){return function(C){return function(f){return f.defaultPrevented?void 0:C.handleInput(function(){return c(this.element)?void 0:(this.eventName=p,this.events[p].call(this,f))})}}(this)},a.prototype.handleInput=function(p){var C,f;try{return(C=this.delegate)!=null&&C.inputControllerWillHandleInput(),p.call(this)}finally{(f=this.delegate)!=null&&f.inputControllerDidHandleInput()}},a.prototype.createLinkHTML=function(p,C){var f;return f=document.createElement("a"),f.href=p,f.textContent=C??p,f.outerHTML},a}(n.BasicObject)}.call(this),function(){var y,c,b,s,h,a,p,C,f,m,_,u,w=function(o,d){function S(){this.constructor=o}for(var k in d)v.call(d,k)&&(o[k]=d[k]);return S.prototype=d.prototype,o.prototype=new S,o.__super__=d.prototype,o},v={}.hasOwnProperty,R=[].indexOf||function(o){for(var d=0,S=this.length;S>d;d++)if(d in this&&this[d]===o)return d;return-1};f=n.makeElement,m=n.objectsAreEqual,n.tagName,c=n.browser,p=n.keyEventIsKeyboardCommand,s=n.dataTransferIsWritable,b=n.dataTransferIsPlainText,C=n.config.keyNames,n.Level0InputController=function(o){function d(){d.__super__.constructor.apply(this,arguments),this.resetInputSummary()}var S;return w(d,o),S=0,d.prototype.setInputSummary=function(k){var T,D;k==null&&(k={}),this.inputSummary.eventName=this.eventName;for(T in k)D=k[T],this.inputSummary[T]=D;return this.inputSummary},d.prototype.resetInputSummary=function(){return this.inputSummary={}},d.prototype.reset=function(){return this.resetInputSummary(),n.selectionChangeObserver.reset()},d.prototype.elementDidMutate=function(k){var T;return this.isComposing()?(T=this.delegate)!=null&&typeof T.inputControllerDidAllowUnhandledInput=="function"?T.inputControllerDidAllowUnhandledInput():void 0:this.handleInput(function(){return this.mutationIsSignificant(k)&&(this.mutationIsExpected(k)?this.requestRender():this.requestReparse()),this.reset()})},d.prototype.mutationIsExpected=function(k){var T,D,M,W,K,Z,z,G,j,F;return z=k.textAdded,G=k.textDeleted,this.inputSummary.preferDocument?!0:(T=z!=null?z===this.inputSummary.textAdded:!this.inputSummary.textAdded,D=G!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,j=(z===`
`||z===` 
`)&&!T,F=G===`
`&&!D,Z=j&&!F||F&&!j,Z&&(W=this.getSelectedRange())&&(M=j?z.replace(/\n$/,"").length||-1:(z!=null?z.length:void 0)||1,(K=this.responder)!=null?K.positionIsBlockBreak(W[1]+M):void 0)?!0:T&&D)},d.prototype.mutationIsSignificant=function(k){var T,D,M;return M=Object.keys(k).length>0,T=((D=this.compositionInput)!=null?D.getEndData():void 0)==="",M||!T},d.prototype.events={keydown:function(k){var T,D,M,W,K,Z,z,G,j;if(this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0,W=C[k.keyCode]){for(D=this.keys,G=["ctrl","alt","shift","meta"],M=0,Z=G.length;Z>M;M++)z=G[M],k[z+"Key"]&&(z==="ctrl"&&(z="control"),D=D!=null?D[z]:void 0);(D!=null?D[W]:void 0)!=null&&(this.setInputSummary({keyName:W}),n.selectionChangeObserver.reset(),D[W].call(this,k))}return p(k)&&(T=String.fromCharCode(k.keyCode).toLowerCase())&&(K=function(){var F,q,X,it;for(X=["alt","shift"],it=[],F=0,q=X.length;q>F;F++)z=X[F],k[z+"Key"]&&it.push(z);return it}(),K.push(T),(j=this.delegate)!=null?j.inputControllerDidReceiveKeyboardCommand(K):void 0)?k.preventDefault():void 0},keypress:function(k){var T,D,M;if(this.inputSummary.eventName==null&&!k.metaKey&&(!k.ctrlKey||k.altKey))return(M=u(k))?((T=this.delegate)!=null&&T.inputControllerWillPerformTyping(),(D=this.responder)!=null&&D.insertString(M),this.setInputSummary({textAdded:M,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(k){var T,D,M,W;return T=k.data,W=this.inputSummary.textAdded,W&&W!==T&&W.toUpperCase()===T?(D=this.getSelectedRange(),this.setSelectedRange([D[0],D[1]+W.length]),(M=this.responder)!=null&&M.insertString(T),this.setInputSummary({textAdded:T}),this.setSelectedRange(D)):void 0},dragenter:function(k){return k.preventDefault()},dragstart:function(k){var T;return k.target,this.serializeSelectionToDataTransfer(k.dataTransfer),this.draggedRange=this.getSelectedRange(),(T=this.delegate)!=null&&typeof T.inputControllerDidStartDrag=="function"?T.inputControllerDidStartDrag():void 0},dragover:function(k){var T,D;return!this.draggedRange&&!this.canAcceptDataTransfer(k.dataTransfer)||(k.preventDefault(),T={x:k.clientX,y:k.clientY},m(T,this.draggingPoint))?void 0:(this.draggingPoint=T,(D=this.delegate)!=null&&typeof D.inputControllerDidReceiveDragOverPoint=="function"?D.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var k;return(k=this.delegate)!=null&&typeof k.inputControllerDidCancelDrag=="function"&&k.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(k){var T,D,M,W,K,Z,z,G,j;return k.preventDefault(),M=(K=k.dataTransfer)!=null?K.files:void 0,W={x:k.clientX,y:k.clientY},(Z=this.responder)!=null&&Z.setLocationRangeFromPointRange(W),M!=null&&M.length?this.attachFiles(M):this.draggedRange?((z=this.delegate)!=null&&z.inputControllerWillMoveText(),(G=this.responder)!=null&&G.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(D=k.dataTransfer.getData("application/x-trix-document"))&&(T=n.Document.fromJSONString(D),(j=this.responder)!=null&&j.insertDocument(T),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(k){var T,D;return(T=this.responder)!=null&&T.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(k.clipboardData)&&k.preventDefault(),(D=this.delegate)!=null&&D.inputControllerWillCutText(),this.deleteInDirection("backward"),k.defaultPrevented)?this.requestRender():void 0},copy:function(k){var T;return(T=this.responder)!=null&&T.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(k.clipboardData)?k.preventDefault():void 0},paste:function(k){var T,D,M,W,K,Z,z,G,j,F,q,X,it,mt,wt,At,Pt,Ft,Ie,Mt,le,re,kt;return T=(G=k.clipboardData)!=null?G:k.testClipboardData,z={clipboard:T},T==null||_(k)?void this.getPastedHTMLUsingHiddenElement(function(Lt){return function(lr){var Ne,Vt,sn;return z.type="text/html",z.html=lr,(Ne=Lt.delegate)!=null&&Ne.inputControllerWillPaste(z),(Vt=Lt.responder)!=null&&Vt.insertHTML(z.html),Lt.requestRender(),(sn=Lt.delegate)!=null?sn.inputControllerDidPaste(z):void 0}}(this)):((W=T.getData("URL"))?(z.type="text/html",kt=(Z=T.getData("public.url-name"))?n.squishBreakableWhitespace(Z).trim():W,z.html=this.createLinkHTML(W,kt),(j=this.delegate)!=null&&j.inputControllerWillPaste(z),this.setInputSummary({textAdded:kt,didDelete:this.selectionIsExpanded()}),(wt=this.responder)!=null&&wt.insertHTML(z.html),this.requestRender(),(At=this.delegate)!=null&&At.inputControllerDidPaste(z)):b(T)?(z.type="text/plain",z.string=T.getData("text/plain"),(Pt=this.delegate)!=null&&Pt.inputControllerWillPaste(z),this.setInputSummary({textAdded:z.string,didDelete:this.selectionIsExpanded()}),(Ft=this.responder)!=null&&Ft.insertString(z.string),this.requestRender(),(Ie=this.delegate)!=null&&Ie.inputControllerDidPaste(z)):(K=T.getData("text/html"))?(z.type="text/html",z.html=K,(Mt=this.delegate)!=null&&Mt.inputControllerWillPaste(z),(le=this.responder)!=null&&le.insertHTML(z.html),this.requestRender(),(re=this.delegate)!=null&&re.inputControllerDidPaste(z)):R.call(T.types,"Files")>=0&&(M=(F=T.items)!=null&&(q=F[0])!=null&&typeof q.getAsFile=="function"?q.getAsFile():void 0)&&(!M.name&&(D=h(M))&&(M.name="pasted-file-"+ ++S+"."+D),z.type="File",z.file=M,(X=this.delegate)!=null&&X.inputControllerWillAttachFiles(),(it=this.responder)!=null&&it.insertFile(z.file),this.requestRender(),(mt=this.delegate)!=null&&mt.inputControllerDidPaste(z)),k.preventDefault())},compositionstart:function(k){return this.getCompositionInput().start(k.data)},compositionupdate:function(k){return this.getCompositionInput().update(k.data)},compositionend:function(k){return this.getCompositionInput().end(k.data)},beforeinput:function(){return this.inputSummary.didInput=!0},input:function(k){return this.inputSummary.didInput=!0,k.stopPropagation()}},d.prototype.keys={backspace:function(k){var T;return(T=this.delegate)!=null&&T.inputControllerWillPerformTyping(),this.deleteInDirection("backward",k)},delete:function(k){var T;return(T=this.delegate)!=null&&T.inputControllerWillPerformTyping(),this.deleteInDirection("forward",k)},return:function(){var k,T;return this.setInputSummary({preferDocument:!0}),(k=this.delegate)!=null&&k.inputControllerWillPerformTyping(),(T=this.responder)!=null?T.insertLineBreak():void 0},tab:function(k){var T,D;return(T=this.responder)!=null&&T.canIncreaseNestingLevel()?((D=this.responder)!=null&&D.increaseNestingLevel(),this.requestRender(),k.preventDefault()):void 0},left:function(k){var T;return this.selectionIsInCursorTarget()?(k.preventDefault(),(T=this.responder)!=null?T.moveCursorInDirection("backward"):void 0):void 0},right:function(k){var T;return this.selectionIsInCursorTarget()?(k.preventDefault(),(T=this.responder)!=null?T.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(k){var T;return(T=this.delegate)!=null&&T.inputControllerWillPerformTyping(),this.deleteInDirection("forward",k)},h:function(k){var T;return(T=this.delegate)!=null&&T.inputControllerWillPerformTyping(),this.deleteInDirection("backward",k)},o:function(k){var T,D;return k.preventDefault(),(T=this.delegate)!=null&&T.inputControllerWillPerformTyping(),(D=this.responder)!=null&&D.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return:function(k){var T,D;return(T=this.delegate)!=null&&T.inputControllerWillPerformTyping(),(D=this.responder)!=null&&D.insertString(`
`),this.requestRender(),k.preventDefault()},tab:function(k){var T,D;return(T=this.responder)!=null&&T.canDecreaseNestingLevel()?((D=this.responder)!=null&&D.decreaseNestingLevel(),this.requestRender(),k.preventDefault()):void 0},left:function(k){return this.selectionIsInCursorTarget()?(k.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(k){return this.selectionIsInCursorTarget()?(k.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var k;return this.setInputSummary({preferDocument:!1}),(k=this.delegate)!=null?k.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var k;return this.setInputSummary({preferDocument:!1}),(k=this.delegate)!=null?k.inputControllerWillPerformTyping():void 0}}},d.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new y(this)},d.prototype.isComposing=function(){return this.compositionInput!=null&&!this.compositionInput.isEnded()},d.prototype.deleteInDirection=function(k,T){var D;return((D=this.responder)!=null?D.deleteInDirection(k):void 0)!==!1?this.setInputSummary({didDelete:!0}):T?(T.preventDefault(),this.requestRender()):void 0},d.prototype.serializeSelectionToDataTransfer=function(k){var T,D;if(s(k))return T=(D=this.responder)!=null?D.getSelectedDocument().toSerializableDocument():void 0,k.setData("application/x-trix-document",JSON.stringify(T)),k.setData("text/html",n.DocumentView.render(T).innerHTML),k.setData("text/plain",T.toString().replace(/\n$/,"")),!0},d.prototype.canAcceptDataTransfer=function(k){var T,D,M,W,K,Z;for(Z={},W=(M=k!=null?k.types:void 0)!=null?M:[],T=0,D=W.length;D>T;T++)K=W[T],Z[K]=!0;return Z.Files||Z["application/x-trix-document"]||Z["text/html"]||Z["text/plain"]},d.prototype.getPastedHTMLUsingHiddenElement=function(k){var T,D,M;return D=this.getSelectedRange(),M={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},T=f({style:M,tagName:"div",editable:!0}),document.body.appendChild(T),T.focus(),requestAnimationFrame(function(W){return function(){var K;return K=T.innerHTML,n.removeNode(T),W.setSelectedRange(D),k(K)}}(this))},d.proxyMethod("responder?.getSelectedRange"),d.proxyMethod("responder?.setSelectedRange"),d.proxyMethod("responder?.expandSelectionInDirection"),d.proxyMethod("responder?.selectionIsInCursorTarget"),d.proxyMethod("responder?.selectionIsExpanded"),d}(n.InputController),h=function(o){var d,S;return(d=o.type)!=null&&(S=d.match(/\/(\w+)$/))!=null?S[1]:void 0},a=(typeof" ".codePointAt=="function"?" ".codePointAt(0):void 0)!=null,u=function(o){var d;return o.key&&a&&o.key.codePointAt(0)===o.keyCode?o.key:(o.which===null?d=o.keyCode:o.which!==0&&o.charCode!==0&&(d=o.charCode),d!=null&&C[d]!=="escape"?n.UTF16String.fromCodepoints([d]).toString():void 0)},_=function(o){var d,S,k,T,D,M,W,K,Z;if(W=o.clipboardData){if(R.call(W.types,"text/html")>=0){for(K=W.types,k=0,M=K.length;M>k;k++)if(Z=K[k],d=/^CorePasteboardFlavorType/.test(Z),S=/^dyn\./.test(Z)&&W.getData(Z),d||S)return!0;return!1}return T=R.call(W.types,"com.apple.webarchive")>=0,D=R.call(W.types,"com.apple.flat-rtfd")>=0,T||D}},y=function(o){function d(S){var k;this.inputController=S,k=this.inputController,this.responder=k.responder,this.delegate=k.delegate,this.inputSummary=k.inputSummary,this.data={}}return w(d,o),d.prototype.start=function(S){var k,T;return this.data.start=S,this.isSignificant()?(this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&(k=this.responder)!=null&&k.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(T=this.responder)!=null?T.getSelectedRange():void 0):void 0},d.prototype.update=function(S){var k;return this.data.update=S,this.isSignificant()&&(k=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=k):void 0},d.prototype.end=function(S){var k,T,D,M;return this.data.end=S,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(k=this.delegate)!=null&&k.inputControllerWillPerformTyping(),(T=this.responder)!=null&&T.setSelectedRange(this.range),(D=this.responder)!=null&&D.insertString(this.data.end),(M=this.responder)!=null?M.setSelectedRange(this.range[0]+this.data.end.length):void 0):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset()},d.prototype.getEndData=function(){return this.data.end},d.prototype.isEnded=function(){return this.getEndData()!=null},d.prototype.isSignificant=function(){return c.composesExistingText?this.inputSummary.didInput:!0},d.prototype.canApplyToDocument=function(){var S,k;return((S=this.data.start)!=null?S.length:void 0)===0&&((k=this.data.end)!=null?k.length:void 0)>0&&this.range!=null},d.proxyMethod("inputController.setInputSummary"),d.proxyMethod("inputController.requestRender"),d.proxyMethod("inputController.requestReparse"),d.proxyMethod("responder?.selectionIsExpanded"),d.proxyMethod("responder?.insertPlaceholder"),d.proxyMethod("responder?.selectPlaceholder"),d.proxyMethod("responder?.forgetPlaceholder"),d}(n.BasicObject)}.call(this),function(){var y,c,b,s=function(C,f){return function(){return C.apply(f,arguments)}},h=function(C,f){function m(){this.constructor=C}for(var _ in f)a.call(f,_)&&(C[_]=f[_]);return m.prototype=f.prototype,C.prototype=new m,C.__super__=f.prototype,C},a={}.hasOwnProperty,p=[].indexOf||function(C){for(var f=0,m=this.length;m>f;f++)if(f in this&&this[f]===C)return f;return-1};y=n.dataTransferIsPlainText,c=n.keyEventIsKeyboardCommand,b=n.objectsAreEqual,n.Level2InputController=function(C){function f(){return this.render=s(this.render,this),f.__super__.constructor.apply(this,arguments)}var m,_,u,w,v,R;return h(f,C),f.prototype.elementDidMutate=function(){var o;return this.scheduledRender?this.composing&&(o=this.delegate)!=null&&typeof o.inputControllerDidAllowUnhandledInput=="function"?o.inputControllerDidAllowUnhandledInput():void 0:this.reparse()},f.prototype.scheduleRender=function(){return this.scheduledRender!=null?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)},f.prototype.render=function(){var o;return cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(o=this.delegate)!=null&&o.render(),typeof this.afterRender=="function"&&this.afterRender(),this.afterRender=null},f.prototype.reparse=function(){var o;return(o=this.delegate)!=null?o.reparse():void 0},f.prototype.events={keydown:function(o){var d,S,k,T;if(c(o)){if(d=_(o),(T=this.delegate)!=null?T.inputControllerDidReceiveKeyboardCommand(d):void 0)return o.preventDefault()}else if(k=o.key,o.altKey&&(k+="+Alt"),o.shiftKey&&(k+="+Shift"),S=this.keys[k])return this.withEvent(o,S)},paste:function(o){var d,S,k,T,D,M,W,K,Z;return u(o)?(o.preventDefault(),this.attachFiles(o.clipboardData.files)):w(o)?(o.preventDefault(),S={type:"text/plain",string:o.clipboardData.getData("text/plain")},(k=this.delegate)!=null&&k.inputControllerWillPaste(S),(T=this.responder)!=null&&T.insertString(S.string),this.render(),(D=this.delegate)!=null?D.inputControllerDidPaste(S):void 0):(d=(M=o.clipboardData)!=null?M.getData("URL"):void 0)?(o.preventDefault(),S={type:"text/html",html:this.createLinkHTML(d)},(W=this.delegate)!=null&&W.inputControllerWillPaste(S),(K=this.responder)!=null&&K.insertHTML(S.html),this.render(),(Z=this.delegate)!=null?Z.inputControllerDidPaste(S):void 0):void 0},beforeinput:function(o){var d;return(d=this.inputTypes[o.inputType])?(this.withEvent(o,d),this.scheduleRender()):void 0},input:function(){return n.selectionChangeObserver.reset()},dragstart:function(o){var d,S;return(d=this.responder)!=null&&d.selectionContainsAttachments()?(o.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(S=this.responder)!=null?S.getSelectedRange():void 0,point:v(o)}):void 0},dragenter:function(o){return m(o)?o.preventDefault():void 0},dragover:function(o){var d,S;if(this.dragging){if(o.preventDefault(),d=v(o),!b(d,this.dragging.point))return this.dragging.point=d,(S=this.responder)!=null?S.setLocationRangeFromPointRange(d):void 0}else if(m(o))return o.preventDefault()},drop:function(o){var d,S,k,T;return this.dragging?(o.preventDefault(),(S=this.delegate)!=null&&S.inputControllerWillMoveText(),(k=this.responder)!=null&&k.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender()):m(o)?(o.preventDefault(),d=v(o),(T=this.responder)!=null&&T.setLocationRangeFromPointRange(d),this.attachFiles(o.dataTransfer.files)):void 0},dragend:function(){var o;return this.dragging?((o=this.responder)!=null&&o.setSelectedRange(this.dragging.range),this.dragging=null):void 0},compositionend:function(){return this.composing?(this.composing=!1,this.scheduleRender()):void 0}},f.prototype.keys={ArrowLeft:function(){var o,d;return(o=this.responder)!=null&&o.shouldManageMovingCursorInDirection("backward")?(this.event.preventDefault(),(d=this.responder)!=null?d.moveCursorInDirection("backward"):void 0):void 0},ArrowRight:function(){var o,d;return(o=this.responder)!=null&&o.shouldManageMovingCursorInDirection("forward")?(this.event.preventDefault(),(d=this.responder)!=null?d.moveCursorInDirection("forward"):void 0):void 0},Backspace:function(){var o,d,S;return(o=this.responder)!=null&&o.shouldManageDeletingInDirection("backward")?(this.event.preventDefault(),(d=this.delegate)!=null&&d.inputControllerWillPerformTyping(),(S=this.responder)!=null&&S.deleteInDirection("backward"),this.render()):void 0},Tab:function(){var o,d;return(o=this.responder)!=null&&o.canIncreaseNestingLevel()?(this.event.preventDefault(),(d=this.responder)!=null&&d.increaseNestingLevel(),this.render()):void 0},"Tab+Shift":function(){var o,d;return(o=this.responder)!=null&&o.canDecreaseNestingLevel()?(this.event.preventDefault(),(d=this.responder)!=null&&d.decreaseNestingLevel(),this.render()):void 0}},f.prototype.inputTypes={deleteByComposition:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut:function(){return this.deleteInDirection("backward")},deleteByDrag:function(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var o;return this.deleteByDragRange=(o=this.responder)!=null?o.getSelectedRange():void 0})},deleteCompositionText:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent:function(){return this.deleteInDirection("backward")},deleteContentBackward:function(){return this.deleteInDirection("backward")},deleteContentForward:function(){return this.deleteInDirection("forward")},deleteEntireSoftLine:function(){return this.deleteInDirection("forward")},deleteHardLineBackward:function(){return this.deleteInDirection("backward")},deleteHardLineForward:function(){return this.deleteInDirection("forward")},deleteSoftLineBackward:function(){return this.deleteInDirection("backward")},deleteSoftLineForward:function(){return this.deleteInDirection("forward")},deleteWordBackward:function(){return this.deleteInDirection("backward")},deleteWordForward:function(){return this.deleteInDirection("forward")},formatBackColor:function(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold:function(){return this.toggleAttributeIfSupported("bold")},formatFontColor:function(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName:function(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent:function(){var o;return(o=this.responder)!=null&&o.canIncreaseNestingLevel()?this.withTargetDOMRange(function(){var d;return(d=this.responder)!=null?d.increaseNestingLevel():void 0}):void 0},formatItalic:function(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter:function(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull:function(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft:function(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight:function(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent:function(){var o;return(o=this.responder)!=null&&o.canDecreaseNestingLevel()?this.withTargetDOMRange(function(){var d;return(d=this.responder)!=null?d.decreaseNestingLevel():void 0}):void 0},formatRemove:function(){return this.withTargetDOMRange(function(){var o,d,S,k;k=[];for(o in(d=this.responder)!=null?d.getCurrentAttributes():void 0)k.push((S=this.responder)!=null?S.removeCurrentAttribute(o):void 0);return k})},formatSetBlockTextDirection:function(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection:function(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough:function(){return this.toggleAttributeIfSupported("strike")},formatSubscript:function(){return this.toggleAttributeIfSupported("sub")},formatSuperscript:function(){return this.toggleAttributeIfSupported("sup")},formatUnderline:function(){return this.toggleAttributeIfSupported("underline")},historyRedo:function(){var o;return(o=this.delegate)!=null?o.inputControllerWillPerformRedo():void 0},historyUndo:function(){var o;return(o=this.delegate)!=null?o.inputControllerWillPerformUndo():void 0},insertCompositionText:function(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition:function(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop:function(){var o,d;return(o=this.deleteByDragRange)?(this.deleteByDragRange=null,(d=this.delegate)!=null&&d.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var S;return(S=this.responder)!=null?S.moveTextFromRange(o):void 0})):void 0},insertFromPaste:function(){var o,d,S,k,T,D,M,W,K,Z,z;return o=this.event.dataTransfer,T={dataTransfer:o},(d=o.getData("URL"))?(this.event.preventDefault(),T.type="text/html",z=(k=o.getData("public.url-name"))?n.squishBreakableWhitespace(k).trim():d,T.html=this.createLinkHTML(d,z),(D=this.delegate)!=null&&D.inputControllerWillPaste(T),this.withTargetDOMRange(function(){var G;return(G=this.responder)!=null?G.insertHTML(T.html):void 0}),this.afterRender=function(G){return function(){var j;return(j=G.delegate)!=null?j.inputControllerDidPaste(T):void 0}}(this)):y(o)?(T.type="text/plain",T.string=o.getData("text/plain"),(M=this.delegate)!=null&&M.inputControllerWillPaste(T),this.withTargetDOMRange(function(){var G;return(G=this.responder)!=null?G.insertString(T.string):void 0}),this.afterRender=function(G){return function(){var j;return(j=G.delegate)!=null?j.inputControllerDidPaste(T):void 0}}(this)):(S=o.getData("text/html"))?(this.event.preventDefault(),T.type="text/html",T.html=S,(W=this.delegate)!=null&&W.inputControllerWillPaste(T),this.withTargetDOMRange(function(){var G;return(G=this.responder)!=null?G.insertHTML(T.html):void 0}),this.afterRender=function(G){return function(){var j;return(j=G.delegate)!=null?j.inputControllerDidPaste(T):void 0}}(this)):(K=o.files)!=null&&K.length?(T.type="File",T.file=o.files[0],(Z=this.delegate)!=null&&Z.inputControllerWillPaste(T),this.withTargetDOMRange(function(){var G;return(G=this.responder)!=null?G.insertFile(T.file):void 0}),this.afterRender=function(G){return function(){var j;return(j=G.delegate)!=null?j.inputControllerDidPaste(T):void 0}}(this)):void 0},insertFromYank:function(){return this.insertString(this.event.data)},insertLineBreak:function(){return this.insertString(`
`)},insertLink:function(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList:function(){return this.toggleAttributeIfSupported("number")},insertParagraph:function(){var o;return(o=this.delegate)!=null&&o.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var d;return(d=this.responder)!=null?d.insertLineBreak():void 0})},insertReplacementText:function(){return this.insertString(this.event.dataTransfer.getData("text/plain"),{updatePosition:!1})},insertText:function(){var o,d;return this.insertString((o=this.event.data)!=null?o:(d=this.event.dataTransfer)!=null?d.getData("text/plain"):void 0)},insertTranspose:function(){return this.insertString(this.event.data)},insertUnorderedList:function(){return this.toggleAttributeIfSupported("bullet")}},f.prototype.insertString=function(o,d){var S;return o==null&&(o=""),(S=this.delegate)!=null&&S.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var k;return(k=this.responder)!=null?k.insertString(o,d):void 0})},f.prototype.toggleAttributeIfSupported=function(o){var d;return p.call(n.getAllAttributeNames(),o)>=0?((d=this.delegate)!=null&&d.inputControllerWillPerformFormatting(o),this.withTargetDOMRange(function(){var S;return(S=this.responder)!=null?S.toggleCurrentAttribute(o):void 0})):void 0},f.prototype.activateAttributeIfSupported=function(o,d){var S;return p.call(n.getAllAttributeNames(),o)>=0?((S=this.delegate)!=null&&S.inputControllerWillPerformFormatting(o),this.withTargetDOMRange(function(){var k;return(k=this.responder)!=null?k.setCurrentAttribute(o,d):void 0})):void 0},f.prototype.deleteInDirection=function(o,d){var S,k,T,D;return T=(d??{recordUndoEntry:!0}).recordUndoEntry,T&&(D=this.delegate)!=null&&D.inputControllerWillPerformTyping(),k=function(M){return function(){var W;return(W=M.responder)!=null?W.deleteInDirection(o):void 0}}(this),(S=this.getTargetDOMRange({minLength:2}))?this.withTargetDOMRange(S,k):k()},f.prototype.withTargetDOMRange=function(o,d){var S;return typeof o=="function"&&(d=o,o=this.getTargetDOMRange()),o?(S=this.responder)!=null?S.withTargetDOMRange(o,d.bind(this)):void 0:(n.selectionChangeObserver.reset(),d.call(this))},f.prototype.getTargetDOMRange=function(o){var d,S,k,T;return k=(o??{minLength:0}).minLength,(T=typeof(d=this.event).getTargetRanges=="function"?d.getTargetRanges():void 0)&&T.length&&(S=R(T[0]),k===0||S.toString().length>=k)?S:void 0},R=function(o){var d;return d=document.createRange(),d.setStart(o.startContainer,o.startOffset),d.setEnd(o.endContainer,o.endOffset),d},f.prototype.withEvent=function(o,d){var S;this.event=o;try{S=d.call(this)}finally{this.event=null}return S},m=function(o){var d,S;return p.call((d=(S=o.dataTransfer)!=null?S.types:void 0)!=null?d:[],"Files")>=0},u=function(o){var d;return(d=o.clipboardData)?p.call(d.types,"Files")>=0&&d.types.length===1&&d.files.length>=1:void 0},w=function(o){var d;return(d=o.clipboardData)?p.call(d.types,"text/plain")>=0&&d.types.length===1:void 0},_=function(o){var d;return d=[],o.altKey&&d.push("alt"),o.shiftKey&&d.push("shift"),d.push(o.key),d},v=function(o){return{x:o.clientX,y:o.clientY}},f}(n.InputController)}.call(this),function(){var y,c,b,s,h,a,p,C,f=function(u,w){return function(){return u.apply(w,arguments)}},m=function(u,w){function v(){this.constructor=u}for(var R in w)_.call(w,R)&&(u[R]=w[R]);return v.prototype=w.prototype,u.prototype=new v,u.__super__=w.prototype,u},_={}.hasOwnProperty;c=n.defer,b=n.handleEvent,a=n.makeElement,C=n.tagName,p=n.config,h=p.lang,y=p.css,s=p.keyNames,n.AttachmentEditorController=function(u){function w(R,o,d,S){this.attachmentPiece=R,this.element=o,this.container=d,this.options=S??{},this.didBlurCaption=f(this.didBlurCaption,this),this.didChangeCaption=f(this.didChangeCaption,this),this.didInputCaption=f(this.didInputCaption,this),this.didKeyDownCaption=f(this.didKeyDownCaption,this),this.didClickActionButton=f(this.didClickActionButton,this),this.didClickToolbar=f(this.didClickToolbar,this),this.attachment=this.attachmentPiece.attachment,C(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}var v;return m(w,u),v=function(R){return function(){var o;return o=R.apply(this,arguments),o.do(),this.undos==null&&(this.undos=[]),this.undos.push(o.undo)}},w.prototype.install=function(){return this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()?this.installCaptionEditor():void 0},w.prototype.uninstall=function(){var R,o;for(this.savePendingCaption();o=this.undos.pop();)o();return(R=this.delegate)!=null?R.didUninstallAttachmentEditor(this):void 0},w.prototype.savePendingCaption=function(){var R,o,d;return this.pendingCaption!=null?(R=this.pendingCaption,this.pendingCaption=null,R?(o=this.delegate)!=null&&typeof o.attachmentEditorDidRequestUpdatingAttributesForAttachment=="function"?o.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:R},this.attachment):void 0:(d=this.delegate)!=null&&typeof d.attachmentEditorDidRequestRemovingAttributeForAttachment=="function"?d.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0):void 0},w.prototype.makeElementMutable=v(function(){return{do:function(R){return function(){return R.element.dataset.trixMutable=!0}}(this),undo:function(R){return function(){return delete R.element.dataset.trixMutable}}(this)}}),w.prototype.addToolbar=v(function(){var R;return R=a({tagName:"div",className:y.attachmentToolbar,data:{trixMutable:!0},childNodes:a({tagName:"div",className:"trix-button-row",childNodes:a({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:a({tagName:"button",className:"trix-button trix-button--remove",textContent:h.remove,attributes:{title:h.remove},data:{trixAction:"remove"}})})})}),this.attachment.isPreviewable()&&R.appendChild(a({tagName:"div",className:y.attachmentMetadataContainer,childNodes:a({tagName:"span",className:y.attachmentMetadata,childNodes:[a({tagName:"span",className:y.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),a({tagName:"span",className:y.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),b("click",{onElement:R,withCallback:this.didClickToolbar}),b("click",{onElement:R,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),{do:function(o){return function(){return o.element.appendChild(R)}}(this),undo:function(){return function(){return n.removeNode(R)}}()}}),w.prototype.installCaptionEditor=v(function(){var R,o,d,S,k;return S=a({tagName:"textarea",className:y.attachmentCaptionEditor,attributes:{placeholder:h.captionPlaceholder},data:{trixMutable:!0}}),S.value=this.attachmentPiece.getCaption(),k=S.cloneNode(),k.classList.add("trix-autoresize-clone"),k.tabIndex=-1,R=function(){return k.value=S.value,S.style.height=k.scrollHeight+"px"},b("input",{onElement:S,withCallback:R}),b("input",{onElement:S,withCallback:this.didInputCaption}),b("keydown",{onElement:S,withCallback:this.didKeyDownCaption}),b("change",{onElement:S,withCallback:this.didChangeCaption}),b("blur",{onElement:S,withCallback:this.didBlurCaption}),d=this.element.querySelector("figcaption"),o=d.cloneNode(),{do:function(T){return function(){return d.style.display="none",o.appendChild(S),o.appendChild(k),o.classList.add(y.attachmentCaption+"--editing"),d.parentElement.insertBefore(o,d),R(),T.options.editCaption?c(function(){return S.focus()}):void 0}}(this),undo:function(){return n.removeNode(o),d.style.display=null}}}),w.prototype.didClickToolbar=function(R){return R.preventDefault(),R.stopPropagation()},w.prototype.didClickActionButton=function(R){var o;switch(R.target.getAttribute("data-trix-action")){case"remove":return(o=this.delegate)!=null?o.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0}},w.prototype.didKeyDownCaption=function(R){var o;return s[R.keyCode]==="return"?(R.preventDefault(),this.savePendingCaption(),(o=this.delegate)!=null&&typeof o.attachmentEditorDidRequestDeselectingAttachment=="function"?o.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},w.prototype.didInputCaption=function(R){return this.pendingCaption=R.target.value.replace(/\s/g," ").trim()},w.prototype.didChangeCaption=function(){return this.savePendingCaption()},w.prototype.didBlurCaption=function(){return this.savePendingCaption()},w}(n.BasicObject)}.call(this),function(){var y,c,b,s=function(a,p){function C(){this.constructor=a}for(var f in p)h.call(p,f)&&(a[f]=p[f]);return C.prototype=p.prototype,a.prototype=new C,a.__super__=p.prototype,a},h={}.hasOwnProperty;b=n.makeElement,y=n.config.css,n.AttachmentView=function(a){function p(){p.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}var C;return s(p,a),p.attachmentSelector="[data-trix-attachment]",p.prototype.createContentNodes=function(){return[]},p.prototype.createNodes=function(){var f,m,_,u,w,v,R;if(f=u=b({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),(m=this.getHref())&&(u=b({tagName:"a",editable:!1,attributes:{href:m,tabindex:-1}}),f.appendChild(u)),this.attachment.hasContent())u.innerHTML=this.attachment.getContent();else for(R=this.createContentNodes(),_=0,w=R.length;w>_;_++)v=R[_],u.appendChild(v);return u.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=b({tagName:"progress",attributes:{class:y.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),f.appendChild(this.progressElement)),[C("left"),f,C("right")]},p.prototype.createCaptionElement=function(){var f,m,_,u,w,v,R;return _=b({tagName:"figcaption",className:y.attachmentCaption}),(f=this.attachmentPiece.getCaption())?(_.classList.add(y.attachmentCaption+"--edited"),_.textContent=f):(m=this.getCaptionConfig(),m.name&&(u=this.attachment.getFilename()),m.size&&(v=this.attachment.getFormattedFilesize()),u&&(w=b({tagName:"span",className:y.attachmentName,textContent:u}),_.appendChild(w)),v&&(u&&_.appendChild(document.createTextNode(" ")),R=b({tagName:"span",className:y.attachmentSize,textContent:v}),_.appendChild(R))),_},p.prototype.getClassName=function(){var f,m;return m=[y.attachment,y.attachment+"--"+this.attachment.getType()],(f=this.attachment.getExtension())&&m.push(y.attachment+"--"+f),m.join(" ")},p.prototype.getData=function(){var f,m;return m={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},f=this.attachmentPiece.attributes,f.isEmpty()||(m.trixAttributes=JSON.stringify(f)),this.attachment.isPending()&&(m.trixSerialize=!1),m},p.prototype.getHref=function(){return c(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},p.prototype.getCaptionConfig=function(){var f,m,_;return _=this.attachment.getType(),f=n.copyObject((m=n.config.attachments[_])!=null?m.caption:void 0),_==="file"&&(f.name=!0),f},p.prototype.findProgressElement=function(){var f;return(f=this.findElement())!=null?f.querySelector("progress"):void 0},C=function(f){return b({tagName:"span",textContent:n.ZERO_WIDTH_SPACE,data:{trixCursorTarget:f,trixSerialize:!1}})},p.prototype.attachmentDidChangeUploadProgress=function(){var f,m;return m=this.attachment.getUploadProgress(),(f=this.findProgressElement())!=null?f.value=m:void 0},p}(n.ObjectView),c=function(a,p){var C;return C=b("div"),C.innerHTML=a??"",C.querySelector(p)}}.call(this),function(){var y,c=function(s,h){function a(){this.constructor=s}for(var p in h)b.call(h,p)&&(s[p]=h[p]);return a.prototype=h.prototype,s.prototype=new a,s.__super__=h.prototype,s},b={}.hasOwnProperty;y=n.makeElement,n.PreviewableAttachmentView=function(s){function h(){h.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return c(h,s),h.prototype.createContentNodes=function(){return this.image=y({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},h.prototype.createCaptionElement=function(){var a;return a=h.__super__.createCaptionElement.apply(this,arguments),a.textContent||a.setAttribute("data-trix-placeholder",n.config.lang.captionPlaceholder),a},h.prototype.refresh=function(a){var p;return a==null&&(a=(p=this.findElement())!=null?p.querySelector("img"):void 0),a?this.updateAttributesForImage(a):void 0},h.prototype.updateAttributesForImage=function(a){var p,C,f,m,_,u;return _=this.attachment.getURL(),C=this.attachment.getPreviewURL(),a.src=C||_,C===_?a.removeAttribute("data-trix-serialized-attributes"):(f=JSON.stringify({src:_}),a.setAttribute("data-trix-serialized-attributes",f)),u=this.attachment.getWidth(),p=this.attachment.getHeight(),u!=null&&(a.width=u),p!=null&&(a.height=p),m=["imageElement",this.attachment.id,a.src,a.width,a.height].join("/"),a.dataset.trixStoreKey=m},h.prototype.attachmentDidChangeAttributes=function(){return this.refresh(this.image),this.refresh()},h}(n.AttachmentView)}.call(this),function(){var y,c,b,s=function(a,p){function C(){this.constructor=a}for(var f in p)h.call(p,f)&&(a[f]=p[f]);return C.prototype=p.prototype,a.prototype=new C,a.__super__=p.prototype,a},h={}.hasOwnProperty;b=n.makeElement,y=n.findInnerElement,c=n.getTextConfig,n.PieceView=function(a){function p(){var f;p.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),f=this.options,this.textConfig=f.textConfig,this.context=f.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var C;return s(p,a),p.prototype.createNodes=function(){var f,m,_,u,w,v;if(v=this.attachment?this.createAttachmentNodes():this.createStringNodes(),f=this.createElement()){for(_=y(f),m=0,u=v.length;u>m;m++)w=v[m],_.appendChild(w);v=[f]}return v},p.prototype.createAttachmentNodes=function(){var f,m;return f=this.attachment.isPreviewable()?n.PreviewableAttachmentView:n.AttachmentView,m=this.createChildView(f,this.piece.attachment,{piece:this.piece}),m.getNodes()},p.prototype.createStringNodes=function(){var f,m,_,u,w,v,R,o,d;if((R=this.textConfig)!=null&&R.plaintext)return[document.createTextNode(this.string)];for(v=[],o=this.string.split(`
`),_=m=0,u=o.length;u>m;_=++m)d=o[_],_>0&&(f=b("br"),v.push(f)),d.length&&(w=document.createTextNode(this.preserveSpaces(d)),v.push(w));return v},p.prototype.createElement=function(){var f,m,_,u,w,v,R,o,d;o={},v=this.attributes;for(u in v)if(d=v[u],(f=c(u))&&(f.tagName&&(w=b(f.tagName),_?(_.appendChild(w),_=w):m=_=w),f.styleProperty&&(o[f.styleProperty]=d),f.style)){R=f.style;for(u in R)d=R[u],o[u]=d}if(Object.keys(o).length){m==null&&(m=b("span"));for(u in o)d=o[u],m.style[u]=d}return m},p.prototype.createContainerElement=function(){var f,m,_,u,w;u=this.attributes;for(_ in u)if(w=u[_],(m=c(_))&&m.groupTagName)return f={},f[_]=w,b(m.groupTagName,f)},C=n.NON_BREAKING_SPACE,p.prototype.preserveSpaces=function(f){return this.context.isLast&&(f=f.replace(/\ $/,C)),f=f.replace(/(\S)\ {3}(\S)/g,"$1 "+C+" $2").replace(/\ {2}/g,C+" ").replace(/\ {2}/g," "+C),(this.context.isFirst||this.context.followsWhitespace)&&(f=f.replace(/^\ /,C)),f},p}(n.ObjectView)}.call(this),function(){var y=function(b,s){function h(){this.constructor=b}for(var a in s)c.call(s,a)&&(b[a]=s[a]);return h.prototype=s.prototype,b.prototype=new h,b.__super__=s.prototype,b},c={}.hasOwnProperty;n.TextView=function(b){function s(){s.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var h;return y(s,b),s.prototype.createNodes=function(){var a,p,C,f,m,_,u,w,v,R;for(_=[],w=n.ObjectGroup.groupObjects(this.getPieces()),f=w.length-1,C=p=0,m=w.length;m>p;C=++p)u=w[C],a={},C===0&&(a.isFirst=!0),C===f&&(a.isLast=!0),h(v)&&(a.followsWhitespace=!0),R=this.findOrCreateCachedChildView(n.PieceView,u,{textConfig:this.textConfig,context:a}),_.push.apply(_,R.getNodes()),v=u;return _},s.prototype.getPieces=function(){var a,p,C,f,m;for(f=this.text.getPieces(),m=[],a=0,p=f.length;p>a;a++)C=f[a],C.hasAttribute("blockBreak")||m.push(C);return m},h=function(a){return/\s$/.test(a!=null?a.toString():void 0)},s}(n.ObjectView)}.call(this),function(){var y,c,b,s=function(a,p){function C(){this.constructor=a}for(var f in p)h.call(p,f)&&(a[f]=p[f]);return C.prototype=p.prototype,a.prototype=new C,a.__super__=p.prototype,a},h={}.hasOwnProperty;b=n.makeElement,c=n.getBlockConfig,y=n.config.css,n.BlockView=function(a){function p(){p.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return s(p,a),p.prototype.createNodes=function(){var C,f,m,_,u,w,v,R,o,d,S;if(f=document.createComment("block"),v=[f],this.block.isEmpty()?v.push(b("br")):(d=(R=c(this.block.getLastAttribute()))!=null?R.text:void 0,S=this.findOrCreateCachedChildView(n.TextView,this.block.text,{textConfig:d}),v.push.apply(v,S.getNodes()),this.shouldAddExtraNewlineElement()&&v.push(b("br"))),this.attributes.length)return v;for(o=n.config.blockAttributes.default.tagName,this.block.isRTL()&&(C={dir:"rtl"}),m=b({tagName:o,attributes:C}),_=0,u=v.length;u>_;_++)w=v[_],m.appendChild(w);return[m]},p.prototype.createContainerElement=function(C){var f,m,_,u,w;return f=this.attributes[C],w=c(f).tagName,C===0&&this.block.isRTL()&&(m={dir:"rtl"}),f==="attachmentGallery"&&(u=this.block.getBlockBreakPosition(),_=y.attachmentGallery+" "+y.attachmentGallery+"--"+u),b({tagName:w,className:_,attributes:m})},p.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},p}(n.ObjectView)}.call(this),function(){var y,c,b=function(h,a){function p(){this.constructor=h}for(var C in a)s.call(a,C)&&(h[C]=a[C]);return p.prototype=a.prototype,h.prototype=new p,h.__super__=a.prototype,h},s={}.hasOwnProperty;y=n.defer,c=n.makeElement,n.DocumentView=function(h){function a(){a.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new n.ElementStore,this.setDocument(this.object)}var p,C,f;return b(a,h),a.render=function(m){var _,u;return _=c("div"),u=new this(m,{element:_}),u.render(),u.sync(),_},a.prototype.setDocument=function(m){return m.isEqualTo(this.document)?void 0:this.document=this.object=m},a.prototype.render=function(){var m,_,u,w,v,R,o;if(this.childViews=[],this.shadowElement=c("div"),!this.document.isEmpty()){for(v=n.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0}),R=[],m=0,_=v.length;_>m;m++)w=v[m],o=this.findOrCreateCachedChildView(n.BlockView,w),R.push(function(){var d,S,k,T;for(k=o.getNodes(),T=[],d=0,S=k.length;S>d;d++)u=k[d],T.push(this.shadowElement.appendChild(u));return T}.call(this));return R}},a.prototype.isSynced=function(){return p(this.shadowElement,this.element)},a.prototype.sync=function(){var m;for(m=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(m),this.didSync()},a.prototype.didSync=function(){return this.elementStore.reset(C(this.element)),y(function(m){return function(){return m.garbageCollectCachedViews()}}(this))},a.prototype.createDocumentFragmentForSync=function(){var m,_,u,w,v,R,o,d,S,k;for(_=document.createDocumentFragment(),d=this.shadowElement.childNodes,u=0,v=d.length;v>u;u++)o=d[u],_.appendChild(o.cloneNode(!0));for(S=C(_),w=0,R=S.length;R>w;w++)m=S[w],(k=this.elementStore.remove(m))&&m.parentNode.replaceChild(k,m);return _},C=function(m){return m.querySelectorAll("[data-trix-store-key]")},p=function(m,_){return f(m.innerHTML)===f(_.innerHTML)},f=function(m){return m.replace(/&nbsp;/g," ")},a}(n.ObjectView)}.call(this),function(){var y,c,b,s,h,a=function(f,m){return function(){return f.apply(m,arguments)}},p=function(f,m){function _(){this.constructor=f}for(var u in m)C.call(m,u)&&(f[u]=m[u]);return _.prototype=m.prototype,f.prototype=new _,f.__super__=m.prototype,f},C={}.hasOwnProperty;b=n.findClosestElementFromNode,s=n.handleEvent,h=n.innerElementIsActive,c=n.defer,y=n.AttachmentView.attachmentSelector,n.CompositionController=function(f){function m(_,u){this.element=_,this.composition=u,this.didClickAttachment=a(this.didClickAttachment,this),this.didBlur=a(this.didBlur,this),this.didFocus=a(this.didFocus,this),this.documentView=new n.DocumentView(this.composition.document,{element:this.element}),s("focus",{onElement:this.element,withCallback:this.didFocus}),s("blur",{onElement:this.element,withCallback:this.didBlur}),s("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),s("mousedown",{onElement:this.element,matchingSelector:y,withCallback:this.didClickAttachment}),s("click",{onElement:this.element,matchingSelector:"a"+y,preventDefault:!0})}return p(m,f),m.prototype.didFocus=function(){var _,u,w;return _=function(v){return function(){var R;return v.focused?void 0:(v.focused=!0,(R=v.delegate)!=null&&typeof R.compositionControllerDidFocus=="function"?R.compositionControllerDidFocus():void 0)}}(this),(u=(w=this.blurPromise)!=null?w.then(_):void 0)!=null?u:_()},m.prototype.didBlur=function(){return this.blurPromise=new Promise(function(_){return function(u){return c(function(){var w;return h(_.element)||(_.focused=null,(w=_.delegate)!=null&&typeof w.compositionControllerDidBlur=="function"&&w.compositionControllerDidBlur()),_.blurPromise=null,u()})}}(this))},m.prototype.didClickAttachment=function(_,u){var w,v,R;return w=this.findAttachmentForElement(u),v=b(_.target,{matchingSelector:"figcaption"})!=null,(R=this.delegate)!=null&&typeof R.compositionControllerDidSelectAttachment=="function"?R.compositionControllerDidSelectAttachment(w,{editCaption:v}):void 0},m.prototype.getSerializableElement=function(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element},m.prototype.render=function(){var _,u,w;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((_=this.delegate)!=null&&typeof _.compositionControllerWillSyncDocumentView=="function"&&_.compositionControllerWillSyncDocumentView(),this.documentView.sync(),(u=this.delegate)!=null&&typeof u.compositionControllerDidSyncDocumentView=="function"&&u.compositionControllerDidSyncDocumentView()),(w=this.delegate)!=null&&typeof w.compositionControllerDidRender=="function"?w.compositionControllerDidRender():void 0},m.prototype.rerenderViewForObject=function(_){return this.invalidateViewForObject(_),this.render()},m.prototype.invalidateViewForObject=function(_){return this.documentView.invalidateViewForObject(_)},m.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},m.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},m.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},m.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},m.prototype.isEditingAttachment=function(){return this.attachmentEditor!=null},m.prototype.installAttachmentEditorForAttachment=function(_,u){var w,v,R;if(((R=this.attachmentEditor)!=null?R.attachment:void 0)!==_&&(v=this.documentView.findElementForObject(_)))return this.uninstallAttachmentEditor(),w=this.composition.document.getAttachmentPieceForAttachment(_),this.attachmentEditor=new n.AttachmentEditorController(w,v,this.element,u),this.attachmentEditor.delegate=this},m.prototype.uninstallAttachmentEditor=function(){var _;return(_=this.attachmentEditor)!=null?_.uninstall():void 0},m.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},m.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(_,u){var w;return(w=this.delegate)!=null&&typeof w.compositionControllerWillUpdateAttachment=="function"&&w.compositionControllerWillUpdateAttachment(u),this.composition.updateAttributesForAttachment(_,u)},m.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(_,u){var w;return(w=this.delegate)!=null&&typeof w.compositionControllerWillUpdateAttachment=="function"&&w.compositionControllerWillUpdateAttachment(u),this.composition.removeAttributeForAttachment(_,u)},m.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(_){var u;return(u=this.delegate)!=null&&typeof u.compositionControllerDidRequestRemovalOfAttachment=="function"?u.compositionControllerDidRequestRemovalOfAttachment(_):void 0},m.prototype.attachmentEditorDidRequestDeselectingAttachment=function(_){var u;return(u=this.delegate)!=null&&typeof u.compositionControllerDidRequestDeselectingAttachment=="function"?u.compositionControllerDidRequestDeselectingAttachment(_):void 0},m.prototype.canSyncDocumentView=function(){return!this.isEditingAttachment()},m.prototype.findAttachmentForElement=function(_){return this.composition.document.getAttachmentById(parseInt(_.dataset.trixId,10))},m}(n.BasicObject)}.call(this),function(){var y,c,b,s=function(p,C){return function(){return p.apply(C,arguments)}},h=function(p,C){function f(){this.constructor=p}for(var m in C)a.call(C,m)&&(p[m]=C[m]);return f.prototype=C.prototype,p.prototype=new f,p.__super__=C.prototype,p},a={}.hasOwnProperty;c=n.handleEvent,b=n.triggerEvent,y=n.findClosestElementFromNode,n.ToolbarController=function(p){function C(T){this.element=T,this.didKeyDownDialogInput=s(this.didKeyDownDialogInput,this),this.didClickDialogButton=s(this.didClickDialogButton,this),this.didClickAttributeButton=s(this.didClickAttributeButton,this),this.didClickActionButton=s(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),c("mousedown",{onElement:this.element,matchingSelector:f,withCallback:this.didClickActionButton}),c("mousedown",{onElement:this.element,matchingSelector:_,withCallback:this.didClickAttributeButton}),c("click",{onElement:this.element,matchingSelector:k,preventDefault:!0}),c("click",{onElement:this.element,matchingSelector:u,withCallback:this.didClickDialogButton}),c("keydown",{onElement:this.element,matchingSelector:w,withCallback:this.didKeyDownDialogInput})}var f,m,_,u,w,v,R,o,d,S,k;return h(C,p),_="[data-trix-attribute]",f="[data-trix-action]",k=_+", "+f,v="[data-trix-dialog]",m=v+"[data-trix-active]",u=v+" [data-trix-method]",w=v+" [data-trix-input]",C.prototype.didClickActionButton=function(T,D){var M,W,K;return(W=this.delegate)!=null&&W.toolbarDidClickButton(),T.preventDefault(),M=R(D),this.getDialog(M)?this.toggleDialog(M):(K=this.delegate)!=null?K.toolbarDidInvokeAction(M):void 0},C.prototype.didClickAttributeButton=function(T,D){var M,W,K;return(W=this.delegate)!=null&&W.toolbarDidClickButton(),T.preventDefault(),M=o(D),this.getDialog(M)?this.toggleDialog(M):(K=this.delegate)!=null&&K.toolbarDidToggleAttribute(M),this.refreshAttributeButtons()},C.prototype.didClickDialogButton=function(T,D){var M,W;return M=y(D,{matchingSelector:v}),W=D.getAttribute("data-trix-method"),this[W].call(this,M)},C.prototype.didKeyDownDialogInput=function(T,D){var M,W;return T.keyCode===13&&(T.preventDefault(),M=D.getAttribute("name"),W=this.getDialog(M),this.setAttribute(W)),T.keyCode===27?(T.preventDefault(),this.hideDialog()):void 0},C.prototype.updateActions=function(T){return this.actions=T,this.refreshActionButtons()},C.prototype.refreshActionButtons=function(){return this.eachActionButton(function(T){return function(D,M){return D.disabled=T.actions[M]===!1}}(this))},C.prototype.eachActionButton=function(T){var D,M,W,K,Z;for(K=this.element.querySelectorAll(f),Z=[],M=0,W=K.length;W>M;M++)D=K[M],Z.push(T(D,R(D)));return Z},C.prototype.updateAttributes=function(T){return this.attributes=T,this.refreshAttributeButtons()},C.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton(function(T){return function(D,M){return D.disabled=T.attributes[M]===!1,T.attributes[M]||T.dialogIsVisible(M)?(D.setAttribute("data-trix-active",""),D.classList.add("trix-active")):(D.removeAttribute("data-trix-active"),D.classList.remove("trix-active"))}}(this))},C.prototype.eachAttributeButton=function(T){var D,M,W,K,Z;for(K=this.element.querySelectorAll(_),Z=[],M=0,W=K.length;W>M;M++)D=K[M],Z.push(T(D,o(D)));return Z},C.prototype.applyKeyboardCommand=function(T){var D,M,W,K,Z,z,G;for(Z=JSON.stringify(T.sort()),G=this.element.querySelectorAll("[data-trix-key]"),K=0,z=G.length;z>K;K++)if(D=G[K],W=D.getAttribute("data-trix-key").split("+"),M=JSON.stringify(W.sort()),M===Z)return b("mousedown",{onElement:D}),!0;return!1},C.prototype.dialogIsVisible=function(T){var D;return(D=this.getDialog(T))?D.hasAttribute("data-trix-active"):void 0},C.prototype.toggleDialog=function(T){return this.dialogIsVisible(T)?this.hideDialog():this.showDialog(T)},C.prototype.showDialog=function(T){var D,M,W,K,Z,z,G,j,F,q;for(this.hideDialog(),(G=this.delegate)!=null&&G.toolbarWillShowDialog(),W=this.getDialog(T),W.setAttribute("data-trix-active",""),W.classList.add("trix-active"),j=W.querySelectorAll("input[disabled]"),K=0,z=j.length;z>K;K++)M=j[K],M.removeAttribute("disabled");return(D=o(W))&&(Z=S(W,T))&&(Z.value=(F=this.attributes[D])!=null?F:"",Z.select()),(q=this.delegate)!=null?q.toolbarDidShowDialog(T):void 0},C.prototype.setAttribute=function(T){var D,M,W;return D=o(T),M=S(T,D),M.willValidate&&!M.checkValidity()?(M.setAttribute("data-trix-validate",""),M.classList.add("trix-validate"),M.focus()):((W=this.delegate)!=null&&W.toolbarDidUpdateAttribute(D,M.value),this.hideDialog())},C.prototype.removeAttribute=function(T){var D,M;return D=o(T),(M=this.delegate)!=null&&M.toolbarDidRemoveAttribute(D),this.hideDialog()},C.prototype.hideDialog=function(){var T,D;return(T=this.element.querySelector(m))?(T.removeAttribute("data-trix-active"),T.classList.remove("trix-active"),this.resetDialogInputs(),(D=this.delegate)!=null?D.toolbarDidHideDialog(d(T)):void 0):void 0},C.prototype.resetDialogInputs=function(){var T,D,M,W,K;for(W=this.element.querySelectorAll(w),K=[],T=0,M=W.length;M>T;T++)D=W[T],D.setAttribute("disabled","disabled"),D.removeAttribute("data-trix-validate"),K.push(D.classList.remove("trix-validate"));return K},C.prototype.getDialog=function(T){return this.element.querySelector("[data-trix-dialog="+T+"]")},S=function(T,D){return D==null&&(D=o(T)),T.querySelector("[data-trix-input][name='"+D+"']")},R=function(T){return T.getAttribute("data-trix-action")},o=function(T){var D;return(D=T.getAttribute("data-trix-attribute"))!=null?D:T.getAttribute("data-trix-dialog-attribute")},d=function(T){return T.getAttribute("data-trix-dialog")},C}(n.BasicObject)}.call(this),function(){var y=function(b,s){function h(){this.constructor=b}for(var a in s)c.call(s,a)&&(b[a]=s[a]);return h.prototype=s.prototype,b.prototype=new h,b.__super__=s.prototype,b},c={}.hasOwnProperty;n.ImagePreloadOperation=function(b){function s(h){this.url=h}return y(s,b),s.prototype.perform=function(h){var a;return a=new Image,a.onload=function(p){return function(){return a.width=p.width=a.naturalWidth,a.height=p.height=a.naturalHeight,h(!0,a)}}(this),a.onerror=function(){return h(!1)},a.src=this.url},s}(n.Operation)}.call(this),function(){var y=function(s,h){return function(){return s.apply(h,arguments)}},c=function(s,h){function a(){this.constructor=s}for(var p in h)b.call(h,p)&&(s[p]=h[p]);return a.prototype=h.prototype,s.prototype=new a,s.__super__=h.prototype,s},b={}.hasOwnProperty;n.Attachment=function(s){function h(a){a==null&&(a={}),this.releaseFile=y(this.releaseFile,this),h.__super__.constructor.apply(this,arguments),this.attributes=n.Hash.box(a),this.didChangeAttributes()}return c(h,s),h.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,h.attachmentForFile=function(a){var p,C;return C=this.attributesForFile(a),p=new this(C),p.setFile(a),p},h.attributesForFile=function(a){return new n.Hash({filename:a.name,filesize:a.size,contentType:a.type})},h.fromJSON=function(a){return new this(a)},h.prototype.getAttribute=function(a){return this.attributes.get(a)},h.prototype.hasAttribute=function(a){return this.attributes.has(a)},h.prototype.getAttributes=function(){return this.attributes.toObject()},h.prototype.setAttributes=function(a){var p,C,f;return a==null&&(a={}),p=this.attributes.merge(a),this.attributes.isEqualTo(p)?void 0:(this.attributes=p,this.didChangeAttributes(),(C=this.previewDelegate)!=null&&typeof C.attachmentDidChangeAttributes=="function"&&C.attachmentDidChangeAttributes(this),(f=this.delegate)!=null&&typeof f.attachmentDidChangeAttributes=="function"?f.attachmentDidChangeAttributes(this):void 0)},h.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},h.prototype.isPending=function(){return this.file!=null&&!(this.getURL()||this.getHref())},h.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},h.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},h.prototype.getURL=function(){return this.attributes.get("url")},h.prototype.getHref=function(){return this.attributes.get("href")},h.prototype.getFilename=function(){var a;return(a=this.attributes.get("filename"))!=null?a:""},h.prototype.getFilesize=function(){return this.attributes.get("filesize")},h.prototype.getFormattedFilesize=function(){var a;return a=this.attributes.get("filesize"),typeof a=="number"?n.config.fileSize.formatter(a):""},h.prototype.getExtension=function(){var a;return(a=this.getFilename().match(/\.(\w+)$/))!=null?a[1].toLowerCase():void 0},h.prototype.getContentType=function(){return this.attributes.get("contentType")},h.prototype.hasContent=function(){return this.attributes.has("content")},h.prototype.getContent=function(){return this.attributes.get("content")},h.prototype.getWidth=function(){return this.attributes.get("width")},h.prototype.getHeight=function(){return this.attributes.get("height")},h.prototype.getFile=function(){return this.file},h.prototype.setFile=function(a){return this.file=a,this.isPreviewable()?this.preloadFile():void 0},h.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},h.prototype.getUploadProgress=function(){var a;return(a=this.uploadProgress)!=null?a:0},h.prototype.setUploadProgress=function(a){var p;return this.uploadProgress!==a?(this.uploadProgress=a,(p=this.uploadProgressDelegate)!=null&&typeof p.attachmentDidChangeUploadProgress=="function"?p.attachmentDidChangeUploadProgress(this):void 0):void 0},h.prototype.toJSON=function(){return this.getAttributes()},h.prototype.getCacheKey=function(){return[h.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},h.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},h.prototype.setPreviewURL=function(a){var p,C;return a!==this.getPreviewURL()?(this.previewURL=a,(p=this.previewDelegate)!=null&&typeof p.attachmentDidChangeAttributes=="function"&&p.attachmentDidChangeAttributes(this),(C=this.delegate)!=null&&typeof C.attachmentDidChangePreviewURL=="function"?C.attachmentDidChangePreviewURL(this):void 0):void 0},h.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},h.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},h.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},h.prototype.preload=function(a,p){var C;return a&&a!==this.getPreviewURL()?(this.preloadingURL=a,C=new n.ImagePreloadOperation(a),C.then(function(f){return function(m){var _,u;return u=m.width,_=m.height,f.getWidth()&&f.getHeight()||f.setAttributes({width:u,height:_}),f.preloadingURL=null,f.setPreviewURL(a),typeof p=="function"?p():void 0}}(this)).catch(function(f){return function(){return f.preloadingURL=null,typeof p=="function"?p():void 0}}(this))):void 0},h}(n.Object)}.call(this),function(){var y=function(b,s){function h(){this.constructor=b}for(var a in s)c.call(s,a)&&(b[a]=s[a]);return h.prototype=s.prototype,b.prototype=new h,b.__super__=s.prototype,b},c={}.hasOwnProperty;n.Piece=function(b){function s(h,a){a==null&&(a={}),s.__super__.constructor.apply(this,arguments),this.attributes=n.Hash.box(a)}return y(s,b),s.types={},s.registerType=function(h,a){return a.type=h,this.types[h]=a},s.fromJSON=function(h){var a;return(a=this.types[h.type])?a.fromJSON(h):void 0},s.prototype.copyWithAttributes=function(h){return new this.constructor(this.getValue(),h)},s.prototype.copyWithAdditionalAttributes=function(h){return this.copyWithAttributes(this.attributes.merge(h))},s.prototype.copyWithoutAttribute=function(h){return this.copyWithAttributes(this.attributes.remove(h))},s.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},s.prototype.getAttribute=function(h){return this.attributes.get(h)},s.prototype.getAttributesHash=function(){return this.attributes},s.prototype.getAttributes=function(){return this.attributes.toObject()},s.prototype.getCommonAttributes=function(){var h,a,p;return(p=pieceList.getPieceAtIndex(0))?(h=p.attributes,a=h.getKeys(),pieceList.eachPiece(function(C){return a=h.getKeysCommonToHash(C.attributes),h=h.slice(a)}),h.toObject()):{}},s.prototype.hasAttribute=function(h){return this.attributes.has(h)},s.prototype.hasSameStringValueAsPiece=function(h){return h!=null&&this.toString()===h.toString()},s.prototype.hasSameAttributesAsPiece=function(h){return h!=null&&(this.attributes===h.attributes||this.attributes.isEqualTo(h.attributes))},s.prototype.isBlockBreak=function(){return!1},s.prototype.isEqualTo=function(h){return s.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(h)&&this.hasSameStringValueAsPiece(h)&&this.hasSameAttributesAsPiece(h)},s.prototype.isEmpty=function(){return this.length===0},s.prototype.isSerializable=function(){return!0},s.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},s.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},s.prototype.canBeGrouped=function(){return this.hasAttribute("href")},s.prototype.canBeGroupedWith=function(h){return this.getAttribute("href")===h.getAttribute("href")},s.prototype.getLength=function(){return this.length},s.prototype.canBeConsolidatedWith=function(){return!1},s}(n.Object)}.call(this),function(){var y=function(b,s){function h(){this.constructor=b}for(var a in s)c.call(s,a)&&(b[a]=s[a]);return h.prototype=s.prototype,b.prototype=new h,b.__super__=s.prototype,b},c={}.hasOwnProperty;n.Piece.registerType("attachment",n.AttachmentPiece=function(b){function s(h){this.attachment=h,s.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}return y(s,b),s.fromJSON=function(h){return new this(n.Attachment.fromJSON(h.attachment),h.attributes)},s.permittedAttributes=["caption","presentation"],s.prototype.ensureAttachmentExclusivelyHasAttribute=function(h){return this.hasAttribute(h)?(this.attachment.hasAttribute(h)||this.attachment.setAttributes(this.attributes.slice(h)),this.attributes=this.attributes.remove(h)):void 0},s.prototype.removeProhibitedAttributes=function(){var h;return h=this.attributes.slice(this.constructor.permittedAttributes),h.isEqualTo(this.attributes)?void 0:this.attributes=h},s.prototype.getValue=function(){return this.attachment},s.prototype.isSerializable=function(){return!this.attachment.isPending()},s.prototype.getCaption=function(){var h;return(h=this.attributes.get("caption"))!=null?h:""},s.prototype.isEqualTo=function(h){var a;return s.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(h!=null&&(a=h.attachment)!=null?a.id:void 0)},s.prototype.toString=function(){return n.OBJECT_REPLACEMENT_CHARACTER},s.prototype.toJSON=function(){var h;return h=s.__super__.toJSON.apply(this,arguments),h.attachment=this.attachment,h},s.prototype.getCacheKey=function(){return[s.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},s.prototype.toConsole=function(){return JSON.stringify(this.toString())},s}(n.Piece))}.call(this),function(){var y,c=function(s,h){function a(){this.constructor=s}for(var p in h)b.call(h,p)&&(s[p]=h[p]);return a.prototype=h.prototype,s.prototype=new a,s.__super__=h.prototype,s},b={}.hasOwnProperty;y=n.normalizeNewlines,n.Piece.registerType("string",n.StringPiece=function(s){function h(a){h.__super__.constructor.apply(this,arguments),this.string=y(a),this.length=this.string.length}return c(h,s),h.fromJSON=function(a){return new this(a.string,a.attributes)},h.prototype.getValue=function(){return this.string},h.prototype.toString=function(){return this.string.toString()},h.prototype.isBlockBreak=function(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0},h.prototype.toJSON=function(){var a;return a=h.__super__.toJSON.apply(this,arguments),a.string=this.string,a},h.prototype.canBeConsolidatedWith=function(a){return a!=null&&this.hasSameConstructorAs(a)&&this.hasSameAttributesAsPiece(a)},h.prototype.consolidateWith=function(a){return new this.constructor(this.toString()+a.toString(),this.attributes)},h.prototype.splitAtOffset=function(a){var p,C;return a===0?(p=null,C=this):a===this.length?(p=this,C=null):(p=new this.constructor(this.string.slice(0,a),this.attributes),C=new this.constructor(this.string.slice(a),this.attributes)),[p,C]},h.prototype.toConsole=function(){var a;return a=this.string,a.length>15&&(a=a.slice(0,14)+"…"),JSON.stringify(a.toString())},h}(n.Piece))}.call(this),function(){var y,c=function(h,a){function p(){this.constructor=h}for(var C in a)b.call(a,C)&&(h[C]=a[C]);return p.prototype=a.prototype,h.prototype=new p,h.__super__=a.prototype,h},b={}.hasOwnProperty,s=[].slice;y=n.spliceArray,n.SplittableList=function(h){function a(m){m==null&&(m=[]),a.__super__.constructor.apply(this,arguments),this.objects=m.slice(0),this.length=this.objects.length}var p,C,f;return c(a,h),a.box=function(m){return m instanceof this?m:new this(m)},a.prototype.indexOf=function(m){return this.objects.indexOf(m)},a.prototype.splice=function(){var m;return m=1<=arguments.length?s.call(arguments,0):[],new this.constructor(y.apply(null,[this.objects].concat(s.call(m))))},a.prototype.eachObject=function(m){var _,u,w,v,R,o;for(R=this.objects,o=[],u=_=0,w=R.length;w>_;u=++_)v=R[u],o.push(m(v,u));return o},a.prototype.insertObjectAtIndex=function(m,_){return this.splice(_,0,m)},a.prototype.insertSplittableListAtIndex=function(m,_){return this.splice.apply(this,[_,0].concat(s.call(m.objects)))},a.prototype.insertSplittableListAtPosition=function(m,_){var u,w,v;return v=this.splitObjectAtPosition(_),w=v[0],u=v[1],new this.constructor(w).insertSplittableListAtIndex(m,u)},a.prototype.editObjectAtIndex=function(m,_){return this.replaceObjectAtIndex(_(this.objects[m]),m)},a.prototype.replaceObjectAtIndex=function(m,_){return this.splice(_,1,m)},a.prototype.removeObjectAtIndex=function(m){return this.splice(m,1)},a.prototype.getObjectAtIndex=function(m){return this.objects[m]},a.prototype.getSplittableListInRange=function(m){var _,u,w,v;return w=this.splitObjectsAtRange(m),u=w[0],_=w[1],v=w[2],new this.constructor(u.slice(_,v+1))},a.prototype.selectSplittableList=function(m){var _,u;return u=function(){var w,v,R,o;for(R=this.objects,o=[],w=0,v=R.length;v>w;w++)_=R[w],m(_)&&o.push(_);return o}.call(this),new this.constructor(u)},a.prototype.removeObjectsInRange=function(m){var _,u,w,v;return w=this.splitObjectsAtRange(m),u=w[0],_=w[1],v=w[2],new this.constructor(u).splice(_,v-_+1)},a.prototype.transformObjectsInRange=function(m,_){var u,w,v,R,o,d,S;return o=this.splitObjectsAtRange(m),R=o[0],w=o[1],d=o[2],S=function(){var k,T,D;for(D=[],u=k=0,T=R.length;T>k;u=++k)v=R[u],D.push(u>=w&&d>=u?_(v):v);return D}(),new this.constructor(S)},a.prototype.splitObjectsAtRange=function(m){var _,u,w,v,R,o;return v=this.splitObjectAtPosition(f(m)),u=v[0],_=v[1],w=v[2],R=new this.constructor(u).splitObjectAtPosition(p(m)+w),u=R[0],o=R[1],[u,_,o-1]},a.prototype.getObjectAtPosition=function(m){var _,u;return u=this.findIndexAndOffsetAtPosition(m),_=u.index,u.offset,this.objects[_]},a.prototype.splitObjectAtPosition=function(m){var _,u,w,v,R,o,d,S,k,T;return o=this.findIndexAndOffsetAtPosition(m),_=o.index,R=o.offset,v=this.objects.slice(0),_!=null?R===0?(k=_,T=0):(w=this.getObjectAtIndex(_),d=w.splitAtOffset(R),u=d[0],S=d[1],v.splice(_,1,u,S),k=_+1,T=u.getLength()-R):(k=v.length,T=0),[v,k,T]},a.prototype.consolidate=function(){var m,_,u,w,v,R;for(w=[],v=this.objects[0],R=this.objects.slice(1),m=0,_=R.length;_>m;m++)u=R[m],typeof v.canBeConsolidatedWith=="function"&&v.canBeConsolidatedWith(u)?v=v.consolidateWith(u):(w.push(v),v=u);return v!=null&&w.push(v),new this.constructor(w)},a.prototype.consolidateFromIndexToIndex=function(m,_){var u,w,v;return w=this.objects.slice(0),v=w.slice(m,_+1),u=new this.constructor(v).consolidate().toArray(),this.splice.apply(this,[m,v.length].concat(s.call(u)))},a.prototype.findIndexAndOffsetAtPosition=function(m){var _,u,w,v,R,o,d;for(_=0,d=this.objects,w=u=0,v=d.length;v>u;w=++u){if(o=d[w],R=_+o.getLength(),m>=_&&R>m)return{index:w,offset:m-_};_=R}return{index:null,offset:null}},a.prototype.findPositionAtIndexAndOffset=function(m,_){var u,w,v,R,o,d;for(o=0,d=this.objects,u=w=0,v=d.length;v>w;u=++w)if(R=d[u],m>u)o+=R.getLength();else if(u===m){o+=_;break}return o},a.prototype.getEndPosition=function(){var m,_;return this.endPosition!=null?this.endPosition:this.endPosition=function(){var u,w,v;for(_=0,v=this.objects,u=0,w=v.length;w>u;u++)m=v[u],_+=m.getLength();return _}.call(this)},a.prototype.toString=function(){return this.objects.join("")},a.prototype.toArray=function(){return this.objects.slice(0)},a.prototype.toJSON=function(){return this.toArray()},a.prototype.isEqualTo=function(m){return a.__super__.isEqualTo.apply(this,arguments)||C(this.objects,m!=null?m.objects:void 0)},C=function(m,_){var u,w,v,R,o;if(_==null&&(_=[]),m.length!==_.length)return!1;for(o=!0,w=u=0,v=m.length;v>u;w=++u)R=m[w],o&&!R.isEqualTo(_[w])&&(o=!1);return o},a.prototype.contentsForInspection=function(){var m;return{objects:"["+function(){var _,u,w,v;for(w=this.objects,v=[],_=0,u=w.length;u>_;_++)m=w[_],v.push(m.inspect());return v}.call(this).join(", ")+"]"}},f=function(m){return m[0]},p=function(m){return m[1]},a}(n.Object)}.call(this),function(){var y=function(b,s){function h(){this.constructor=b}for(var a in s)c.call(s,a)&&(b[a]=s[a]);return h.prototype=s.prototype,b.prototype=new h,b.__super__=s.prototype,b},c={}.hasOwnProperty;n.Text=function(b){function s(h){var a;h==null&&(h=[]),s.__super__.constructor.apply(this,arguments),this.pieceList=new n.SplittableList(function(){var p,C,f;for(f=[],p=0,C=h.length;C>p;p++)a=h[p],a.isEmpty()||f.push(a);return f}())}return y(s,b),s.textForAttachmentWithAttributes=function(h,a){var p;return p=new n.AttachmentPiece(h,a),new this([p])},s.textForStringWithAttributes=function(h,a){var p;return p=new n.StringPiece(h,a),new this([p])},s.fromJSON=function(h){var a,p;return p=function(){var C,f,m;for(m=[],C=0,f=h.length;f>C;C++)a=h[C],m.push(n.Piece.fromJSON(a));return m}(),new this(p)},s.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},s.prototype.copyWithPieceList=function(h){return new this.constructor(h.consolidate().toArray())},s.prototype.copyUsingObjectMap=function(h){var a,p;return p=function(){var C,f,m,_,u;for(m=this.getPieces(),u=[],C=0,f=m.length;f>C;C++)a=m[C],u.push((_=h.find(a))!=null?_:a);return u}.call(this),new this.constructor(p)},s.prototype.appendText=function(h){return this.insertTextAtPosition(h,this.getLength())},s.prototype.insertTextAtPosition=function(h,a){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(h.pieceList,a))},s.prototype.removeTextAtRange=function(h){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(h))},s.prototype.replaceTextAtRange=function(h,a){return this.removeTextAtRange(a).insertTextAtPosition(h,a[0])},s.prototype.moveTextFromRangeToPosition=function(h,a){var p,C;if(!(h[0]<=a&&a<=h[1]))return C=this.getTextAtRange(h),p=C.getLength(),h[0]<a&&(a-=p),this.removeTextAtRange(h).insertTextAtPosition(C,a)},s.prototype.addAttributeAtRange=function(h,a,p){var C;return C={},C[h]=a,this.addAttributesAtRange(C,p)},s.prototype.addAttributesAtRange=function(h,a){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(a,function(p){return p.copyWithAdditionalAttributes(h)}))},s.prototype.removeAttributeAtRange=function(h,a){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(a,function(p){return p.copyWithoutAttribute(h)}))},s.prototype.setAttributesAtRange=function(h,a){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(a,function(p){return p.copyWithAttributes(h)}))},s.prototype.getAttributesAtPosition=function(h){var a,p;return(a=(p=this.pieceList.getObjectAtPosition(h))!=null?p.getAttributes():void 0)!=null?a:{}},s.prototype.getCommonAttributes=function(){var h,a;return h=function(){var p,C,f,m;for(f=this.pieceList.toArray(),m=[],p=0,C=f.length;C>p;p++)a=f[p],m.push(a.getAttributes());return m}.call(this),n.Hash.fromCommonAttributesOfObjects(h).toObject()},s.prototype.getCommonAttributesAtRange=function(h){var a;return(a=this.getTextAtRange(h).getCommonAttributes())!=null?a:{}},s.prototype.getExpandedRangeForAttributeAtOffset=function(h,a){var p,C,f;for(p=f=a,C=this.getLength();p>0&&this.getCommonAttributesAtRange([p-1,f])[h];)p--;for(;C>f&&this.getCommonAttributesAtRange([a,f+1])[h];)f++;return[p,f]},s.prototype.getTextAtRange=function(h){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(h))},s.prototype.getStringAtRange=function(h){return this.pieceList.getSplittableListInRange(h).toString()},s.prototype.getStringAtPosition=function(h){return this.getStringAtRange([h,h+1])},s.prototype.startsWithString=function(h){return this.getStringAtRange([0,h.length])===h},s.prototype.endsWithString=function(h){var a;return a=this.getLength(),this.getStringAtRange([a-h.length,a])===h},s.prototype.getAttachmentPieces=function(){var h,a,p,C,f;for(C=this.pieceList.toArray(),f=[],h=0,a=C.length;a>h;h++)p=C[h],p.attachment!=null&&f.push(p);return f},s.prototype.getAttachments=function(){var h,a,p,C,f;for(C=this.getAttachmentPieces(),f=[],h=0,a=C.length;a>h;h++)p=C[h],f.push(p.attachment);return f},s.prototype.getAttachmentAndPositionById=function(h){var a,p,C,f,m,_;for(f=0,m=this.pieceList.toArray(),a=0,p=m.length;p>a;a++){if(C=m[a],((_=C.attachment)!=null?_.id:void 0)===h)return{attachment:C.attachment,position:f};f+=C.length}return{attachment:null,position:null}},s.prototype.getAttachmentById=function(h){var a,p;return p=this.getAttachmentAndPositionById(h),a=p.attachment,p.position,a},s.prototype.getRangeOfAttachment=function(h){var a,p;return p=this.getAttachmentAndPositionById(h.id),h=p.attachment,a=p.position,h!=null?[a,a+1]:void 0},s.prototype.updateAttributesForAttachment=function(h,a){var p;return(p=this.getRangeOfAttachment(a))?this.addAttributesAtRange(h,p):this},s.prototype.getLength=function(){return this.pieceList.getEndPosition()},s.prototype.isEmpty=function(){return this.getLength()===0},s.prototype.isEqualTo=function(h){var a;return s.__super__.isEqualTo.apply(this,arguments)||(h!=null&&(a=h.pieceList)!=null?a.isEqualTo(this.pieceList):void 0)},s.prototype.isBlockBreak=function(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},s.prototype.eachPiece=function(h){return this.pieceList.eachObject(h)},s.prototype.getPieces=function(){return this.pieceList.toArray()},s.prototype.getPieceAtPosition=function(h){return this.pieceList.getObjectAtPosition(h)},s.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},s.prototype.toSerializableText=function(){var h;return h=this.pieceList.selectSplittableList(function(a){return a.isSerializable()}),this.copyWithPieceList(h)},s.prototype.toString=function(){return this.pieceList.toString()},s.prototype.toJSON=function(){return this.pieceList.toJSON()},s.prototype.toConsole=function(){var h;return JSON.stringify(function(){var a,p,C,f;for(C=this.pieceList.toArray(),f=[],a=0,p=C.length;p>a;a++)h=C[a],f.push(JSON.parse(h.toConsole()));return f}.call(this))},s.prototype.getDirection=function(){return n.getDirection(this.toString())},s.prototype.isRTL=function(){return this.getDirection()==="rtl"},s}(n.Object)}.call(this),function(){var y,c,b,s,h=function(f,m){function _(){this.constructor=f}for(var u in m)a.call(m,u)&&(f[u]=m[u]);return _.prototype=m.prototype,f.prototype=new _,f.__super__=m.prototype,f},a={}.hasOwnProperty,p=[].indexOf||function(f){for(var m=0,_=this.length;_>m;m++)if(m in this&&this[m]===f)return m;return-1},C=[].slice;y=n.arraysAreEqual,s=n.spliceArray,c=n.getBlockConfig,n.getBlockAttributeNames,b=n.getListAttributeNames,n.Block=function(f){function m(T,D){T==null&&(T=new n.Text),D==null&&(D=[]),m.__super__.constructor.apply(this,arguments),this.text=u(T),this.attributes=D}var _,u,w,v,R,o,d,S,k;return h(m,f),m.fromJSON=function(T){var D;return D=n.Text.fromJSON(T.text),new this(D,T.attributes)},m.prototype.isEmpty=function(){return this.text.isBlockBreak()},m.prototype.isEqualTo=function(T){return m.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(T!=null?T.text:void 0)&&y(this.attributes,T!=null?T.attributes:void 0)},m.prototype.copyWithText=function(T){return new this.constructor(T,this.attributes)},m.prototype.copyWithoutText=function(){return this.copyWithText(null)},m.prototype.copyWithAttributes=function(T){return new this.constructor(this.text,T)},m.prototype.copyWithoutAttributes=function(){return this.copyWithAttributes(null)},m.prototype.copyUsingObjectMap=function(T){var D;return this.copyWithText((D=T.find(this.text))?D:this.text.copyUsingObjectMap(T))},m.prototype.addAttribute=function(T){var D;return D=this.attributes.concat(v(T)),this.copyWithAttributes(D)},m.prototype.removeAttribute=function(T){var D,M;return M=c(T).listAttribute,D=o(o(this.attributes,T),M),this.copyWithAttributes(D)},m.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},m.prototype.getLastAttribute=function(){return R(this.attributes)},m.prototype.getAttributes=function(){return this.attributes.slice(0)},m.prototype.getAttributeLevel=function(){return this.attributes.length},m.prototype.getAttributeAtLevel=function(T){return this.attributes[T-1]},m.prototype.hasAttribute=function(T){return p.call(this.attributes,T)>=0},m.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},m.prototype.getLastNestableAttribute=function(){return R(this.getNestableAttributes())},m.prototype.getNestableAttributes=function(){var T,D,M,W,K;for(W=this.attributes,K=[],D=0,M=W.length;M>D;D++)T=W[D],c(T).nestable&&K.push(T);return K},m.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},m.prototype.decreaseNestingLevel=function(){var T;return(T=this.getLastNestableAttribute())?this.removeAttribute(T):this},m.prototype.increaseNestingLevel=function(){var T,D,M;return(T=this.getLastNestableAttribute())?(M=this.attributes.lastIndexOf(T),D=s.apply(null,[this.attributes,M+1,0].concat(C.call(v(T)))),this.copyWithAttributes(D)):this},m.prototype.getListItemAttributes=function(){var T,D,M,W,K;for(W=this.attributes,K=[],D=0,M=W.length;M>D;D++)T=W[D],c(T).listAttribute&&K.push(T);return K},m.prototype.isListItem=function(){var T;return(T=c(this.getLastAttribute()))!=null?T.listAttribute:void 0},m.prototype.isTerminalBlock=function(){var T;return(T=c(this.getLastAttribute()))!=null?T.terminal:void 0},m.prototype.breaksOnReturn=function(){var T;return(T=c(this.getLastAttribute()))!=null?T.breakOnReturn:void 0},m.prototype.findLineBreakInDirectionFromPosition=function(T,D){var M,W;return W=this.toString(),M=function(){switch(T){case"forward":return W.indexOf(`
`,D);case"backward":return W.slice(0,D).lastIndexOf(`
`)}}(),M!==-1?M:void 0},m.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},m.prototype.toString=function(){return this.text.toString()},m.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},m.prototype.getDirection=function(){return this.text.getDirection()},m.prototype.isRTL=function(){return this.text.isRTL()},m.prototype.getLength=function(){return this.text.getLength()},m.prototype.canBeConsolidatedWith=function(T){return!this.hasAttributes()&&!T.hasAttributes()&&this.getDirection()===T.getDirection()},m.prototype.consolidateWith=function(T){var D,M;return D=n.Text.textForStringWithAttributes(`
`),M=this.getTextWithoutBlockBreak().appendText(D),this.copyWithText(M.appendText(T.text))},m.prototype.splitAtOffset=function(T){var D,M;return T===0?(D=null,M=this):T===this.getLength()?(D=this,M=null):(D=this.copyWithText(this.text.getTextAtRange([0,T])),M=this.copyWithText(this.text.getTextAtRange([T,this.getLength()]))),[D,M]},m.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},m.prototype.getTextWithoutBlockBreak=function(){return d(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},m.prototype.canBeGrouped=function(T){return this.attributes[T]},m.prototype.canBeGroupedWith=function(T,D){var M,W,K,Z;return K=T.getAttributes(),W=K[D],M=this.attributes[D],!(M!==W||c(M).group===!1&&(Z=K[D+1],p.call(b(),Z)<0)||this.getDirection()!==T.getDirection()&&!T.isEmpty())},u=function(T){return T=k(T),T=_(T)},k=function(T){var D,M,W,K,Z,z;return K=!1,z=T.getPieces(),M=2<=z.length?C.call(z,0,D=z.length-1):(D=0,[]),W=z[D++],W==null?T:(M=function(){var G,j,F;for(F=[],G=0,j=M.length;j>G;G++)Z=M[G],Z.isBlockBreak()?(K=!0,F.push(S(Z))):F.push(Z);return F}(),K?new n.Text(C.call(M).concat([W])):T)},w=n.Text.textForStringWithAttributes(`
`,{blockBreak:!0}),_=function(T){return d(T)?T:T.appendText(w)},d=function(T){var D,M;return M=T.getLength(),M===0?!1:(D=T.getTextAtRange([M-1,M]),D.isBlockBreak())},S=function(T){return T.copyWithoutAttribute("blockBreak")},v=function(T){var D;return D=c(T).listAttribute,D!=null?[D,T]:[T]},R=function(T){return T.slice(-1)[0]},o=function(T,D){var M;return M=T.lastIndexOf(D),M===-1?T:s(T,M,1)},m}(n.Object)}.call(this),function(){var y,c,b,s=function(C,f){function m(){this.constructor=C}for(var _ in f)h.call(f,_)&&(C[_]=f[_]);return m.prototype=f.prototype,C.prototype=new m,C.__super__=f.prototype,C},h={}.hasOwnProperty,a=[].indexOf||function(C){for(var f=0,m=this.length;m>f;f++)if(f in this&&this[f]===C)return f;return-1},p=[].slice;c=n.tagName,b=n.walkTree,y=n.nodeIsAttachmentElement,n.HTMLSanitizer=function(C){function f(v,R){var o;o=R??{},this.allowedAttributes=o.allowedAttributes,this.forbiddenProtocols=o.forbiddenProtocols,this.forbiddenElements=o.forbiddenElements,this.allowedAttributes==null&&(this.allowedAttributes=m),this.forbiddenProtocols==null&&(this.forbiddenProtocols=u),this.forbiddenElements==null&&(this.forbiddenElements=_),this.body=w(v)}var m,_,u,w;return s(f,C),m="style href src width height class".split(" "),u="javascript:".split(" "),_="script iframe".split(" "),f.sanitize=function(v,R){var o;return o=new this(v,R),o.sanitize(),o},f.prototype.sanitize=function(){return this.sanitizeElements(),this.normalizeListElementNesting()},f.prototype.getHTML=function(){return this.body.innerHTML},f.prototype.getBody=function(){return this.body},f.prototype.sanitizeElements=function(){var v,R,o,d,S;for(S=b(this.body),d=[];S.nextNode();)switch(o=S.currentNode,o.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(o)?d.push(o):this.sanitizeElement(o);break;case Node.COMMENT_NODE:d.push(o)}for(v=0,R=d.length;R>v;v++)o=d[v],n.removeNode(o);return this.body},f.prototype.sanitizeElement=function(v){var R,o,d,S,k;for(v.hasAttribute("href")&&(S=v.protocol,a.call(this.forbiddenProtocols,S)>=0&&v.removeAttribute("href")),k=p.call(v.attributes),R=0,o=k.length;o>R;R++)d=k[R].name,a.call(this.allowedAttributes,d)>=0||d.indexOf("data-trix")===0||v.removeAttribute(d);return v},f.prototype.normalizeListElementNesting=function(){var v,R,o,d,S;for(S=p.call(this.body.querySelectorAll("ul,ol")),v=0,R=S.length;R>v;v++)o=S[v],(d=o.previousElementSibling)&&c(d)==="li"&&d.appendChild(o);return this.body},f.prototype.elementIsRemovable=function(v){return(v!=null?v.nodeType:void 0)===Node.ELEMENT_NODE?this.elementIsForbidden(v)||this.elementIsntSerializable(v):void 0},f.prototype.elementIsForbidden=function(v){var R;return R=c(v),a.call(this.forbiddenElements,R)>=0},f.prototype.elementIsntSerializable=function(v){return v.getAttribute("data-trix-serialize")==="false"&&!y(v)},w=function(v){var R,o,d,S,k;for(v==null&&(v=""),v=v.replace(/<\/html[^>]*>[^]*$/i,"</html>"),R=document.implementation.createHTMLDocument(""),R.documentElement.innerHTML=v,k=R.head.querySelectorAll("style"),d=0,S=k.length;S>d;d++)o=k[d],R.body.appendChild(o);return R.body},f}(n.BasicObject)}.call(this),function(){var y,c,b,s,h,a,p,C,f,m,_,u=function(R,o){function d(){this.constructor=R}for(var S in o)w.call(o,S)&&(R[S]=o[S]);return d.prototype=o.prototype,R.prototype=new d,R.__super__=o.prototype,R},w={}.hasOwnProperty,v=[].indexOf||function(R){for(var o=0,d=this.length;d>o;o++)if(o in this&&this[o]===R)return o;return-1};y=n.arraysAreEqual,a=n.makeElement,m=n.tagName,h=n.getBlockTagNames,_=n.walkTree,s=n.findClosestElementFromNode,b=n.elementContainsNode,p=n.nodeIsAttachmentElement,C=n.normalizeSpaces,c=n.breakableWhitespacePattern,f=n.squishBreakableWhitespace,n.HTMLParser=function(R){function o(F,q){this.html=F,this.referenceElement=(q??{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var d,S,k,T,D,M,W,K,Z,z,G,j;return u(o,R),o.parse=function(F,q){var X;return X=new this(F,q),X.parse(),X},o.prototype.getDocument=function(){return n.Document.fromJSON(this.blocks)},o.prototype.parse=function(){var F,q;try{for(this.createHiddenContainer(),F=n.HTMLSanitizer.sanitize(this.html).getHTML(),this.containerElement.innerHTML=F,q=_(this.containerElement,{usingFilter:W});q.nextNode();)this.processNode(q.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},o.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=a({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},o.prototype.removeHiddenContainer=function(){return n.removeNode(this.containerElement)},W=function(F){return m(F)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},o.prototype.processNode=function(F){switch(F.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(F))return this.appendBlockForTextNode(F),this.processTextNode(F);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(F),this.processElement(F)}},o.prototype.appendBlockForTextNode=function(F){var q,X,it;return X=F.parentNode,X===this.currentBlockElement&&this.isBlockElement(F.previousSibling)?this.appendStringWithAttributes(`
`):X!==this.containerElement&&!this.isBlockElement(X)||(q=this.getBlockAttributes(X),y(q,(it=this.currentBlock)!=null?it.attributes:void 0))?void 0:(this.currentBlock=this.appendBlockForAttributesWithElement(q,X),this.currentBlockElement=X)},o.prototype.appendBlockForElement=function(F){var q,X,it,mt;if(it=this.isBlockElement(F),X=b(this.currentBlockElement,F),it&&!this.isBlockElement(F.firstChild)){if((!this.isInsignificantTextNode(F.firstChild)||!this.isBlockElement(F.firstElementChild))&&(q=this.getBlockAttributes(F),F.firstChild))return X&&y(q,this.currentBlock.attributes)?this.appendStringWithAttributes(`
`):(this.currentBlock=this.appendBlockForAttributesWithElement(q,F),this.currentBlockElement=F)}else if(this.currentBlockElement&&!X&&!it)return(mt=this.findParentBlockElement(F))?this.appendBlockForElement(mt):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},o.prototype.findParentBlockElement=function(F){var q;for(q=F.parentElement;q&&q!==this.containerElement;){if(this.isBlockElement(q)&&v.call(this.blockElements,q)>=0)return q;q=q.parentElement}return null},o.prototype.processTextNode=function(F){var q,X;return X=F.data,S(F.parentNode)||(X=f(X),G((q=F.previousSibling)!=null?q.textContent:void 0)&&(X=D(X))),this.appendStringWithAttributes(X,this.getTextAttributes(F.parentNode))},o.prototype.processElement=function(F){var q,X,it,mt,wt;if(p(F))return q=K(F,"attachment"),Object.keys(q).length&&(mt=this.getTextAttributes(F),this.appendAttachmentWithAttributes(q,mt),F.innerHTML=""),this.processedElements.push(F);switch(m(F)){case"br":return this.isExtraBR(F)||this.isBlockElement(F.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(F)),this.processedElements.push(F);case"img":q={url:F.getAttribute("src"),contentType:"image"},it=T(F);for(X in it)wt=it[X],q[X]=wt;return this.appendAttachmentWithAttributes(q,this.getTextAttributes(F)),this.processedElements.push(F);case"tr":if(F.parentNode.firstChild!==F)return this.appendStringWithAttributes(`
`);break;case"td":if(F.parentNode.firstChild!==F)return this.appendStringWithAttributes(" | ")}},o.prototype.appendBlockForAttributesWithElement=function(F,q){var X;return this.blockElements.push(q),X=d(F),this.blocks.push(X),X},o.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},o.prototype.appendStringWithAttributes=function(F,q){return this.appendPiece(z(F,q))},o.prototype.appendAttachmentWithAttributes=function(F,q){return this.appendPiece(Z(F,q))},o.prototype.appendPiece=function(F){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(F)},o.prototype.appendStringToTextAtIndex=function(F,q){var X,it;return it=this.blocks[q].text,X=it[it.length-1],(X!=null?X.type:void 0)==="string"?X.string+=F:it.push(z(F))},o.prototype.prependStringToTextAtIndex=function(F,q){var X,it;return it=this.blocks[q].text,X=it[0],(X!=null?X.type:void 0)==="string"?X.string=F+X.string:it.unshift(z(F))},z=function(F,q){var X;return q==null&&(q={}),X="string",F=C(F),{string:F,attributes:q,type:X}},Z=function(F,q){var X;return q==null&&(q={}),X="attachment",{attachment:F,attributes:q,type:X}},d=function(F){var q;return F==null&&(F={}),q=[],{text:q,attributes:F}},o.prototype.getTextAttributes=function(F){var q,X,it,mt,wt,At,Pt,Ft,Ie,Mt,le,re;it={},Ie=n.config.textAttributes;for(q in Ie)if(wt=Ie[q],wt.tagName&&s(F,{matchingSelector:wt.tagName,untilNode:this.containerElement}))it[q]=!0;else if(wt.parser){if(re=wt.parser(F)){for(X=!1,Mt=this.findBlockElementAncestors(F),At=0,Ft=Mt.length;Ft>At;At++)if(mt=Mt[At],wt.parser(mt)===re){X=!0;break}X||(it[q]=re)}}else wt.styleProperty&&(re=F.style[wt.styleProperty])&&(it[q]=re);if(p(F)){le=K(F,"attributes");for(Pt in le)re=le[Pt],it[Pt]=re}return it},o.prototype.getBlockAttributes=function(F){var q,X,it,mt;for(X=[];F&&F!==this.containerElement;){mt=n.config.blockAttributes;for(q in mt)it=mt[q],it.parse!==!1&&m(F)===it.tagName&&(typeof it.test=="function"&&it.test(F)||!it.test)&&(X.push(q),it.listAttribute&&X.push(it.listAttribute));F=F.parentNode}return X.reverse()},o.prototype.findBlockElementAncestors=function(F){var q,X;for(q=[];F&&F!==this.containerElement;)X=m(F),v.call(h(),X)>=0&&q.push(F),F=F.parentNode;return q},K=function(F,q){try{return JSON.parse(F.getAttribute("data-trix-"+q))}catch{return{}}},T=function(F){var q,X,it;return it=F.getAttribute("width"),X=F.getAttribute("height"),q={},it&&(q.width=parseInt(it,10)),X&&(q.height=parseInt(X,10)),q},o.prototype.isBlockElement=function(F){var q;if((F!=null?F.nodeType:void 0)===Node.ELEMENT_NODE&&!p(F)&&!s(F,{matchingSelector:"td",untilNode:this.containerElement}))return q=m(F),v.call(h(),q)>=0||window.getComputedStyle(F).display==="block"},o.prototype.isInsignificantTextNode=function(F){var q,X,it;if((F!=null?F.nodeType:void 0)===Node.TEXT_NODE&&j(F.data)&&(X=F.parentNode,it=F.previousSibling,q=F.nextSibling,(!M(X.previousSibling)||this.isBlockElement(X.previousSibling))&&!S(X)))return!it||this.isBlockElement(it)||!q||this.isBlockElement(q)},o.prototype.isExtraBR=function(F){return m(F)==="br"&&this.isBlockElement(F.parentNode)&&F.parentNode.lastChild===F},S=function(F){var q;return q=window.getComputedStyle(F).whiteSpace,q==="pre"||q==="pre-wrap"||q==="pre-line"},M=function(F){return F&&!G(F.textContent)},o.prototype.translateBlockElementMarginsToNewlines=function(){var F,q,X,it,mt,wt,At;for(F=this.getMarginOfDefaultBlockElement(),wt=this.blocks,At=[],X=q=0,it=wt.length;it>q;X=++q)wt[X],(mt=this.getMarginOfBlockElementAtIndex(X))&&(mt.top>2*F.top&&this.prependStringToTextAtIndex(`
`,X),At.push(mt.bottom>2*F.bottom?this.appendStringToTextAtIndex(`
`,X):void 0));return At},o.prototype.getMarginOfBlockElementAtIndex=function(F){var q,X;return!(q=this.blockElements[F])||!q.textContent||(X=m(q),v.call(h(),X)>=0||v.call(this.processedElements,q)>=0)?void 0:k(q)},o.prototype.getMarginOfDefaultBlockElement=function(){var F;return F=a(n.config.blockAttributes.default.tagName),this.containerElement.appendChild(F),k(F)},k=function(F){var q;return q=window.getComputedStyle(F),q.display==="block"?{top:parseInt(q.marginTop),bottom:parseInt(q.marginBottom)}:void 0},D=function(F){return F.replace(RegExp("^"+c.source+"+"),"")},j=function(F){return RegExp("^"+c.source+"*$").test(F)},G=function(F){return/\s$/.test(F)},o}(n.BasicObject)}.call(this),function(){var y,c,b,s,h=function(f,m){function _(){this.constructor=f}for(var u in m)a.call(m,u)&&(f[u]=m[u]);return _.prototype=m.prototype,f.prototype=new _,f.__super__=m.prototype,f},a={}.hasOwnProperty,p=[].slice,C=[].indexOf||function(f){for(var m=0,_=this.length;_>m;m++)if(m in this&&this[m]===f)return m;return-1};y=n.arraysAreEqual,b=n.normalizeRange,s=n.rangeIsCollapsed,c=n.getBlockConfig,n.Document=function(f){function m(u){u==null&&(u=[]),m.__super__.constructor.apply(this,arguments),u.length===0&&(u=[new n.Block]),this.blockList=n.SplittableList.box(u)}var _;return h(m,f),m.fromJSON=function(u){var w,v;return v=function(){var R,o,d;for(d=[],R=0,o=u.length;o>R;R++)w=u[R],d.push(n.Block.fromJSON(w));return d}(),new this(v)},m.fromHTML=function(u,w){return n.HTMLParser.parse(u,w).getDocument()},m.fromString=function(u,w){var v;return v=n.Text.textForStringWithAttributes(u,w),new this([new n.Block(v)])},m.prototype.isEmpty=function(){var u;return this.blockList.length===1&&(u=this.getBlockAtIndex(0),u.isEmpty()&&!u.hasAttributes())},m.prototype.copy=function(u){var w;return u==null&&(u={}),w=u.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(w)},m.prototype.copyUsingObjectsFromDocument=function(u){var w;return w=new n.ObjectMap(u.getObjects()),this.copyUsingObjectMap(w)},m.prototype.copyUsingObjectMap=function(u){var w,v,R;return v=function(){var o,d,S,k;for(S=this.getBlocks(),k=[],o=0,d=S.length;d>o;o++)w=S[o],k.push((R=u.find(w))?R:w.copyUsingObjectMap(u));return k}.call(this),new this.constructor(v)},m.prototype.copyWithBaseBlockAttributes=function(u){var w,v,R;return u==null&&(u=[]),R=function(){var o,d,S,k;for(S=this.getBlocks(),k=[],o=0,d=S.length;d>o;o++)v=S[o],w=u.concat(v.getAttributes()),k.push(v.copyWithAttributes(w));return k}.call(this),new this.constructor(R)},m.prototype.replaceBlock=function(u,w){var v;return v=this.blockList.indexOf(u),v===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(w,v))},m.prototype.insertDocumentAtRange=function(u,w){var v,R,o,d,S,k,T;return R=u.blockList,S=(w=b(w))[0],k=this.locationFromPosition(S),o=k.index,d=k.offset,T=this,v=this.getBlockAtPosition(S),s(w)&&v.isEmpty()&&!v.hasAttributes()?T=new this.constructor(T.blockList.removeObjectAtIndex(o)):v.getBlockBreakPosition()===d&&S++,T=T.removeTextAtRange(w),new this.constructor(T.blockList.insertSplittableListAtPosition(R,S))},m.prototype.mergeDocumentAtRange=function(u,w){var v,R,o,d,S,k,T,D,M,W,K,Z;return K=(w=b(w))[0],W=this.locationFromPosition(K),R=this.getBlockAtIndex(W.index).getAttributes(),v=u.getBaseBlockAttributes(),Z=R.slice(-v.length),y(v,Z)?(T=R.slice(0,-v.length),k=u.copyWithBaseBlockAttributes(T)):k=u.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(R),o=k.getBlockCount(),d=k.getBlockAtIndex(0),y(R,d.getAttributes())?(S=d.getTextWithoutBlockBreak(),M=this.insertTextAtRange(S,w),o>1&&(k=new this.constructor(k.getBlocks().slice(1)),D=K+S.getLength(),M=M.insertDocumentAtRange(k,D))):M=this.insertDocumentAtRange(k,w),M},m.prototype.insertTextAtRange=function(u,w){var v,R,o,d,S;return S=(w=b(w))[0],d=this.locationFromPosition(S),R=d.index,o=d.offset,v=this.removeTextAtRange(w),new this.constructor(v.blockList.editObjectAtIndex(R,function(k){return k.copyWithText(k.text.insertTextAtPosition(u,o))}))},m.prototype.removeTextAtRange=function(u){var w,v,R,o,d,S,k,T,D,M,W,K,Z,z,G,j,F,q,X,it,mt;return M=u=b(u),T=M[0],q=M[1],s(u)?this:(W=this.locationRangeFromRange(u),S=W[0],j=W[1],d=S.index,k=S.offset,o=this.getBlockAtIndex(d),G=j.index,F=j.offset,z=this.getBlockAtIndex(G),K=q-T===1&&o.getBlockBreakPosition()===k&&z.getBlockBreakPosition()!==F&&z.text.getStringAtPosition(F)===`
`,K?R=this.blockList.editObjectAtIndex(G,function(wt){return wt.copyWithText(wt.text.removeTextAtRange([F,F+1]))}):(D=o.text.getTextAtRange([0,k]),X=z.text.getTextAtRange([F,z.getLength()]),it=D.appendText(X),Z=d!==G&&k===0,mt=Z&&o.getAttributeLevel()>=z.getAttributeLevel(),v=mt?z.copyWithText(it):o.copyWithText(it),w=G+1-d,R=this.blockList.splice(d,w,v)),new this.constructor(R))},m.prototype.moveTextFromRangeToPosition=function(u,w){var v,R,o,d,S,k,T,D,M,W;return k=u=b(u),M=k[0],o=k[1],w>=M&&o>=w?this:(R=this.getDocumentAtRange(u),D=this.removeTextAtRange(u),S=w>M,S&&(w-=R.getLength()),T=R.getBlocks(),d=T[0],v=2<=T.length?p.call(T,1):[],v.length===0?(W=d.getTextWithoutBlockBreak(),S&&(w+=1)):W=d.text,D=D.insertTextAtRange(W,w),v.length===0?D:(R=new this.constructor(v),w+=W.getLength(),D.insertDocumentAtRange(R,w)))},m.prototype.addAttributeAtRange=function(u,w,v){var R;return R=this.blockList,this.eachBlockAtRange(v,function(o,d,S){return R=R.editObjectAtIndex(S,function(){return c(u)?o.addAttribute(u,w):d[0]===d[1]?o:o.copyWithText(o.text.addAttributeAtRange(u,w,d))})}),new this.constructor(R)},m.prototype.addAttribute=function(u,w){var v;return v=this.blockList,this.eachBlock(function(R,o){return v=v.editObjectAtIndex(o,function(){return R.addAttribute(u,w)})}),new this.constructor(v)},m.prototype.removeAttributeAtRange=function(u,w){var v;return v=this.blockList,this.eachBlockAtRange(w,function(R,o,d){return c(u)?v=v.editObjectAtIndex(d,function(){return R.removeAttribute(u)}):o[0]!==o[1]?v=v.editObjectAtIndex(d,function(){return R.copyWithText(R.text.removeAttributeAtRange(u,o))}):void 0}),new this.constructor(v)},m.prototype.updateAttributesForAttachment=function(u,w){var v,R,o;return R=this.getRangeOfAttachment(w)[0],v=this.locationFromPosition(R).index,o=this.getTextAtIndex(v),new this.constructor(this.blockList.editObjectAtIndex(v,function(d){return d.copyWithText(o.updateAttributesForAttachment(u,w))}))},m.prototype.removeAttributeForAttachment=function(u,w){var v;return v=this.getRangeOfAttachment(w),this.removeAttributeAtRange(u,v)},m.prototype.insertBlockBreakAtRange=function(u){var w,v,R,o;return o=(u=b(u))[0],R=this.locationFromPosition(o).offset,v=this.removeTextAtRange(u),R===0&&(w=[new n.Block]),new this.constructor(v.blockList.insertSplittableListAtPosition(new n.SplittableList(w),o))},m.prototype.applyBlockAttributeAtRange=function(u,w,v){var R,o,d,S;return d=this.expandRangeToLineBreaksAndSplitBlocks(v),o=d.document,v=d.range,R=c(u),R.listAttribute?(o=o.removeLastListAttributeAtRange(v,{exceptAttributeName:u}),S=o.convertLineBreaksToBlockBreaksInRange(v),o=S.document,v=S.range):o=R.exclusive?o.removeBlockAttributesAtRange(v):R.terminal?o.removeLastTerminalAttributeAtRange(v):o.consolidateBlocksAtRange(v),o.addAttributeAtRange(u,w,v)},m.prototype.removeLastListAttributeAtRange=function(u,w){var v;return w==null&&(w={}),v=this.blockList,this.eachBlockAtRange(u,function(R,o,d){var S;if((S=R.getLastAttribute())&&c(S).listAttribute&&S!==w.exceptAttributeName)return v=v.editObjectAtIndex(d,function(){return R.removeAttribute(S)})}),new this.constructor(v)},m.prototype.removeLastTerminalAttributeAtRange=function(u){var w;return w=this.blockList,this.eachBlockAtRange(u,function(v,R,o){var d;if((d=v.getLastAttribute())&&c(d).terminal)return w=w.editObjectAtIndex(o,function(){return v.removeAttribute(d)})}),new this.constructor(w)},m.prototype.removeBlockAttributesAtRange=function(u){var w;return w=this.blockList,this.eachBlockAtRange(u,function(v,R,o){return v.hasAttributes()?w=w.editObjectAtIndex(o,function(){return v.copyWithoutAttributes()}):void 0}),new this.constructor(w)},m.prototype.expandRangeToLineBreaksAndSplitBlocks=function(u){var w,v,R,o,d,S,k,T,D;return S=u=b(u),D=S[0],o=S[1],T=this.locationFromPosition(D),R=this.locationFromPosition(o),w=this,k=w.getBlockAtIndex(T.index),(T.offset=k.findLineBreakInDirectionFromPosition("backward",T.offset))!=null&&(d=w.positionFromLocation(T),w=w.insertBlockBreakAtRange([d,d+1]),R.index+=1,R.offset-=w.getBlockAtIndex(T.index).getLength(),T.index+=1),T.offset=0,R.offset===0&&R.index>T.index?(R.index-=1,R.offset=w.getBlockAtIndex(R.index).getBlockBreakPosition()):(v=w.getBlockAtIndex(R.index),v.text.getStringAtRange([R.offset-1,R.offset])===`
`?R.offset-=1:R.offset=v.findLineBreakInDirectionFromPosition("forward",R.offset),R.offset!==v.getBlockBreakPosition()&&(d=w.positionFromLocation(R),w=w.insertBlockBreakAtRange([d,d+1]))),D=w.positionFromLocation(T),o=w.positionFromLocation(R),u=b([D,o]),{document:w,range:u}},m.prototype.convertLineBreaksToBlockBreaksInRange=function(u){var w,v,R;return v=(u=b(u))[0],R=this.getStringAtRange(u).slice(0,-1),w=this,R.replace(/.*?\n/g,function(o){return v+=o.length,w=w.insertBlockBreakAtRange([v-1,v])}),{document:w,range:u}},m.prototype.consolidateBlocksAtRange=function(u){var w,v,R,o,d;return R=u=b(u),d=R[0],v=R[1],o=this.locationFromPosition(d).index,w=this.locationFromPosition(v).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(o,w))},m.prototype.getDocumentAtRange=function(u){var w;return u=b(u),w=this.blockList.getSplittableListInRange(u).toArray(),new this.constructor(w)},m.prototype.getStringAtRange=function(u){var w,v,R;return R=u=b(u),v=R[R.length-1],v!==this.getLength()&&(w=-1),this.getDocumentAtRange(u).toString().slice(0,w)},m.prototype.getBlockAtIndex=function(u){return this.blockList.getObjectAtIndex(u)},m.prototype.getBlockAtPosition=function(u){var w;return w=this.locationFromPosition(u).index,this.getBlockAtIndex(w)},m.prototype.getTextAtIndex=function(u){var w;return(w=this.getBlockAtIndex(u))!=null?w.text:void 0},m.prototype.getTextAtPosition=function(u){var w;return w=this.locationFromPosition(u).index,this.getTextAtIndex(w)},m.prototype.getPieceAtPosition=function(u){var w,v,R;return R=this.locationFromPosition(u),w=R.index,v=R.offset,this.getTextAtIndex(w).getPieceAtPosition(v)},m.prototype.getCharacterAtPosition=function(u){var w,v,R;return R=this.locationFromPosition(u),w=R.index,v=R.offset,this.getTextAtIndex(w).getStringAtRange([v,v+1])},m.prototype.getLength=function(){return this.blockList.getEndPosition()},m.prototype.getBlocks=function(){return this.blockList.toArray()},m.prototype.getBlockCount=function(){return this.blockList.length},m.prototype.getEditCount=function(){return this.editCount},m.prototype.eachBlock=function(u){return this.blockList.eachObject(u)},m.prototype.eachBlockAtRange=function(u,w){var v,R,o,d,S,k,T,D,M,W,K,Z;if(k=u=b(u),K=k[0],o=k[1],W=this.locationFromPosition(K),R=this.locationFromPosition(o),W.index===R.index)return v=this.getBlockAtIndex(W.index),Z=[W.offset,R.offset],w(v,Z,W.index);for(M=[],S=d=T=W.index,D=R.index;D>=T?D>=d:d>=D;S=D>=T?++d:--d)(v=this.getBlockAtIndex(S))?(Z=function(){switch(S){case W.index:return[W.offset,v.text.getLength()];case R.index:return[0,R.offset];default:return[0,v.text.getLength()]}}(),M.push(w(v,Z,S))):M.push(void 0);return M},m.prototype.getCommonAttributesAtRange=function(u){var w,v,R;return v=(u=b(u))[0],s(u)?this.getCommonAttributesAtPosition(v):(R=[],w=[],this.eachBlockAtRange(u,function(o,d){return d[0]!==d[1]?(R.push(o.text.getCommonAttributesAtRange(d)),w.push(_(o))):void 0}),n.Hash.fromCommonAttributesOfObjects(R).merge(n.Hash.fromCommonAttributesOfObjects(w)).toObject())},m.prototype.getCommonAttributesAtPosition=function(u){var w,v,R,o,d,S,k,T,D,M;if(D=this.locationFromPosition(u),d=D.index,T=D.offset,R=this.getBlockAtIndex(d),!R)return{};o=_(R),w=R.text.getAttributesAtPosition(T),v=R.text.getAttributesAtPosition(T-1),S=function(){var W,K;W=n.config.textAttributes,K=[];for(k in W)M=W[k],M.inheritable&&K.push(k);return K}();for(k in v)M=v[k],(M===w[k]||C.call(S,k)>=0)&&(o[k]=M);return o},m.prototype.getRangeOfCommonAttributeAtPosition=function(u,w){var v,R,o,d,S,k,T,D,M;return S=this.locationFromPosition(w),o=S.index,d=S.offset,M=this.getTextAtIndex(o),k=M.getExpandedRangeForAttributeAtOffset(u,d),D=k[0],R=k[1],T=this.positionFromLocation({index:o,offset:D}),v=this.positionFromLocation({index:o,offset:R}),b([T,v])},m.prototype.getBaseBlockAttributes=function(){var u,w,v,R,o,d,S;for(u=this.getBlockAtIndex(0).getAttributes(),v=R=1,S=this.getBlockCount();S>=1?S>R:R>S;v=S>=1?++R:--R)w=this.getBlockAtIndex(v).getAttributes(),d=Math.min(u.length,w.length),u=function(){var k,T,D;for(D=[],o=k=0,T=d;(T>=0?T>k:k>T)&&w[o]===u[o];o=T>=0?++k:--k)D.push(w[o]);return D}();return u},_=function(u){var w,v;return v={},(w=u.getLastAttribute())&&(v[w]=!0),v},m.prototype.getAttachmentById=function(u){var w,v,R,o;for(o=this.getAttachments(),v=0,R=o.length;R>v;v++)if(w=o[v],w.id===u)return w},m.prototype.getAttachmentPieces=function(){var u;return u=[],this.blockList.eachObject(function(w){var v;return v=w.text,u=u.concat(v.getAttachmentPieces())}),u},m.prototype.getAttachments=function(){var u,w,v,R,o;for(R=this.getAttachmentPieces(),o=[],u=0,w=R.length;w>u;u++)v=R[u],o.push(v.attachment);return o},m.prototype.getRangeOfAttachment=function(u){var w,v,R,o,d,S,k;for(o=0,d=this.blockList.toArray(),v=w=0,R=d.length;R>w;v=++w){if(S=d[v].text,k=S.getRangeOfAttachment(u))return b([o+k[0],o+k[1]]);o+=S.getLength()}},m.prototype.getLocationRangeOfAttachment=function(u){var w;return w=this.getRangeOfAttachment(u),this.locationRangeFromRange(w)},m.prototype.getAttachmentPieceForAttachment=function(u){var w,v,R,o;for(o=this.getAttachmentPieces(),w=0,v=o.length;v>w;w++)if(R=o[w],R.attachment===u)return R},m.prototype.findRangesForBlockAttribute=function(u){var w,v,R,o,d,S,k;for(d=0,S=[],k=this.getBlocks(),v=0,R=k.length;R>v;v++)w=k[v],o=w.getLength(),w.hasAttribute(u)&&S.push([d,d+o]),d+=o;return S},m.prototype.findRangesForTextAttribute=function(u,w){var v,R,o,d,S,k,T,D,M,W;for(W=(w??{}).withValue,k=0,T=[],D=[],d=function(K){return W!=null?K.getAttribute(u)===W:K.hasAttribute(u)},M=this.getPieces(),v=0,R=M.length;R>v;v++)S=M[v],o=S.getLength(),d(S)&&(T[1]===k?T[1]=k+o:D.push(T=[k,k+o])),k+=o;return D},m.prototype.locationFromPosition=function(u){var w,v;return v=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,u)),v.index!=null?v:(w=this.getBlocks(),{index:w.length-1,offset:w[w.length-1].getLength()})},m.prototype.positionFromLocation=function(u){return this.blockList.findPositionAtIndexAndOffset(u.index,u.offset)},m.prototype.locationRangeFromPosition=function(u){return b(this.locationFromPosition(u))},m.prototype.locationRangeFromRange=function(u){var w,v,R,o;if(u=b(u))return o=u[0],v=u[1],R=this.locationFromPosition(o),w=this.locationFromPosition(v),b([R,w])},m.prototype.rangeFromLocationRange=function(u){var w,v;return u=b(u),w=this.positionFromLocation(u[0]),s(u)||(v=this.positionFromLocation(u[1])),b([w,v])},m.prototype.isEqualTo=function(u){return this.blockList.isEqualTo(u!=null?u.blockList:void 0)},m.prototype.getTexts=function(){var u,w,v,R,o;for(R=this.getBlocks(),o=[],w=0,v=R.length;v>w;w++)u=R[w],o.push(u.text);return o},m.prototype.getPieces=function(){var u,w,v,R,o;for(v=[],R=this.getTexts(),u=0,w=R.length;w>u;u++)o=R[u],v.push.apply(v,o.getPieces());return v},m.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},m.prototype.toSerializableDocument=function(){var u;return u=[],this.blockList.eachObject(function(w){return u.push(w.copyWithText(w.text.toSerializableText()))}),new this.constructor(u)},m.prototype.toString=function(){return this.blockList.toString()},m.prototype.toJSON=function(){return this.blockList.toJSON()},m.prototype.toConsole=function(){var u;return JSON.stringify(function(){var w,v,R,o;for(R=this.blockList.toArray(),o=[],w=0,v=R.length;v>w;w++)u=R[w],o.push(JSON.parse(u.text.toConsole()));return o}.call(this))},m}(n.Object)}.call(this),function(){n.LineBreakInsertion=function(){function y(c){var b;this.composition=c,this.document=this.composition.document,b=this.composition.getSelectedRange(),this.startPosition=b[0],this.endPosition=b[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return y.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`},y.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)},y.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},y.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()},y.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},y}()}.call(this),function(){var y,c,b,s,h,a,p,C,f,m,_=function(w,v){function R(){this.constructor=w}for(var o in v)u.call(v,o)&&(w[o]=v[o]);return R.prototype=v.prototype,w.prototype=new R,w.__super__=v.prototype,w},u={}.hasOwnProperty;a=n.normalizeRange,f=n.rangesAreEqual,C=n.rangeIsCollapsed,p=n.objectsAreEqual,y=n.arrayStartsWith,m=n.summarizeArrayChange,b=n.getAllAttributeNames,s=n.getBlockConfig,h=n.getTextConfig,c=n.extend,n.Composition=function(w){function v(){this.document=new n.Document,this.attachments=[],this.currentAttributes={},this.revision=0}var R;return _(v,w),v.prototype.setDocument=function(o){var d;return o.isEqualTo(this.document)?void 0:(this.document=o,this.refreshAttachments(),this.revision++,(d=this.delegate)!=null&&typeof d.compositionDidChangeDocument=="function"?d.compositionDidChangeDocument(o):void 0)},v.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},v.prototype.loadSnapshot=function(o){var d,S,k,T;return d=o.document,T=o.selectedRange,(S=this.delegate)!=null&&typeof S.compositionWillLoadSnapshot=="function"&&S.compositionWillLoadSnapshot(),this.setDocument(d??new n.Document),this.setSelection(T??[0,0]),(k=this.delegate)!=null&&typeof k.compositionDidLoadSnapshot=="function"?k.compositionDidLoadSnapshot():void 0},v.prototype.insertText=function(o,d){var S,k,T,D;return D=(d??{updatePosition:!0}).updatePosition,k=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(o,k)),T=k[0],S=T+o.getLength(),D&&this.setSelection(S),this.notifyDelegateOfInsertionAtRange([T,S])},v.prototype.insertBlock=function(o){var d;return o==null&&(o=new n.Block),d=new n.Document([o]),this.insertDocument(d)},v.prototype.insertDocument=function(o){var d,S,k;return o==null&&(o=new n.Document),S=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(o,S)),k=S[0],d=k+o.getLength(),this.setSelection(d),this.notifyDelegateOfInsertionAtRange([k,d])},v.prototype.insertString=function(o,d){var S,k;return S=this.getCurrentTextAttributes(),k=n.Text.textForStringWithAttributes(o,S),this.insertText(k,d)},v.prototype.insertBlockBreak=function(){var o,d,S;return d=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(d)),S=d[0],o=S+1,this.setSelection(o),this.notifyDelegateOfInsertionAtRange([S,o])},v.prototype.insertLineBreak=function(){var o,d;return d=new n.LineBreakInsertion(this),d.shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(d.startPosition)):d.shouldPrependListItem()?(o=new n.Document([d.block.copyWithoutText()]),this.insertDocument(o)):d.shouldInsertBlockBreak()?this.insertBlockBreak():d.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():d.shouldBreakFormattedBlock()?this.breakFormattedBlock(d):this.insertString(`
`)},v.prototype.insertHTML=function(o){var d,S,k,T;return d=n.Document.fromHTML(o),k=this.getSelectedRange(),this.setDocument(this.document.mergeDocumentAtRange(d,k)),T=k[0],S=T+d.getLength()-1,this.setSelection(S),this.notifyDelegateOfInsertionAtRange([T,S])},v.prototype.replaceHTML=function(o){var d,S,k;return d=n.Document.fromHTML(o).copyUsingObjectsFromDocument(this.document),S=this.getLocationRange({strict:!1}),k=this.document.rangeFromLocationRange(S),this.setDocument(d),this.setSelection(k)},v.prototype.insertFile=function(o){return this.insertFiles([o])},v.prototype.insertFiles=function(o){var d,S,k,T,D,M;for(S=[],T=0,D=o.length;D>T;T++)k=o[T],(M=this.delegate)!=null&&M.compositionShouldAcceptFile(k)&&(d=n.Attachment.attachmentForFile(k),S.push(d));return this.insertAttachments(S)},v.prototype.insertAttachment=function(o){return this.insertAttachments([o])},v.prototype.insertAttachments=function(o){var d,S,k,T,D,M,W,K,Z;for(K=new n.Text,T=0,D=o.length;D>T;T++)d=o[T],Z=d.getType(),M=(W=n.config.attachments[Z])!=null?W.presentation:void 0,k=this.getCurrentTextAttributes(),M&&(k.presentation=M),S=n.Text.textForAttachmentWithAttributes(d,k),K=K.appendText(S);return this.insertText(K)},v.prototype.shouldManageDeletingInDirection=function(o){var d;if(d=this.getLocationRange(),C(d)){if(o==="backward"&&d[0].offset===0||this.shouldManageMovingCursorInDirection(o))return!0}else if(d[0].index!==d[1].index)return!0;return!1},v.prototype.deleteInDirection=function(o,d){var S,k,T,D,M,W,K,Z;return D=(d??{}).length,M=this.getLocationRange(),W=this.getSelectedRange(),K=C(W),K?T=o==="backward"&&M[0].offset===0:Z=M[0].index!==M[1].index,T&&this.canDecreaseBlockAttributeLevel()&&(k=this.getBlock(),k.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(W[0]),k.isEmpty())?!1:(K&&(W=this.getExpandedRangeInDirection(o,{length:D}),o==="backward"&&(S=this.getAttachmentAtRange(W))),S?(this.editAttachment(S),!1):(this.setDocument(this.document.removeTextAtRange(W)),this.setSelection(W[0]),T||Z?!1:void 0))},v.prototype.moveTextFromRange=function(o){var d;return d=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(o,d)),this.setSelection(d)},v.prototype.removeAttachment=function(o){var d;return(d=this.document.getRangeOfAttachment(o))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(d)),this.setSelection(d[0])):void 0},v.prototype.removeLastBlockAttribute=function(){var o,d,S,k;return S=this.getSelectedRange(),k=S[0],d=S[1],o=this.document.getBlockAtPosition(d),this.removeCurrentAttribute(o.getLastAttribute()),this.setSelection(k)},R=" ",v.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(R)},v.prototype.selectPlaceholder=function(){return this.placeholderPosition!=null?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+R.length]),this.getSelectedRange()):void 0},v.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},v.prototype.hasCurrentAttribute=function(o){var d;return d=this.currentAttributes[o],d!=null&&d!==!1},v.prototype.toggleCurrentAttribute=function(o){var d;return(d=!this.currentAttributes[o])?this.setCurrentAttribute(o,d):this.removeCurrentAttribute(o)},v.prototype.canSetCurrentAttribute=function(o){return s(o)?this.canSetCurrentBlockAttribute(o):this.canSetCurrentTextAttribute(o)},v.prototype.canSetCurrentTextAttribute=function(){var o,d,S,k,T;if(d=this.getSelectedDocument()){for(T=d.getAttachments(),S=0,k=T.length;k>S;S++)if(o=T[S],!o.hasContent())return!1;return!0}},v.prototype.canSetCurrentBlockAttribute=function(){var o;if(o=this.getBlock())return!o.isTerminalBlock()},v.prototype.setCurrentAttribute=function(o,d){return s(o)?this.setBlockAttribute(o,d):(this.setTextAttribute(o,d),this.currentAttributes[o]=d,this.notifyDelegateOfCurrentAttributesChange())},v.prototype.setTextAttribute=function(o,d){var S,k,T,D;if(k=this.getSelectedRange())return T=k[0],S=k[1],T!==S?this.setDocument(this.document.addAttributeAtRange(o,d,k)):o==="href"?(D=n.Text.textForStringWithAttributes(d,{href:d}),this.insertText(D)):void 0},v.prototype.setBlockAttribute=function(o,d){var S;if(S=this.getSelectedRange())return this.canSetCurrentAttribute(o)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(o,d,S)),this.setSelection(S)):void 0},v.prototype.removeCurrentAttribute=function(o){return s(o)?(this.removeBlockAttribute(o),this.updateCurrentAttributes()):(this.removeTextAttribute(o),delete this.currentAttributes[o],this.notifyDelegateOfCurrentAttributesChange())},v.prototype.removeTextAttribute=function(o){var d;if(d=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(o,d))},v.prototype.removeBlockAttribute=function(o){var d;if(d=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(o,d))},v.prototype.canDecreaseNestingLevel=function(){var o;return((o=this.getBlock())!=null?o.getNestingLevel():void 0)>0},v.prototype.canIncreaseNestingLevel=function(){var o,d,S;if(o=this.getBlock())return(S=s(o.getLastNestableAttribute()))!=null&&S.listAttribute?(d=this.getPreviousBlock())?y(d.getListItemAttributes(),o.getListItemAttributes()):void 0:o.getNestingLevel()>0},v.prototype.decreaseNestingLevel=function(){var o;if(o=this.getBlock())return this.setDocument(this.document.replaceBlock(o,o.decreaseNestingLevel()))},v.prototype.increaseNestingLevel=function(){var o;if(o=this.getBlock())return this.setDocument(this.document.replaceBlock(o,o.increaseNestingLevel()))},v.prototype.canDecreaseBlockAttributeLevel=function(){var o;return((o=this.getBlock())!=null?o.getAttributeLevel():void 0)>0},v.prototype.decreaseBlockAttributeLevel=function(){var o,d;return(o=(d=this.getBlock())!=null?d.getLastAttribute():void 0)?this.removeCurrentAttribute(o):void 0},v.prototype.decreaseListLevel=function(){var o,d,S,k,T,D;for(D=this.getSelectedRange()[0],T=this.document.locationFromPosition(D).index,S=T,o=this.getBlock().getAttributeLevel();(d=this.document.getBlockAtIndex(S+1))&&d.isListItem()&&d.getAttributeLevel()>o;)S++;return D=this.document.positionFromLocation({index:T,offset:0}),k=this.document.positionFromLocation({index:S,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([D,k]))},v.prototype.updateCurrentAttributes=function(){var o,d,S,k,T,D;if(D=this.getSelectedRange({ignoreLock:!0})){for(d=this.document.getCommonAttributesAtRange(D),T=b(),S=0,k=T.length;k>S;S++)o=T[S],d[o]||this.canSetCurrentAttribute(o)||(d[o]=!1);if(!p(d,this.currentAttributes))return this.currentAttributes=d,this.notifyDelegateOfCurrentAttributesChange()}},v.prototype.getCurrentAttributes=function(){return c.call({},this.currentAttributes)},v.prototype.getCurrentTextAttributes=function(){var o,d,S,k;o={},S=this.currentAttributes;for(d in S)k=S[d],k!==!1&&h(d)&&(o[d]=k);return o},v.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},v.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},v.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},v.proxyMethod("getSelectionManager().getPointRange"),v.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),v.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),v.proxyMethod("getSelectionManager().locationIsCursorTarget"),v.proxyMethod("getSelectionManager().selectionIsExpanded"),v.proxyMethod("delegate?.getSelectionManager"),v.prototype.setSelection=function(o){var d,S;return d=this.document.locationRangeFromRange(o),(S=this.delegate)!=null?S.compositionDidRequestChangingSelectionToLocationRange(d):void 0},v.prototype.getSelectedRange=function(){var o;return(o=this.getLocationRange())?this.document.rangeFromLocationRange(o):void 0},v.prototype.setSelectedRange=function(o){var d;return d=this.document.locationRangeFromRange(o),this.getSelectionManager().setLocationRange(d)},v.prototype.getPosition=function(){var o;return(o=this.getLocationRange())?this.document.positionFromLocation(o[0]):void 0},v.prototype.getLocationRange=function(o){var d,S;return(d=(S=this.targetLocationRange)!=null?S:this.getSelectionManager().getLocationRange(o))!=null?d:a({index:0,offset:0})},v.prototype.withTargetLocationRange=function(o,d){var S;this.targetLocationRange=o;try{S=d()}finally{this.targetLocationRange=null}return S},v.prototype.withTargetRange=function(o,d){var S;return S=this.document.locationRangeFromRange(o),this.withTargetLocationRange(S,d)},v.prototype.withTargetDOMRange=function(o,d){var S;return S=this.createLocationRangeFromDOMRange(o,{strict:!1}),this.withTargetLocationRange(S,d)},v.prototype.getExpandedRangeInDirection=function(o,d){var S,k,T,D;return k=(d??{}).length,T=this.getSelectedRange(),D=T[0],S=T[1],o==="backward"?k?D-=k:D=this.translateUTF16PositionFromOffset(D,-1):k?S+=k:S=this.translateUTF16PositionFromOffset(S,1),a([D,S])},v.prototype.shouldManageMovingCursorInDirection=function(o){var d;return this.editingAttachment?!0:(d=this.getExpandedRangeInDirection(o),this.getAttachmentAtRange(d)!=null)},v.prototype.moveCursorInDirection=function(o){var d,S,k,T;return this.editingAttachment?k=this.document.getRangeOfAttachment(this.editingAttachment):(T=this.getSelectedRange(),k=this.getExpandedRangeInDirection(o),S=!f(T,k)),this.setSelectedRange(o==="backward"?k[0]:k[1]),S&&(d=this.getAttachmentAtRange(k))?this.editAttachment(d):void 0},v.prototype.expandSelectionInDirection=function(o,d){var S,k;return S=(d??{}).length,k=this.getExpandedRangeInDirection(o,{length:S}),this.setSelectedRange(k)},v.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},v.prototype.expandSelectionAroundCommonAttribute=function(o){var d,S;return d=this.getPosition(),S=this.document.getRangeOfCommonAttributeAtPosition(o,d),this.setSelectedRange(S)},v.prototype.selectionContainsAttachments=function(){var o;return((o=this.getSelectedAttachments())!=null?o.length:void 0)>0},v.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},v.prototype.positionIsCursorTarget=function(o){var d;return(d=this.document.locationFromPosition(o))?this.locationIsCursorTarget(d):void 0},v.prototype.positionIsBlockBreak=function(o){var d;return(d=this.document.getPieceAtPosition(o))!=null?d.isBlockBreak():void 0},v.prototype.getSelectedDocument=function(){var o;return(o=this.getSelectedRange())?this.document.getDocumentAtRange(o):void 0},v.prototype.getSelectedAttachments=function(){var o;return(o=this.getSelectedDocument())!=null?o.getAttachments():void 0},v.prototype.getAttachments=function(){return this.attachments.slice(0)},v.prototype.refreshAttachments=function(){var o,d,S,k,T,D,M,W,K,Z,z,G;for(S=this.document.getAttachments(),W=m(this.attachments,S),o=W.added,z=W.removed,this.attachments=S,k=0,D=z.length;D>k;k++)d=z[k],d.delegate=null,(K=this.delegate)!=null&&typeof K.compositionDidRemoveAttachment=="function"&&K.compositionDidRemoveAttachment(d);for(G=[],T=0,M=o.length;M>T;T++)d=o[T],d.delegate=this,G.push((Z=this.delegate)!=null&&typeof Z.compositionDidAddAttachment=="function"?Z.compositionDidAddAttachment(d):void 0);return G},v.prototype.attachmentDidChangeAttributes=function(o){var d;return this.revision++,(d=this.delegate)!=null&&typeof d.compositionDidEditAttachment=="function"?d.compositionDidEditAttachment(o):void 0},v.prototype.attachmentDidChangePreviewURL=function(o){var d;return this.revision++,(d=this.delegate)!=null&&typeof d.compositionDidChangeAttachmentPreviewURL=="function"?d.compositionDidChangeAttachmentPreviewURL(o):void 0},v.prototype.editAttachment=function(o,d){var S;if(o!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=o,(S=this.delegate)!=null&&typeof S.compositionDidStartEditingAttachment=="function"?S.compositionDidStartEditingAttachment(this.editingAttachment,d):void 0},v.prototype.stopEditingAttachment=function(){var o;if(this.editingAttachment)return(o=this.delegate)!=null&&typeof o.compositionDidStopEditingAttachment=="function"&&o.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},v.prototype.updateAttributesForAttachment=function(o,d){return this.setDocument(this.document.updateAttributesForAttachment(o,d))},v.prototype.removeAttributeForAttachment=function(o,d){return this.setDocument(this.document.removeAttributeForAttachment(o,d))},v.prototype.breakFormattedBlock=function(o){var d,S,k,T,D;return S=o.document,d=o.block,T=o.startPosition,D=[T-1,T],d.getBlockBreakPosition()===o.startLocation.offset?(d.breaksOnReturn()&&o.nextCharacter===`
`?T+=1:S=S.removeTextAtRange(D),D=[T,T]):o.nextCharacter===`
`?o.previousCharacter===`
`?D=[T-1,T+1]:(D=[T,T+1],T+=1):o.startLocation.offset-1!==0&&(T+=1),k=new n.Document([d.removeLastAttribute().copyWithoutText()]),this.setDocument(S.insertDocumentAtRange(k,D)),this.setSelection(T)},v.prototype.getPreviousBlock=function(){var o,d;return(d=this.getLocationRange())&&(o=d[0].index,o>0)?this.document.getBlockAtIndex(o-1):void 0},v.prototype.getBlock=function(){var o;return(o=this.getLocationRange())?this.document.getBlockAtIndex(o[0].index):void 0},v.prototype.getAttachmentAtRange=function(o){var d;return d=this.document.getDocumentAtRange(o),d.toString()===n.OBJECT_REPLACEMENT_CHARACTER+`
`?d.getAttachments()[0]:void 0},v.prototype.notifyDelegateOfCurrentAttributesChange=function(){var o;return(o=this.delegate)!=null&&typeof o.compositionDidChangeCurrentAttributes=="function"?o.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},v.prototype.notifyDelegateOfInsertionAtRange=function(o){var d;return(d=this.delegate)!=null&&typeof d.compositionDidPerformInsertionAtRange=="function"?d.compositionDidPerformInsertionAtRange(o):void 0},v.prototype.translateUTF16PositionFromOffset=function(o,d){var S,k;return k=this.document.toUTF16String(),S=k.offsetFromUCS2Offset(o),k.offsetToUCS2Offset(S+d)},v}(n.BasicObject)}.call(this),function(){var y=function(b,s){function h(){this.constructor=b}for(var a in s)c.call(s,a)&&(b[a]=s[a]);return h.prototype=s.prototype,b.prototype=new h,b.__super__=s.prototype,b},c={}.hasOwnProperty;n.UndoManager=function(b){function s(a){this.composition=a,this.undoEntries=[],this.redoEntries=[]}var h;return y(s,b),s.prototype.recordUndoEntry=function(a,p){var C,f,m,_,u;return _=p??{},f=_.context,C=_.consolidatable,m=this.undoEntries.slice(-1)[0],C&&h(m,a,f)?void 0:(u=this.createEntry({description:a,context:f}),this.undoEntries.push(u),this.redoEntries=[])},s.prototype.undo=function(){var a,p;return(p=this.undoEntries.pop())?(a=this.createEntry(p),this.redoEntries.push(a),this.composition.loadSnapshot(p.snapshot)):void 0},s.prototype.redo=function(){var a,p;return(a=this.redoEntries.pop())?(p=this.createEntry(a),this.undoEntries.push(p),this.composition.loadSnapshot(a.snapshot)):void 0},s.prototype.canUndo=function(){return this.undoEntries.length>0},s.prototype.canRedo=function(){return this.redoEntries.length>0},s.prototype.createEntry=function(a){var p,C,f;return f=a??{},C=f.description,p=f.context,{description:C!=null?C.toString():void 0,context:JSON.stringify(p),snapshot:this.composition.getSnapshot()}},h=function(a,p,C){return(a!=null?a.description:void 0)===(p!=null?p.toString():void 0)&&(a!=null?a.context:void 0)===JSON.stringify(C)},s}(n.BasicObject)}.call(this),function(){var y;n.attachmentGalleryFilter=function(c){var b;return b=new y(c),b.perform(),b.getSnapshot()},y=function(){function c(a){this.document=a.document,this.selectedRange=a.selectedRange}var b,s,h;return b="attachmentGallery",s="presentation",h="gallery",c.prototype.perform=function(){return this.removeBlockAttribute(),this.applyBlockAttribute()},c.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.selectedRange}},c.prototype.removeBlockAttribute=function(){var a,p,C,f,m;for(f=this.findRangesOfBlocks(),m=[],a=0,p=f.length;p>a;a++)C=f[a],m.push(this.document=this.document.removeAttributeAtRange(b,C));return m},c.prototype.applyBlockAttribute=function(){var a,p,C,f,m,_;for(C=0,m=this.findRangesOfPieces(),_=[],a=0,p=m.length;p>a;a++)f=m[a],f[1]-f[0]>1&&(f[0]+=C,f[1]+=C,this.document.getCharacterAtPosition(f[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(f[1]),f[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),f[1]++,C++),f[0]!==0&&this.document.getCharacterAtPosition(f[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(f[0]),f[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),f[0]++,C++),_.push(this.document=this.document.applyBlockAttributeAtRange(b,!0,f)));return _},c.prototype.findRangesOfBlocks=function(){return this.document.findRangesForBlockAttribute(b)},c.prototype.findRangesOfPieces=function(){return this.document.findRangesForTextAttribute(s,{withValue:h})},c.prototype.moveSelectedRangeForward=function(){return this.selectedRange[0]+=1,this.selectedRange[1]+=1},c}()}.call(this),function(){var y=function(c,b){return function(){return c.apply(b,arguments)}};n.Editor=function(){function c(s,h,a){this.composition=s,this.selectionManager=h,this.element=a,this.insertFiles=y(this.insertFiles,this),this.undoManager=new n.UndoManager(this.composition),this.filters=b.slice(0)}var b;return b=[n.attachmentGalleryFilter],c.prototype.loadDocument=function(s){return this.loadSnapshot({document:s,selectedRange:[0,0]})},c.prototype.loadHTML=function(s){return s==null&&(s=""),this.loadDocument(n.Document.fromHTML(s,{referenceElement:this.element}))},c.prototype.loadJSON=function(s){var h,a;return h=s.document,a=s.selectedRange,h=n.Document.fromJSON(h),this.loadSnapshot({document:h,selectedRange:a})},c.prototype.loadSnapshot=function(s){return this.undoManager=new n.UndoManager(this.composition),this.composition.loadSnapshot(s)},c.prototype.getDocument=function(){return this.composition.document},c.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},c.prototype.getSnapshot=function(){return this.composition.getSnapshot()},c.prototype.toJSON=function(){return this.getSnapshot()},c.prototype.deleteInDirection=function(s){return this.composition.deleteInDirection(s)},c.prototype.insertAttachment=function(s){return this.composition.insertAttachment(s)},c.prototype.insertAttachments=function(s){return this.composition.insertAttachments(s)},c.prototype.insertDocument=function(s){return this.composition.insertDocument(s)},c.prototype.insertFile=function(s){return this.composition.insertFile(s)},c.prototype.insertFiles=function(s){return this.composition.insertFiles(s)},c.prototype.insertHTML=function(s){return this.composition.insertHTML(s)},c.prototype.insertString=function(s){return this.composition.insertString(s)},c.prototype.insertText=function(s){return this.composition.insertText(s)},c.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},c.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},c.prototype.getPosition=function(){return this.composition.getPosition()},c.prototype.getClientRectAtPosition=function(s){var h;return h=this.getDocument().locationRangeFromRange([s,s+1]),this.selectionManager.getClientRectAtLocationRange(h)},c.prototype.expandSelectionInDirection=function(s){return this.composition.expandSelectionInDirection(s)},c.prototype.moveCursorInDirection=function(s){return this.composition.moveCursorInDirection(s)},c.prototype.setSelectedRange=function(s){return this.composition.setSelectedRange(s)},c.prototype.activateAttribute=function(s,h){return h==null&&(h=!0),this.composition.setCurrentAttribute(s,h)},c.prototype.attributeIsActive=function(s){return this.composition.hasCurrentAttribute(s)},c.prototype.canActivateAttribute=function(s){return this.composition.canSetCurrentAttribute(s)},c.prototype.deactivateAttribute=function(s){return this.composition.removeCurrentAttribute(s)},c.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},c.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},c.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},c.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},c.prototype.canRedo=function(){return this.undoManager.canRedo()},c.prototype.canUndo=function(){return this.undoManager.canUndo()},c.prototype.recordUndoEntry=function(s,h){var a,p,C;return C=h??{},p=C.context,a=C.consolidatable,this.undoManager.recordUndoEntry(s,{context:p,consolidatable:a})},c.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},c.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},c}()}.call(this),function(){var y=function(b,s){function h(){this.constructor=b}for(var a in s)c.call(s,a)&&(b[a]=s[a]);return h.prototype=s.prototype,b.prototype=new h,b.__super__=s.prototype,b},c={}.hasOwnProperty;n.ManagedAttachment=function(b){function s(h,a){var p;this.attachmentManager=h,this.attachment=a,p=this.attachment,this.id=p.id,this.file=p.file}return y(s,b),s.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},s.proxyMethod("attachment.getAttribute"),s.proxyMethod("attachment.hasAttribute"),s.proxyMethod("attachment.setAttribute"),s.proxyMethod("attachment.getAttributes"),s.proxyMethod("attachment.setAttributes"),s.proxyMethod("attachment.isPending"),s.proxyMethod("attachment.isPreviewable"),s.proxyMethod("attachment.getURL"),s.proxyMethod("attachment.getHref"),s.proxyMethod("attachment.getFilename"),s.proxyMethod("attachment.getFilesize"),s.proxyMethod("attachment.getFormattedFilesize"),s.proxyMethod("attachment.getExtension"),s.proxyMethod("attachment.getContentType"),s.proxyMethod("attachment.getFile"),s.proxyMethod("attachment.setFile"),s.proxyMethod("attachment.releaseFile"),s.proxyMethod("attachment.getUploadProgress"),s.proxyMethod("attachment.setUploadProgress"),s}(n.BasicObject)}.call(this),function(){var y=function(b,s){function h(){this.constructor=b}for(var a in s)c.call(s,a)&&(b[a]=s[a]);return h.prototype=s.prototype,b.prototype=new h,b.__super__=s.prototype,b},c={}.hasOwnProperty;n.AttachmentManager=function(b){function s(h){var a,p,C;for(h==null&&(h=[]),this.managedAttachments={},p=0,C=h.length;C>p;p++)a=h[p],this.manageAttachment(a)}return y(s,b),s.prototype.getAttachments=function(){var h,a,p,C;p=this.managedAttachments,C=[];for(a in p)h=p[a],C.push(h);return C},s.prototype.manageAttachment=function(h){var a,p;return(a=this.managedAttachments)[p=h.id]!=null?a[p]:a[p]=new n.ManagedAttachment(this,h)},s.prototype.attachmentIsManaged=function(h){return h.id in this.managedAttachments},s.prototype.requestRemovalOfAttachment=function(h){var a;return this.attachmentIsManaged(h)&&(a=this.delegate)!=null&&typeof a.attachmentManagerDidRequestRemovalOfAttachment=="function"?a.attachmentManagerDidRequestRemovalOfAttachment(h):void 0},s.prototype.unmanageAttachment=function(h){var a;return a=this.managedAttachments[h.id],delete this.managedAttachments[h.id],a},s}(n.BasicObject)}.call(this),function(){var y,c,b,s,h,a,p,C,f,m,_;y=n.elementContainsNode,c=n.findChildIndexOfNode,h=n.nodeIsBlockStart,a=n.nodeIsBlockStartComment,s=n.nodeIsBlockContainer,p=n.nodeIsCursorTarget,C=n.nodeIsEmptyTextNode,f=n.nodeIsTextNode,b=n.nodeIsAttachmentElement,m=n.tagName,_=n.walkTree,n.LocationMapper=function(){function u(d){this.element=d}var w,v,R,o;return u.prototype.findLocationFromContainerAndOffset=function(d,S,k){var T,D,M,W,K,Z,z;for(Z=(k??{strict:!0}).strict,D=0,M=!1,W={index:0,offset:0},(T=this.findAttachmentElementParentForNode(d))&&(d=T.parentNode,S=c(T)),z=_(this.element,{usingFilter:R});z.nextNode();){if(K=z.currentNode,K===d&&f(d)){p(K)||(W.offset+=S);break}if(K.parentNode===d){if(D++===S)break}else if(!y(d,K)&&D>0)break;h(K,{strict:Z})?(M&&W.index++,W.offset=0,M=!0):W.offset+=v(K)}return W},u.prototype.findContainerAndOffsetFromLocation=function(d){var S,k,T,D,M;if(d.index===0&&d.offset===0){for(S=this.element,D=0;S.firstChild;)if(S=S.firstChild,s(S)){D=1;break}return[S,D]}if(M=this.findNodeAndOffsetFromLocation(d),k=M[0],T=M[1],k){if(f(k))v(k)===0?(S=k.parentNode.parentNode,D=c(k.parentNode),p(k,{name:"right"})&&D++):(S=k,D=d.offset-T);else{if(S=k.parentNode,!h(k.previousSibling)&&!s(S))for(;k===S.lastChild&&(k=S,S=S.parentNode,!s(S)););D=c(k),d.offset!==0&&D++}return[S,D]}},u.prototype.findNodeAndOffsetFromLocation=function(d){var S,k,T,D,M,W,K,Z;for(K=0,Z=this.getSignificantNodesForIndex(d.index),k=0,T=Z.length;T>k;k++){if(S=Z[k],D=v(S),d.offset<=K+D)if(f(S)){if(M=S,W=K,d.offset===W&&p(M))break}else M||(M=S,W=K);if(K+=D,K>d.offset)break}return[M,W]},u.prototype.findAttachmentElementParentForNode=function(d){for(;d&&d!==this.element;){if(b(d))return d;d=d.parentNode}},u.prototype.getSignificantNodesForIndex=function(d){var S,k,T,D,M;for(T=[],M=_(this.element,{usingFilter:w}),D=!1;M.nextNode();)if(k=M.currentNode,a(k)){if(typeof S<"u"&&S!==null?S++:S=0,S===d)D=!0;else if(D)break}else D&&T.push(k);return T},v=function(d){var S;return d.nodeType===Node.TEXT_NODE?p(d)?0:(S=d.textContent,S.length):m(d)==="br"||b(d)?1:0},w=function(d){return o(d)===NodeFilter.FILTER_ACCEPT?R(d):NodeFilter.FILTER_REJECT},o=function(d){return C(d)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},R=function(d){return b(d.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},u}()}.call(this),function(){var y,c,b=[].slice;y=n.getDOMRange,c=n.setDOMRange,n.PointMapper=function(){function s(){}return s.prototype.createDOMRangeFromPoint=function(h){var a,p,C,f,m,_,u,w;if(u=h.x,w=h.y,document.caretPositionFromPoint)return m=document.caretPositionFromPoint(u,w),C=m.offsetNode,p=m.offset,a=document.createRange(),a.setStart(C,p),a;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(u,w);if(document.body.createTextRange){f=y();try{_=document.body.createTextRange(),_.moveToPoint(u,w),_.select()}catch{}return a=y(),c(f),a}},s.prototype.getClientRectsForDOMRange=function(h){var a,p,C;return p=b.call(h.getClientRects()),C=p[0],a=p[p.length-1],[C,a]},s}()}.call(this),function(){var y,c=function(a,p){return function(){return a.apply(p,arguments)}},b=function(a,p){function C(){this.constructor=a}for(var f in p)s.call(p,f)&&(a[f]=p[f]);return C.prototype=p.prototype,a.prototype=new C,a.__super__=p.prototype,a},s={}.hasOwnProperty,h=[].indexOf||function(a){for(var p=0,C=this.length;C>p;p++)if(p in this&&this[p]===a)return p;return-1};y=n.getDOMRange,n.SelectionChangeObserver=function(a){function p(){this.run=c(this.run,this),this.update=c(this.update,this),this.selectionManagers=[]}var C;return b(p,a),p.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},p.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},p.prototype.registerSelectionManager=function(f){return h.call(this.selectionManagers,f)<0?(this.selectionManagers.push(f),this.start()):void 0},p.prototype.unregisterSelectionManager=function(f){var m;return this.selectionManagers=function(){var _,u,w,v;for(w=this.selectionManagers,v=[],_=0,u=w.length;u>_;_++)m=w[_],m!==f&&v.push(m);return v}.call(this),this.selectionManagers.length===0?this.stop():void 0},p.prototype.notifySelectionManagersOfSelectionChange=function(){var f,m,_,u,w;for(_=this.selectionManagers,u=[],f=0,m=_.length;m>f;f++)w=_[f],u.push(w.selectionDidChange());return u},p.prototype.update=function(){var f;return f=y(),C(f,this.domRange)?void 0:(this.domRange=f,this.notifySelectionManagersOfSelectionChange())},p.prototype.reset=function(){return this.domRange=null,this.update()},p.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},C=function(f,m){return(f!=null?f.startContainer:void 0)===(m!=null?m.startContainer:void 0)&&(f!=null?f.startOffset:void 0)===(m!=null?m.startOffset:void 0)&&(f!=null?f.endContainer:void 0)===(m!=null?m.endContainer:void 0)&&(f!=null?f.endOffset:void 0)===(m!=null?m.endOffset:void 0)},p}(n.BasicObject),n.selectionChangeObserver==null&&(n.selectionChangeObserver=new n.SelectionChangeObserver)}.call(this),function(){var y,c,b,s,h,a,p,C,f,m,_=function(v,R){return function(){return v.apply(R,arguments)}},u=function(v,R){function o(){this.constructor=v}for(var d in R)w.call(R,d)&&(v[d]=R[d]);return o.prototype=R.prototype,v.prototype=new o,v.__super__=R.prototype,v},w={}.hasOwnProperty;b=n.getDOMSelection,c=n.getDOMRange,m=n.setDOMRange,y=n.elementContainsNode,a=n.nodeIsCursorTarget,h=n.innerElementIsActive,s=n.handleEvent,p=n.normalizeRange,C=n.rangeIsCollapsed,f=n.rangesAreEqual,n.SelectionManager=function(v){function R(o){this.element=o,this.selectionDidChange=_(this.selectionDidChange,this),this.didMouseDown=_(this.didMouseDown,this),this.locationMapper=new n.LocationMapper(this.element),this.pointMapper=new n.PointMapper,this.lockCount=0,s("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return u(R,v),R.prototype.getLocationRange=function(o){var d;return o==null&&(o={}),o.strict===!1?this.createLocationRangeFromDOMRange(c(),{strict:!1}):o.ignoreLock?this.currentLocationRange:(d=this.lockedLocationRange)!=null?d:this.currentLocationRange},R.prototype.setLocationRange=function(o){var d;if(!this.lockedLocationRange)return o=p(o),(d=this.createDOMRangeFromLocationRange(o))?(m(d),this.updateCurrentLocationRange(o)):void 0},R.prototype.setLocationRangeFromPointRange=function(o){var d,S;return o=p(o),S=this.getLocationAtPoint(o[0]),d=this.getLocationAtPoint(o[1]),this.setLocationRange([S,d])},R.prototype.getClientRectAtLocationRange=function(o){var d;return(d=this.createDOMRangeFromLocationRange(o))?this.getClientRectsForDOMRange(d)[1]:void 0},R.prototype.locationIsCursorTarget=function(o){var d,S;return S=this.findNodeAndOffsetFromLocation(o),d=S[0],S[1],a(d)},R.prototype.lock=function(){return this.lockCount++===0?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},R.prototype.unlock=function(){var o;return--this.lockCount===0&&(o=this.lockedLocationRange,this.lockedLocationRange=null,o!=null)?this.setLocationRange(o):void 0},R.prototype.clearSelection=function(){var o;return(o=b())!=null?o.removeAllRanges():void 0},R.prototype.selectionIsCollapsed=function(){var o;return((o=c())!=null?o.collapsed:void 0)===!0},R.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},R.prototype.createLocationRangeFromDOMRange=function(o,d){var S,k;if(o!=null&&this.domRangeWithinElement(o)&&(k=this.findLocationFromContainerAndOffset(o.startContainer,o.startOffset,d)))return o.collapsed||(S=this.findLocationFromContainerAndOffset(o.endContainer,o.endOffset,d)),p([k,S])},R.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),R.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),R.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),R.proxyMethod("pointMapper.createDOMRangeFromPoint"),R.proxyMethod("pointMapper.getClientRectsForDOMRange"),R.prototype.didMouseDown=function(){return this.pauseTemporarily()},R.prototype.pauseTemporarily=function(){var o,d,S,k;return this.paused=!0,d=function(T){return function(){var D,M,W;for(T.paused=!1,clearTimeout(k),M=0,W=S.length;W>M;M++)D=S[M],D.destroy();return y(document,T.element)?T.selectionDidChange():void 0}}(this),k=setTimeout(d,200),S=function(){var T,D,M,W;for(M=["mousemove","keydown"],W=[],T=0,D=M.length;D>T;T++)o=M[T],W.push(s(o,{onElement:document,withCallback:d}));return W}()},R.prototype.selectionDidChange=function(){return this.paused||h(this.element)?void 0:this.updateCurrentLocationRange()},R.prototype.updateCurrentLocationRange=function(o){var d;return(o??(o=this.createLocationRangeFromDOMRange(c())))&&!f(o,this.currentLocationRange)?(this.currentLocationRange=o,(d=this.delegate)!=null&&typeof d.locationRangeDidChange=="function"?d.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},R.prototype.createDOMRangeFromLocationRange=function(o){var d,S,k,T;return k=this.findContainerAndOffsetFromLocation(o[0]),S=C(o)?k:(T=this.findContainerAndOffsetFromLocation(o[1]))!=null?T:k,k!=null&&S!=null?(d=document.createRange(),d.setStart.apply(d,k),d.setEnd.apply(d,S),d):void 0},R.prototype.getLocationAtPoint=function(o){var d,S;return(d=this.createDOMRangeFromPoint(o))&&(S=this.createLocationRangeFromDOMRange(d))!=null?S[0]:void 0},R.prototype.domRangeWithinElement=function(o){return o.collapsed?y(this.element,o.startContainer):y(this.element,o.startContainer)&&y(this.element,o.endContainer)},R}(n.BasicObject)}.call(this),function(){var y,c,b,s,h=function(C,f){function m(){this.constructor=C}for(var _ in f)a.call(f,_)&&(C[_]=f[_]);return m.prototype=f.prototype,C.prototype=new m,C.__super__=f.prototype,C},a={}.hasOwnProperty,p=[].slice;b=n.rangeIsCollapsed,s=n.rangesAreEqual,c=n.objectsAreEqual,y=n.getBlockConfig,n.EditorController=function(C){function f(_){var u,w;this.editorElement=_.editorElement,u=_.document,w=_.html,this.selectionManager=new n.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new n.Composition,this.composition.delegate=this,this.attachmentManager=new n.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new n["Level"+n.config.input.getLevel()+"InputController"](this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new n.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new n.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new n.Editor(this.composition,this.selectionManager,this.editorElement),u!=null?this.editor.loadDocument(u):this.editor.loadHTML(w)}var m;return h(f,C),f.prototype.registerSelectionManager=function(){return n.selectionChangeObserver.registerSelectionManager(this.selectionManager)},f.prototype.unregisterSelectionManager=function(){return n.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},f.prototype.render=function(){return this.compositionController.render()},f.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},f.prototype.compositionDidChangeDocument=function(){return this.notifyEditorElement("document-change"),this.handlingInput?void 0:this.render()},f.prototype.compositionDidChangeCurrentAttributes=function(_){return this.currentAttributes=_,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})},f.prototype.compositionDidPerformInsertionAtRange=function(_){return this.pasting?this.pastedRange=_:void 0},f.prototype.compositionShouldAcceptFile=function(_){return this.notifyEditorElement("file-accept",{file:_})},f.prototype.compositionDidAddAttachment=function(_){var u;return u=this.attachmentManager.manageAttachment(_),this.notifyEditorElement("attachment-add",{attachment:u})},f.prototype.compositionDidEditAttachment=function(_){var u;return this.compositionController.rerenderViewForObject(_),u=this.attachmentManager.manageAttachment(_),this.notifyEditorElement("attachment-edit",{attachment:u}),this.notifyEditorElement("change")},f.prototype.compositionDidChangeAttachmentPreviewURL=function(_){return this.compositionController.invalidateViewForObject(_),this.notifyEditorElement("change")},f.prototype.compositionDidRemoveAttachment=function(_){var u;return u=this.attachmentManager.unmanageAttachment(_),this.notifyEditorElement("attachment-remove",{attachment:u})},f.prototype.compositionDidStartEditingAttachment=function(_,u){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(_),this.compositionController.installAttachmentEditorForAttachment(_,u),this.selectionManager.setLocationRange(this.attachmentLocationRange)},f.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},f.prototype.compositionDidRequestChangingSelectionToLocationRange=function(_){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=_,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},f.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},f.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},f.prototype.getSelectionManager=function(){return this.selectionManager},f.proxyMethod("getSelectionManager().setLocationRange"),f.proxyMethod("getSelectionManager().getLocationRange"),f.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(_){return this.removeAttachment(_)},f.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},f.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")},f.prototype.compositionControllerDidRender=function(){return this.requestedLocationRange!=null&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision},f.prototype.compositionControllerDidFocus=function(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")},f.prototype.compositionControllerDidBlur=function(){return this.notifyEditorElement("blur")},f.prototype.compositionControllerDidSelectAttachment=function(_,u){return this.toolbarController.hideDialog(),this.composition.editAttachment(_,u)},f.prototype.compositionControllerDidRequestDeselectingAttachment=function(_){var u,w;return u=(w=this.attachmentLocationRange)!=null?w:this.composition.document.getLocationRangeOfAttachment(_),this.selectionManager.setLocationRange(u[1])},f.prototype.compositionControllerWillUpdateAttachment=function(_){return this.editor.recordUndoEntry("Edit Attachment",{context:_.id,consolidatable:!0})},f.prototype.compositionControllerDidRequestRemovalOfAttachment=function(_){return this.removeAttachment(_)},f.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},f.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},f.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},f.prototype.inputControllerDidAllowUnhandledInput=function(){return this.notifyEditorElement("change")},f.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},f.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},f.prototype.inputControllerWillPerformFormatting=function(_){return this.recordFormattingUndoEntry(_)},f.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},f.prototype.inputControllerWillPaste=function(_){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:_})},f.prototype.inputControllerDidPaste=function(_){return _.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:_})},f.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},f.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},f.prototype.inputControllerWillPerformUndo=function(){return this.editor.undo()},f.prototype.inputControllerWillPerformRedo=function(){return this.editor.redo()},f.prototype.inputControllerDidReceiveKeyboardCommand=function(_){return this.toolbarController.applyKeyboardCommand(_)},f.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},f.prototype.inputControllerDidReceiveDragOverPoint=function(_){return this.selectionManager.setLocationRangeFromPointRange(_)},f.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},f.prototype.locationRangeDidChange=function(_){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!s(this.attachmentLocationRange,_)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")},f.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},f.prototype.toolbarDidInvokeAction=function(_){return this.invokeAction(_)},f.prototype.toolbarDidToggleAttribute=function(_){return this.recordFormattingUndoEntry(_),this.composition.toggleCurrentAttribute(_),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},f.prototype.toolbarDidUpdateAttribute=function(_,u){return this.recordFormattingUndoEntry(_),this.composition.setCurrentAttribute(_,u),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},f.prototype.toolbarDidRemoveAttribute=function(_){return this.recordFormattingUndoEntry(_),this.composition.removeCurrentAttribute(_),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},f.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},f.prototype.toolbarDidShowDialog=function(_){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:_})},f.prototype.toolbarDidHideDialog=function(_){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:_})},f.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},f.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},f.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:function(){return!0},perform:function(){return n.config.input.pickFiles(this.editor.insertFiles)}}},f.prototype.canInvokeAction=function(_){var u,w;return this.actionIsExternal(_)?!0:!!((u=this.actions[_])!=null&&(w=u.test)!=null&&w.call(this))},f.prototype.invokeAction=function(_){var u,w;return this.actionIsExternal(_)?this.notifyEditorElement("action-invoke",{actionName:_}):(u=this.actions[_])!=null&&(w=u.perform)!=null?w.call(this):void 0},f.prototype.actionIsExternal=function(_){return/^x-./.test(_)},f.prototype.getCurrentActions=function(){var _,u;u={};for(_ in this.actions)u[_]=this.canInvokeAction(_);return u},f.prototype.updateCurrentActions=function(){var _;return _=this.getCurrentActions(),c(_,this.currentActions)?void 0:(this.currentActions=_,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions}))},f.prototype.runEditorFilters=function(){var _,u,w,v,R,o,d,S;for(S=this.composition.getSnapshot(),R=this.editor.filters,w=0,v=R.length;v>w;w++)u=R[w],_=S.document,d=S.selectedRange,S=(o=u.call(this.editor,S))!=null?o:{},S.document==null&&(S.document=_),S.selectedRange==null&&(S.selectedRange=d);return m(S,this.composition.getSnapshot())?void 0:this.composition.loadSnapshot(S)},m=function(_,u){return s(_.selectedRange,u.selectedRange)&&_.document.isEqualTo(u.document)},f.prototype.updateInputElement=function(){var _,u;return _=this.compositionController.getSerializableElement(),u=n.serializeToContentType(_,"text/html"),this.editorElement.setInputElementValue(u)},f.prototype.notifyEditorElement=function(_,u){switch(_){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(_,u)},f.prototype.removeAttachment=function(_){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(_),this.render()},f.prototype.recordFormattingUndoEntry=function(_){var u,w;return u=y(_),w=this.selectionManager.getLocationRange(),u||!b(w)?this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0}):void 0},f.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},f.prototype.getUndoContext=function(){var _;return _=1<=arguments.length?p.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(p.call(_))},f.prototype.getLocationContext=function(){var _;return _=this.selectionManager.getLocationRange(),b(_)?_[0].index:_},f.prototype.getTimeContext=function(){return n.config.undoInterval>0?Math.floor(new Date().getTime()/n.config.undoInterval):0},f.prototype.isFocused=function(){var _;return this.editorElement===((_=this.editorElement.ownerDocument)!=null?_.activeElement:void 0)},f.prototype.isFocusedInvisibly=function(){return this.isFocused()&&!this.getLocationRange()},f}(n.Controller)}.call(this),function(){var y,c,b,s,h,a,p,C=[].indexOf||function(f){for(var m=0,_=this.length;_>m;m++)if(m in this&&this[m]===f)return m;return-1};c=n.browser,a=n.makeElement,p=n.triggerEvent,s=n.handleEvent,h=n.handleEventOnce,b=n.findClosestElementFromNode,y=n.AttachmentView.attachmentSelector,n.registerElement("trix-editor",function(){var f,m,_,u,w,v,R,o,d;return R=0,m=function(S){return!document.querySelector(":focus")&&S.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===S?S.focus():void 0},o=function(S){return S.hasAttribute("contenteditable")?void 0:(S.setAttribute("contenteditable",""),h("focus",{onElement:S,withCallback:function(){return _(S)}}))},_=function(S){return w(S),d(S)},w=function(S){return typeof document.queryCommandSupported=="function"&&document.queryCommandSupported("enableObjectResizing")?(document.execCommand("enableObjectResizing",!1,!1),s("mscontrolselect",{onElement:S,preventDefault:!0})):void 0},d=function(){var S;return typeof document.queryCommandSupported=="function"&&document.queryCommandSupported("DefaultParagraphSeparator")&&(S=n.config.blockAttributes.default.tagName,S==="div"||S==="p")?document.execCommand("DefaultParagraphSeparator",!1,S):void 0},f=function(S){return S.hasAttribute("role")?void 0:S.setAttribute("role","textbox")},v=function(S){var k;if(!S.hasAttribute("aria-label")&&!S.hasAttribute("aria-labelledby"))return(k=function(){var T,D,M;return M=function(){var W,K,Z,z;for(Z=S.labels,z=[],W=0,K=Z.length;K>W;W++)T=Z[W],T.contains(S)||z.push(T.textContent);return z}(),(D=M.join(" "))?S.setAttribute("aria-label",D):S.removeAttribute("aria-label")})(),s("focus",{onElement:S,withCallback:k})},u=function(){return c.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"}}(),{defaultCSS:`%t {
  display: block;
}

%t:empty:not(:focus)::before {
  content: attr(placeholder);
  color: graytext;
  cursor: text;
  pointer-events: none;
}

%t a[contenteditable=false] {
  cursor: text;
}

%t img {
  max-width: 100%;
  height: auto;
}

%t `+y+` figcaption textarea {
  resize: none;
}

%t `+y+` figcaption textarea.trix-autoresize-clone {
  position: absolute;
  left: -9999px;
  max-height: 0px;
}

%t `+y+` figcaption[data-trix-placeholder]:empty::before {
  content: attr(data-trix-placeholder);
  color: graytext;
}

%t [data-trix-cursor-target] {
  display: `+u.display+` !important;
  width: `+u.width+` !important;
  padding: 0 !important;
  margin: 0 !important;
  border: none !important;
}

%t [data-trix-cursor-target=left] {
  vertical-align: top !important;
  margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
  vertical-align: bottom !important;
  margin-right: -1px !important;
}`,trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++R),this.trixId)}},labels:{get:function(){var S,k,T;return k=[],this.id&&this.ownerDocument&&k.push.apply(k,this.ownerDocument.querySelectorAll("label[for='"+this.id+"']")),(S=b(this,{matchingSelector:"label"}))&&((T=S.control)===this||T===null)&&k.push(S),k}},toolbarElement:{get:function(){var S,k,T;return this.hasAttribute("toolbar")?(k=this.ownerDocument)!=null?k.getElementById(this.getAttribute("toolbar")):void 0:this.parentNode?(T="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",T),S=a("trix-toolbar",{id:T}),this.parentNode.insertBefore(S,this),S):void 0}},inputElement:{get:function(){var S,k,T;return this.hasAttribute("input")?(T=this.ownerDocument)!=null?T.getElementById(this.getAttribute("input")):void 0:this.parentNode?(k="trix-input-"+this.trixId,this.setAttribute("input",k),S=a("input",{type:"hidden",id:k}),this.parentNode.insertBefore(S,this.nextElementSibling),S):void 0}},editor:{get:function(){var S;return(S=this.editorController)!=null?S.editor:void 0}},name:{get:function(){var S;return(S=this.inputElement)!=null?S.name:void 0}},value:{get:function(){var S;return(S=this.inputElement)!=null?S.value:void 0},set:function(S){var k;return this.defaultValue=S,(k=this.editor)!=null?k.loadHTML(this.defaultValue):void 0}},notify:function(S,k){return this.editorController?p("trix-"+S,{onElement:this,attributes:k}):void 0},setInputElementValue:function(S){var k;return(k=this.inputElement)!=null?k.value=S:void 0},initialize:function(){return this.hasAttribute("data-trix-internal")?void 0:(o(this),f(this),v(this))},connect:function(){return this.hasAttribute("data-trix-internal")?void 0:(this.editorController||(p("trix-before-initialize",{onElement:this}),this.editorController=new n.EditorController({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(function(S){return function(){return p("trix-initialize",{onElement:S})}}(this))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),m(this))},disconnect:function(){var S;return(S=this.editorController)!=null&&S.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},registerClickListener:function(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)},unregisterClickListener:function(){return window.removeEventListener("click",this.clickListener,!1)},resetBubbled:function(S){var k;if(!S.defaultPrevented&&S.target===((k=this.inputElement)!=null?k.form:void 0))return this.reset()},clickBubbled:function(S){var k;if(!(S.defaultPrevented||this.contains(S.target)||!(k=b(S.target,{matchingSelector:"label"}))||C.call(this.labels,k)<0))return this.focus()},reset:function(){return this.value=this.defaultValue}}}())}.call(this),function(){}.call(this)}).call(this),O.exports&&(O.exports=n)}.call(De)})(Fl);var by=Fl.exports;const _y=uu(by);window.Trix=_y;window.posaljiPoruku=function(O){var L=$("#poruka"+O).val(),n=$("#ime"+O).val(),y=$("#id_posiljalac"+O).val(),c=$("#id_primalac"+O).val();const b={method:"post",url:"/posalji-poruku",data:{ime:n,poruka:L,id_posiljalac:y,id_primalac:c,id_chat:O},trasnformResponse:[s=>s]};axios(b),$("#poruka"+O).val("")};var zo=$(".aktivnePoruke").data("id"),pl=document.getElementById("poruke"+zo);window.Echo.channel("chat-"+zo).listen(".message",O=>{console.log(zo),O.id_posiljaoca!=$("#id_posiljalac"+zo).val()?(pl.innerHTML+='<div class="chat-messages p-4"><div class="chat-message-left pb-4"><div><img src="https://e-karton.rs/img/doctor.png" class="rounded-circle mr-1" alt="Chris Wood" width="40" height="40"><div class="text-muted small text-nowrap mt-2">'+O.vreme+'</div></div><div class="flex-shrink-1 bg-light rounded py-2 px-3 mr-3" style="margin-left: 20px;"><div class="font-weight-bold mb-1"><strong>'+O.ime+"</strong></div>"+O.poruka+"</div></div></div>",$(".aktivnePoruke").animate({scrollTop:$(".aktivnePoruke").get(0).scrollHeight*1e4},2e3)):(pl.innerHTML+='<div class="chat-messages p-4"><div class="chat-message-right pb-4"><div><img src="https://e-karton.rs/img/doctor.png" class="rounded-circle mr-1" alt="Chris Wood" width="40" height="40"><div class="text-muted small text-nowrap mt-2">'+O.vreme+'</div></div><div class="flex-shrink-1 bg-light rounded py-2 px-3 mr-3" style="margin-right: 20px;"><div class="font-weight-bold mb-1"><strong>Vi</strong></div>'+O.poruka+"</div></div></div>",$(".aktivnePoruke").animate({scrollTop:$(".aktivnePoruke").get(0).scrollHeight*1e4},2e3))});
